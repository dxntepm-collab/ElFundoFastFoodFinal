var dx=t=>{throw TypeError(t)};var xy=(t,e,n)=>e.has(t)||dx("Cannot "+n);var G=(t,e,n)=>(xy(t,e,"read from private field"),n?n.call(t):e.get(t)),Ye=(t,e,n)=>e.has(t)?dx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),xe=(t,e,n,r)=>(xy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),On=(t,e,n)=>(xy(t,e,"access private method"),n);var xh=(t,e,n,r)=>({set _(i){xe(t,e,i,n)},get _(){return G(t,e,r)}});function sI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function aI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oI={exports:{}},tg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4=Symbol.for("react.transitional.element"),V4=Symbol.for("react.fragment");function lI(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:j4,type:t,key:r,ref:e!==void 0?e:null,props:n}}tg.Fragment=V4;tg.jsx=lI;tg.jsxs=lI;oI.exports=tg;var p=oI.exports,cI={exports:{}},ng={},uI={exports:{}},dI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,W){var q=H.length;H.push(W);e:for(;0<q;){var V=q-1>>>1,L=H[V];if(0<i(L,W))H[V]=W,H[q]=L,q=V;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],q=H.pop();if(q!==W){H[0]=q;e:for(var V=0,L=H.length,J=L>>>1;V<J;){var Q=2*(V+1)-1,Z=H[Q],le=Q+1,be=H[le];if(0>i(Z,q))le<L&&0>i(be,Z)?(H[V]=be,H[le]=q,V=le):(H[V]=Z,H[Q]=q,V=Q);else if(le<L&&0>i(be,q))H[V]=be,H[le]=q,V=le;else break e}}return W}function i(H,W){var q=H.sortIndex-W.sortIndex;return q!==0?q:H.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,m=!1,w=!1,g=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=H)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function P(H){if(g=!1,R(H),!w)if(n(l)!==null)w=!0,k||(k=!0,O());else{var W=n(c);W!==null&&ue(P,W.startTime-H)}}var k=!1,x=-1,A=5,C=-1;function I(){return E?!0:!(t.unstable_now()-C<A)}function D(){if(E=!1,k){var H=t.unstable_now();C=H;var W=!0;try{e:{w=!1,g&&(g=!1,_(x),x=-1),m=!0;var q=h;try{t:{for(R(H),f=n(l);f!==null&&!(f.expirationTime>H&&I());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var L=V(f.expirationTime<=H);if(H=t.unstable_now(),typeof L=="function"){f.callback=L,R(H),W=!0;break t}f===n(l)&&r(l),R(H)}else r(l);f=n(l)}if(f!==null)W=!0;else{var J=n(c);J!==null&&ue(P,J.startTime-H),W=!1}}break e}finally{f=null,h=q,m=!1}W=void 0}}finally{W?O():k=!1}}}var O;if(typeof T=="function")O=function(){T(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ee=M.port2;M.port1.onmessage=D,O=function(){ee.postMessage(null)}}else O=function(){b(D,0)};function ue(H,W){x=b(function(){H(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(H){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var q=h;h=W;try{return H()}finally{h=q}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=h;h=H;try{return W()}finally{h=q}},t.unstable_scheduleCallback=function(H,W,q){var V=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?V+q:V):q=V,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,H={id:u++,callback:W,priorityLevel:H,startTime:q,expirationTime:L,sortIndex:-1},q>V?(H.sortIndex=q,e(c,H),n(l)===null&&H===n(c)&&(g?(_(x),x=-1):g=!0,ue(P,q-V))):(H.sortIndex=L,e(l,H),w||m||(w=!0,k||(k=!0,O()))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var W=h;return function(){var q=h;h=W;try{return H.apply(this,arguments)}finally{h=q}}}})(dI);uI.exports=dI;var L4=uI.exports,fI={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw=Symbol.for("react.transitional.element"),k4=Symbol.for("react.portal"),U4=Symbol.for("react.fragment"),F4=Symbol.for("react.strict_mode"),B4=Symbol.for("react.profiler"),z4=Symbol.for("react.consumer"),H4=Symbol.for("react.context"),q4=Symbol.for("react.forward_ref"),G4=Symbol.for("react.suspense"),$4=Symbol.for("react.memo"),hI=Symbol.for("react.lazy"),K4=Symbol.for("react.activity"),fx=Symbol.iterator;function Y4(t){return t===null||typeof t!="object"?null:(t=fx&&t[fx]||t["@@iterator"],typeof t=="function"?t:null)}var mI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pI=Object.assign,gI={};function yu(t,e,n){this.props=t,this.context=e,this.refs=gI,this.updater=n||mI}yu.prototype.isReactComponent={};yu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yI(){}yI.prototype=yu.prototype;function fw(t,e,n){this.props=t,this.context=e,this.refs=gI,this.updater=n||mI}var hw=fw.prototype=new yI;hw.constructor=fw;pI(hw,yu.prototype);hw.isPureReactComponent=!0;var hx=Array.isArray;function Zv(){}var At={H:null,A:null,T:null,S:null},vI=Object.prototype.hasOwnProperty;function mw(t,e,n){var r=n.ref;return{$$typeof:dw,type:t,key:e,ref:r!==void 0?r:null,props:n}}function W4(t,e){return mw(t.type,e,t.props)}function pw(t){return typeof t=="object"&&t!==null&&t.$$typeof===dw}function Q4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mx=/\/+/g;function Sy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Q4(""+t.key):e.toString(36)}function X4(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Zv,Zv):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ql(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case dw:case k4:a=!0;break;case hI:return a=t._init,Ql(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+Sy(t,0):r,hx(i)?(n="",a!=null&&(n=a.replace(mx,"$&/")+"/"),Ql(i,e,n,"",function(c){return c})):i!=null&&(pw(i)&&(i=W4(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(mx,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(hx(t))for(var l=0;l<t.length;l++)r=t[l],s=o+Sy(r,l),a+=Ql(r,e,n,s,i);else if(l=Y4(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+Sy(r,l++),a+=Ql(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Ql(X4(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Sh(t,e,n){if(t==null)return t;var r=[],i=0;return Ql(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Z4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var px=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},J4={map:Sh,forEach:function(t,e,n){Sh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sh(t,function(){e++}),e},toArray:function(t){return Sh(t,function(e){return e})||[]},only:function(t){if(!pw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Activity=K4;Ie.Children=J4;Ie.Component=yu;Ie.Fragment=U4;Ie.Profiler=B4;Ie.PureComponent=fw;Ie.StrictMode=F4;Ie.Suspense=G4;Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At;Ie.__COMPILER_RUNTIME={__proto__:null,c:function(t){return At.H.useMemoCache(t)}};Ie.cache=function(t){return function(){return t.apply(null,arguments)}};Ie.cacheSignal=function(){return null};Ie.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=pI({},t.props),i=t.key;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)!vI.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return mw(t.type,i,r)};Ie.createContext=function(t){return t={$$typeof:H4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:z4,_context:t},t};Ie.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)vI.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return mw(t,s,i)};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:q4,render:t}};Ie.isValidElement=pw;Ie.lazy=function(t){return{$$typeof:hI,_payload:{_status:-1,_result:t},_init:Z4}};Ie.memo=function(t,e){return{$$typeof:$4,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=At.T,n={};At.T=n;try{var r=t(),i=At.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Zv,px)}catch(s){px(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),At.T=e}};Ie.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()};Ie.use=function(t){return At.H.use(t)};Ie.useActionState=function(t,e,n){return At.H.useActionState(t,e,n)};Ie.useCallback=function(t,e){return At.H.useCallback(t,e)};Ie.useContext=function(t){return At.H.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t,e){return At.H.useDeferredValue(t,e)};Ie.useEffect=function(t,e){return At.H.useEffect(t,e)};Ie.useEffectEvent=function(t){return At.H.useEffectEvent(t)};Ie.useId=function(){return At.H.useId()};Ie.useImperativeHandle=function(t,e,n){return At.H.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return At.H.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return At.H.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return At.H.useMemo(t,e)};Ie.useOptimistic=function(t,e){return At.H.useOptimistic(t,e)};Ie.useReducer=function(t,e,n){return At.H.useReducer(t,e,n)};Ie.useRef=function(t){return At.H.useRef(t)};Ie.useState=function(t){return At.H.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return At.H.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return At.H.useTransition()};Ie.version="19.2.0";fI.exports=Ie;var v=fI.exports;const ne=aI(v),gw=sI({__proto__:null,default:ne},[v]);var bI={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5=v;function wI(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function oa(){}var Yn={d:{f:oa,r:function(){throw Error(wI(522))},D:oa,C:oa,L:oa,m:oa,X:oa,S:oa,M:oa},p:0,findDOMNode:null},t5=Symbol.for("react.portal");function n5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:t5,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var xd=e5.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function rg(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Yn;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(wI(299));return n5(t,e,null,n)};Zn.flushSync=function(t){var e=xd.T,n=Yn.p;try{if(xd.T=null,Yn.p=2,t)return t()}finally{xd.T=e,Yn.p=n,Yn.d.f()}};Zn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Yn.d.C(t,e))};Zn.prefetchDNS=function(t){typeof t=="string"&&Yn.d.D(t)};Zn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=rg(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Yn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Yn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=rg(e.as,e.crossOrigin);Yn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Yn.d.M(t)};Zn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=rg(n,e.crossOrigin);Yn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=rg(e.as,e.crossOrigin);Yn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Yn.d.m(t)};Zn.requestFormReset=function(t){Yn.d.r(t)};Zn.unstable_batchedUpdates=function(t,e){return t(e)};Zn.useFormState=function(t,e,n){return xd.H.useFormState(t,e,n)};Zn.useFormStatus=function(){return xd.H.useHostTransitionStatus()};Zn.version="19.2.0";function _I(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_I)}catch(t){console.error(t)}}_I(),bI.exports=Zn;var Rl=bI.exports;const yw=aI(Rl),r5=sI({__proto__:null,default:yw},[Rl]);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=L4,EI=v,i5=Rl;function K(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function TI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SI(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gx(t){if(Mf(t)!==t)throw Error(K(188))}function s5(t){var e=t.alternate;if(!e){if(e=Mf(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gx(i),t;if(s===r)return gx(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function AI(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=AI(t),e!==null)return e;t=t.sibling}return null}var Rt=Object.assign,a5=Symbol.for("react.element"),Ah=Symbol.for("react.transitional.element"),ld=Symbol.for("react.portal"),rc=Symbol.for("react.fragment"),CI=Symbol.for("react.strict_mode"),Jv=Symbol.for("react.profiler"),RI=Symbol.for("react.consumer"),xs=Symbol.for("react.context"),vw=Symbol.for("react.forward_ref"),e0=Symbol.for("react.suspense"),t0=Symbol.for("react.suspense_list"),bw=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),n0=Symbol.for("react.activity"),o5=Symbol.for("react.memo_cache_sentinel"),yx=Symbol.iterator;function Yu(t){return t===null||typeof t!="object"?null:(t=yx&&t[yx]||t["@@iterator"],typeof t=="function"?t:null)}var l5=Symbol.for("react.client.reference");function r0(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===l5?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rc:return"Fragment";case Jv:return"Profiler";case CI:return"StrictMode";case e0:return"Suspense";case t0:return"SuspenseList";case n0:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ld:return"Portal";case xs:return t.displayName||"Context";case RI:return(t._context.displayName||"Context")+".Consumer";case vw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bw:return e=t.displayName||null,e!==null?e:r0(t.type)||"Memo";case pa:e=t._payload,t=t._init;try{return r0(t(e))}catch{}}return null}var cd=Array.isArray,Te=EI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i5.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nl={pending:!1,data:null,method:null,action:null},i0=[],ic=-1;function ss(t){return{current:t}}function _n(t){0>ic||(t.current=i0[ic],i0[ic]=null,ic--)}function bt(t,e){ic++,i0[ic]=t.current,t.current=e}var Gi=ss(null),Yd=ss(null),Ua=ss(null),km=ss(null);function Um(t,e){switch(bt(Ua,e),bt(Yd,t),bt(Gi,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?TS(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=TS(e),t=YD(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_n(Gi),bt(Gi,t)}function Gc(){_n(Gi),_n(Yd),_n(Ua)}function s0(t){t.memoizedState!==null&&bt(km,t);var e=Gi.current,n=YD(e,t.type);e!==n&&(bt(Yd,t),bt(Gi,n))}function Fm(t){Yd.current===t&&(_n(Gi),_n(Yd)),km.current===t&&(_n(km),af._currentValue=nl)}var Ay,vx;function jo(t){if(Ay===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ay=e&&e[1]||"",vx=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ay+t+vx}var Cy=!1;function Ry(t,e){if(!t||Cy)return"";Cy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){h=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u=`
`+l[r].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=r&&0<=i);break}}}finally{Cy=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?jo(n):""}function c5(t,e){switch(t.tag){case 26:case 27:case 5:return jo(t.type);case 16:return jo("Lazy");case 13:return t.child!==e&&e!==null?jo("Suspense Fallback"):jo("Suspense");case 19:return jo("SuspenseList");case 0:case 15:return Ry(t.type,!1);case 11:return Ry(t.type.render,!1);case 1:return Ry(t.type,!0);case 31:return jo("Activity");default:return""}}function bx(t){try{var e="",n=null;do e+=c5(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var a0=Object.prototype.hasOwnProperty,ww=dn.unstable_scheduleCallback,Iy=dn.unstable_cancelCallback,u5=dn.unstable_shouldYield,d5=dn.unstable_requestPaint,Ir=dn.unstable_now,f5=dn.unstable_getCurrentPriorityLevel,II=dn.unstable_ImmediatePriority,NI=dn.unstable_UserBlockingPriority,Bm=dn.unstable_NormalPriority,h5=dn.unstable_LowPriority,DI=dn.unstable_IdlePriority,m5=dn.log,p5=dn.unstable_setDisableYieldValue,Of=null,Nr=null;function Da(t){if(typeof m5=="function"&&p5(t),Nr&&typeof Nr.setStrictMode=="function")try{Nr.setStrictMode(Of,t)}catch{}}var Dr=Math.clz32?Math.clz32:v5,g5=Math.log,y5=Math.LN2;function v5(t){return t>>>=0,t===0?32:31-(g5(t)/y5|0)|0}var Ch=256,Rh=262144,Ih=4194304;function Vo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ig(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Vo(r):(a&=o,a!==0?i=Vo(a):n||(n=o&~t,n!==0&&(i=Vo(n))))):(o=r&~s,o!==0?i=Vo(o):a!==0?i=Vo(a):n||(n=r&~t,n!==0&&(i=Vo(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function jf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function b5(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PI(){var t=Ih;return Ih<<=1,!(Ih&62914560)&&(Ih=4194304),t}function Ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function w5(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var u=31-Dr(n),f=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&MI(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function MI(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Dr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function OI(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function jI(t,e){var n=e&-e;return n=n&42?1:_w(n),n&(t.suspendedLanes|e)?0:n}function _w(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ew(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function VI(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:sP(t.type))}function wx(t,e){var n=st.p;try{return st.p=t,e()}finally{st.p=n}}var yo=Math.random().toString(36).slice(2),Cn="__reactFiber$"+yo,fr="__reactProps$"+yo,vu="__reactContainer$"+yo,o0="__reactEvents$"+yo,_5="__reactListeners$"+yo,E5="__reactHandles$"+yo,_x="__reactResources$"+yo,Lf="__reactMarker$"+yo;function Tw(t){delete t[Cn],delete t[fr],delete t[o0],delete t[_5],delete t[E5]}function sc(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vu]||n[Cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RS(t);t!==null;){if(n=t[Cn])return n;t=RS(t)}return e}t=n,n=t.parentNode}return null}function bu(t){if(t=t[Cn]||t[vu]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ud(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(K(33))}function Ec(t){var e=t[_x];return e||(e=t[_x]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function bn(t){t[Lf]=!0}var LI=new Set,kI={};function Il(t,e){$c(t,e),$c(t+"Capture",e)}function $c(t,e){for(kI[t]=e,t=0;t<e.length;t++)LI.add(e[t])}var T5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ex={},Tx={};function x5(t){return a0.call(Tx,t)?!0:a0.call(Ex,t)?!1:T5.test(t)?Tx[t]=!0:(Ex[t]=!0,!1)}function am(t,e,n){if(x5(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Nh(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ms(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Kr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S5(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function l0(t){if(!t._valueTracker){var e=UI(t)?"checked":"value";t._valueTracker=S5(t,e,""+t[e])}}function FI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var A5=/[\n"\\]/g;function Qr(t){return t.replace(A5,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function c0(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Kr(e)):t.value!==""+Kr(e)&&(t.value=""+Kr(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?u0(t,a,Kr(e)):n!=null?u0(t,a,Kr(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Kr(o):t.removeAttribute("name")}function BI(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){l0(t);return}n=n!=null?""+Kr(n):"",e=e!=null?""+Kr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),l0(t)}function u0(t,e,n){e==="number"&&zm(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Tc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zI(t,e,n){if(e!=null&&(e=""+Kr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Kr(n):""}function HI(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(K(92));if(cd(r)){if(1<r.length)throw Error(K(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Kr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),l0(t)}function Kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var C5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xx(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||C5.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function qI(t,e,n){if(e!=null&&typeof e!="object")throw Error(K(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&xx(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&xx(t,s,e[s])}function xw(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),I5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function om(t){return I5.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ss(){}var d0=null;function Sw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ac=null,xc=null;function Sx(t){var e=bu(t);if(e&&(t=e.stateNode)){var n=t[fr]||null;e:switch(t=e.stateNode,e.type){case"input":if(c0(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[fr]||null;if(!i)throw Error(K(90));c0(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&FI(r)}break e;case"textarea":zI(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Tc(t,!!n.multiple,e,!1)}}}var Dy=!1;function GI(t,e,n){if(Dy)return t(e,n);Dy=!0;try{var r=t(e);return r}finally{if(Dy=!1,(ac!==null||xc!==null)&&(gg(),ac&&(e=ac,t=xc,xc=ac=null,Sx(e),t)))for(e=0;e<t.length;e++)Sx(t[e])}}function Wd(t,e){var n=t.stateNode;if(n===null)return null;var r=n[fr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f0=!1;if(ks)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){f0=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{f0=!1}var Pa=null,Aw=null,lm=null;function $I(){if(lm)return lm;var t,e=Aw,n=e.length,r,i="value"in Pa?Pa.value:Pa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return lm=i.slice(t,1<r?1-r:void 0)}function cm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dh(){return!0}function Ax(){return!1}function hr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dh:Ax,this.isPropagationStopped=Ax,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dh)},persist:function(){},isPersistent:Dh}),e}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sg=hr(Nl),kf=Rt({},Nl,{view:0,detail:0}),N5=hr(kf),Py,My,Qu,ag=Rt({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qu&&(Qu&&t.type==="mousemove"?(Py=t.screenX-Qu.screenX,My=t.screenY-Qu.screenY):My=Py=0,Qu=t),Py)},movementY:function(t){return"movementY"in t?t.movementY:My}}),Cx=hr(ag),D5=Rt({},ag,{dataTransfer:0}),P5=hr(D5),M5=Rt({},kf,{relatedTarget:0}),Oy=hr(M5),O5=Rt({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),j5=hr(O5),V5=Rt({},Nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L5=hr(V5),k5=Rt({},Nl,{data:0}),Rx=hr(k5),U5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=B5[t])?!!e[t]:!1}function Cw(){return z5}var H5=Rt({},kf,{key:function(t){if(t.key){var e=U5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cw,charCode:function(t){return t.type==="keypress"?cm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q5=hr(H5),G5=Rt({},ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ix=hr(G5),$5=Rt({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cw}),K5=hr($5),Y5=Rt({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),W5=hr(Y5),Q5=Rt({},ag,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X5=hr(Q5),Z5=Rt({},Nl,{newState:0,oldState:0}),J5=hr(Z5),eU=[9,13,27,32],Rw=ks&&"CompositionEvent"in window,Sd=null;ks&&"documentMode"in document&&(Sd=document.documentMode);var tU=ks&&"TextEvent"in window&&!Sd,KI=ks&&(!Rw||Sd&&8<Sd&&11>=Sd),Nx=" ",Dx=!1;function YI(t,e){switch(t){case"keyup":return eU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oc=!1;function nU(t,e){switch(t){case"compositionend":return WI(e);case"keypress":return e.which!==32?null:(Dx=!0,Nx);case"textInput":return t=e.data,t===Nx&&Dx?null:t;default:return null}}function rU(t,e){if(oc)return t==="compositionend"||!Rw&&YI(t,e)?(t=$I(),lm=Aw=Pa=null,oc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KI&&e.locale!=="ko"?null:e.data;default:return null}}var iU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iU[t.type]:e==="textarea"}function QI(t,e,n,r){ac?xc?xc.push(r):xc=[r]:ac=r,e=ap(e,"onChange"),0<e.length&&(n=new sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ad=null,Qd=null;function sU(t){GD(t,0)}function og(t){var e=ud(t);if(FI(e))return t}function Mx(t,e){if(t==="change")return e}var XI=!1;if(ks){var jy;if(ks){var Vy="oninput"in document;if(!Vy){var Ox=document.createElement("div");Ox.setAttribute("oninput","return;"),Vy=typeof Ox.oninput=="function"}jy=Vy}else jy=!1;XI=jy&&(!document.documentMode||9<document.documentMode)}function jx(){Ad&&(Ad.detachEvent("onpropertychange",ZI),Qd=Ad=null)}function ZI(t){if(t.propertyName==="value"&&og(Qd)){var e=[];QI(e,Qd,t,Sw(t)),GI(sU,e)}}function aU(t,e,n){t==="focusin"?(jx(),Ad=e,Qd=n,Ad.attachEvent("onpropertychange",ZI)):t==="focusout"&&jx()}function oU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return og(Qd)}function lU(t,e){if(t==="click")return og(e)}function cU(t,e){if(t==="input"||t==="change")return og(e)}function uU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:uU;function Xd(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!a0.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function Vx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lx(t,e){var n=Vx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vx(n)}}function JI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eN(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=zm(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zm(t.document)}return e}function Iw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var dU=ks&&"documentMode"in document&&11>=document.documentMode,lc=null,h0=null,Cd=null,m0=!1;function kx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;m0||lc==null||lc!==zm(r)||(r=lc,"selectionStart"in r&&Iw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cd&&Xd(Cd,r)||(Cd=r,r=ap(h0,"onSelect"),0<r.length&&(e=new sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lc)))}function Mo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cc={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionrun:Mo("Transition","TransitionRun"),transitionstart:Mo("Transition","TransitionStart"),transitioncancel:Mo("Transition","TransitionCancel"),transitionend:Mo("Transition","TransitionEnd")},Ly={},tN={};ks&&(tN=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function Dl(t){if(Ly[t])return Ly[t];if(!cc[t])return t;var e=cc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tN)return Ly[t]=e[n];return t}var nN=Dl("animationend"),rN=Dl("animationiteration"),iN=Dl("animationstart"),fU=Dl("transitionrun"),hU=Dl("transitionstart"),mU=Dl("transitioncancel"),sN=Dl("transitionend"),aN=new Map,p0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");p0.push("scrollEnd");function Si(t,e){aN.set(t,e),Il(e,[t])}var Hm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$r=[],uc=0,Nw=0;function lg(){for(var t=uc,e=Nw=uc=0;e<t;){var n=$r[e];$r[e++]=null;var r=$r[e];$r[e++]=null;var i=$r[e];$r[e++]=null;var s=$r[e];if($r[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&oN(n,i,s)}}function cg(t,e,n,r){$r[uc++]=t,$r[uc++]=e,$r[uc++]=n,$r[uc++]=r,Nw|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Dw(t,e,n,r){return cg(t,e,n,r),qm(t)}function Pl(t,e){return cg(t,null,null,e),qm(t)}function oN(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-Dr(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function qm(t){if(50<Vd)throw Vd=0,V0=null,Error(K(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var dc={};function pU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,e,n,r){return new pU(t,e,n,r)}function Pw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ds(t,e){var n=t.alternate;return n===null?(n=Ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function lN(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function um(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")Pw(t)&&(a=1);else if(typeof t=="string")a=w6(t,n,Gi.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case n0:return t=Ar(31,n,e,i),t.elementType=n0,t.lanes=s,t;case rc:return rl(n.children,i,s,e);case CI:a=8,i|=24;break;case Jv:return t=Ar(12,n,e,i|2),t.elementType=Jv,t.lanes=s,t;case e0:return t=Ar(13,n,e,i),t.elementType=e0,t.lanes=s,t;case t0:return t=Ar(19,n,e,i),t.elementType=t0,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xs:a=10;break e;case RI:a=9;break e;case vw:a=11;break e;case bw:a=14;break e;case pa:a=16,r=null;break e}a=29,n=Error(K(130,t===null?"null":typeof t,"")),r=null}return e=Ar(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rl(t,e,n,r){return t=Ar(7,t,r,e),t.lanes=n,t}function ky(t,e,n){return t=Ar(6,t,null,e),t.lanes=n,t}function cN(t){var e=Ar(18,null,null,0);return e.stateNode=t,e}function Uy(t,e,n){return e=Ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ux=new WeakMap;function Xr(t,e){if(typeof t=="object"&&t!==null){var n=Ux.get(t);return n!==void 0?n:(e={value:t,source:e,stack:bx(e)},Ux.set(t,e),e)}return{value:t,source:e,stack:bx(e)}}var fc=[],hc=0,Gm=null,Zd=0,Yr=[],Wr=0,eo=null,Bi=1,zi="";function _s(t,e){fc[hc++]=Zd,fc[hc++]=Gm,Gm=t,Zd=e}function uN(t,e,n){Yr[Wr++]=Bi,Yr[Wr++]=zi,Yr[Wr++]=eo,eo=t;var r=Bi;t=zi;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var s=32-Dr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Bi=1<<32-Dr(e)+i|n<<i|r,zi=s+t}else Bi=1<<s|n<<i|r,zi=t}function Mw(t){t.return!==null&&(_s(t,1),uN(t,1,0))}function Ow(t){for(;t===Gm;)Gm=fc[--hc],fc[hc]=null,Zd=fc[--hc],fc[hc]=null;for(;t===eo;)eo=Yr[--Wr],Yr[Wr]=null,zi=Yr[--Wr],Yr[Wr]=null,Bi=Yr[--Wr],Yr[Wr]=null}function dN(t,e){Yr[Wr++]=Bi,Yr[Wr++]=zi,Yr[Wr++]=eo,Bi=e.id,zi=e.overflow,eo=t}var Rn=null,St=null,We=!1,Fa=null,Zr=!1,g0=Error(K(519));function to(t){var e=Error(K(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jd(Xr(e,t)),g0}function Fx(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Cn]=t,e[fr]=r,n){case"dialog":Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":case"embed":Ve("load",e);break;case"video":case"audio":for(n=0;n<rf.length;n++)Ve(rf[n],e);break;case"source":Ve("error",e);break;case"img":case"image":case"link":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"input":Ve("invalid",e),BI(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ve("invalid",e);break;case"textarea":Ve("invalid",e),HI(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||KD(e.textContent,n)?(r.popover!=null&&(Ve("beforetoggle",e),Ve("toggle",e)),r.onScroll!=null&&Ve("scroll",e),r.onScrollEnd!=null&&Ve("scrollend",e),r.onClick!=null&&(e.onclick=Ss),e=!0):e=!1,e||to(t,!0)}function Bx(t){for(Rn=t.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:Rn=Rn.return}}function ql(t){if(t!==Rn)return!1;if(!We)return Bx(t),We=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||B0(t.type,t.memoizedProps)),n=!n),n&&St&&to(t),Bx(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));St=CS(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));St=CS(t)}else e===27?(e=St,vo(t.type)?(t=G0,G0=null,St=t):St=e):St=Rn?ni(t.stateNode.nextSibling):null;return!0}function fl(){St=Rn=null,We=!1}function Fy(){var t=Fa;return t!==null&&(sr===null?sr=t:sr.push.apply(sr,t),Fa=null),t}function Jd(t){Fa===null?Fa=[t]:Fa.push(t)}var y0=ss(null),Ml=null,As=null;function ya(t,e,n){bt(y0,e._currentValue),e._currentValue=n}function Ps(t){t._currentValue=y0.current,_n(y0)}function v0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function b0(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),v0(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(K(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),v0(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function wu(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(K(387));if(a=a.memoizedProps,a!==null){var o=i.type;Lr(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===km.current){if(a=i.alternate,a===null)throw Error(K(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(af):t=[af])}i=i.return}t!==null&&b0(e,t,n,r),e.flags|=262144}function $m(t){for(t=t.firstContext;t!==null;){if(!Lr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hl(t){Ml=t,As=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nn(t){return fN(Ml,t)}function Ph(t,e){return Ml===null&&hl(t),fN(t,e)}function fN(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},As===null){if(t===null)throw Error(K(308));As=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else As=As.next=e;return n}var gU=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},yU=dn.unstable_scheduleCallback,vU=dn.unstable_NormalPriority,nn={$$typeof:xs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jw(){return{controller:new gU,data:new Map,refCount:0}}function Uf(t){t.refCount--,t.refCount===0&&yU(vU,function(){t.controller.abort()})}var Rd=null,w0=0,Yc=0,Sc=null;function bU(t,e){if(Rd===null){var n=Rd=[];w0=0,Yc=a_(),Sc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return w0++,e.then(zx,zx),e}function zx(){if(--w0===0&&Rd!==null){Sc!==null&&(Sc.status="fulfilled");var t=Rd;Rd=null,Yc=0,Sc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function wU(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Hx=Te.S;Te.S=function(t,e){AD=Ir(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&bU(t,e),Hx!==null&&Hx(t,e)};var il=ss(null);function Vw(){var t=il.current;return t!==null?t:gt.pooledCache}function dm(t,e){e===null?bt(il,il.current):bt(il,e.pool)}function hN(){var t=Vw();return t===null?null:{parent:nn._currentValue,pool:t}}var _u=Error(K(460)),Lw=Error(K(474)),ug=Error(K(542)),Km={then:function(){}};function qx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mN(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ss,Ss),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,$x(t),t;default:if(typeof e.status=="string")e.then(Ss,Ss);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(K(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,$x(t),t}throw sl=e,_u}}function Lo(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(sl=n,_u):n}}var sl=null;function Gx(){if(sl===null)throw Error(K(459));var t=sl;return sl=null,t}function $x(t){if(t===_u||t===ug)throw Error(K(483))}var Ac=null,ef=0;function Mh(t){var e=ef;return ef+=1,Ac===null&&(Ac=[]),mN(Ac,t,e)}function Xu(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Oh(t,e){throw e.$$typeof===a5?Error(K(525)):(t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function pN(t){function e(b,_){if(t){var T=b.deletions;T===null?(b.deletions=[_],b.flags|=16):T.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b){for(var _=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(b,_){return b=Ds(b,_),b.index=0,b.sibling=null,b}function s(b,_,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<_?(b.flags|=67108866,_):T):(b.flags|=67108866,_)):(b.flags|=1048576,_)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,_,T,R){return _===null||_.tag!==6?(_=ky(T,b.mode,R),_.return=b,_):(_=i(_,T),_.return=b,_)}function l(b,_,T,R){var P=T.type;return P===rc?u(b,_,T.props.children,R,T.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===pa&&Lo(P)===_.type)?(_=i(_,T.props),Xu(_,T),_.return=b,_):(_=um(T.type,T.key,T.props,null,b.mode,R),Xu(_,T),_.return=b,_)}function c(b,_,T,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Uy(T,b.mode,R),_.return=b,_):(_=i(_,T.children||[]),_.return=b,_)}function u(b,_,T,R,P){return _===null||_.tag!==7?(_=rl(T,b.mode,R,P),_.return=b,_):(_=i(_,T),_.return=b,_)}function f(b,_,T){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=ky(""+_,b.mode,T),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ah:return T=um(_.type,_.key,_.props,null,b.mode,T),Xu(T,_),T.return=b,T;case ld:return _=Uy(_,b.mode,T),_.return=b,_;case pa:return _=Lo(_),f(b,_,T)}if(cd(_)||Yu(_))return _=rl(_,b.mode,T,null),_.return=b,_;if(typeof _.then=="function")return f(b,Mh(_),T);if(_.$$typeof===xs)return f(b,Ph(b,_),T);Oh(b,_)}return null}function h(b,_,T,R){var P=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return P!==null?null:o(b,_,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ah:return T.key===P?l(b,_,T,R):null;case ld:return T.key===P?c(b,_,T,R):null;case pa:return T=Lo(T),h(b,_,T,R)}if(cd(T)||Yu(T))return P!==null?null:u(b,_,T,R,null);if(typeof T.then=="function")return h(b,_,Mh(T),R);if(T.$$typeof===xs)return h(b,_,Ph(b,T),R);Oh(b,T)}return null}function m(b,_,T,R,P){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return b=b.get(T)||null,o(_,b,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ah:return b=b.get(R.key===null?T:R.key)||null,l(_,b,R,P);case ld:return b=b.get(R.key===null?T:R.key)||null,c(_,b,R,P);case pa:return R=Lo(R),m(b,_,T,R,P)}if(cd(R)||Yu(R))return b=b.get(T)||null,u(_,b,R,P,null);if(typeof R.then=="function")return m(b,_,T,Mh(R),P);if(R.$$typeof===xs)return m(b,_,T,Ph(_,R),P);Oh(_,R)}return null}function w(b,_,T,R){for(var P=null,k=null,x=_,A=_=0,C=null;x!==null&&A<T.length;A++){x.index>A?(C=x,x=null):C=x.sibling;var I=h(b,x,T[A],R);if(I===null){x===null&&(x=C);break}t&&x&&I.alternate===null&&e(b,x),_=s(I,_,A),k===null?P=I:k.sibling=I,k=I,x=C}if(A===T.length)return n(b,x),We&&_s(b,A),P;if(x===null){for(;A<T.length;A++)x=f(b,T[A],R),x!==null&&(_=s(x,_,A),k===null?P=x:k.sibling=x,k=x);return We&&_s(b,A),P}for(x=r(x);A<T.length;A++)C=m(x,b,A,T[A],R),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?A:C.key),_=s(C,_,A),k===null?P=C:k.sibling=C,k=C);return t&&x.forEach(function(D){return e(b,D)}),We&&_s(b,A),P}function g(b,_,T,R){if(T==null)throw Error(K(151));for(var P=null,k=null,x=_,A=_=0,C=null,I=T.next();x!==null&&!I.done;A++,I=T.next()){x.index>A?(C=x,x=null):C=x.sibling;var D=h(b,x,I.value,R);if(D===null){x===null&&(x=C);break}t&&x&&D.alternate===null&&e(b,x),_=s(D,_,A),k===null?P=D:k.sibling=D,k=D,x=C}if(I.done)return n(b,x),We&&_s(b,A),P;if(x===null){for(;!I.done;A++,I=T.next())I=f(b,I.value,R),I!==null&&(_=s(I,_,A),k===null?P=I:k.sibling=I,k=I);return We&&_s(b,A),P}for(x=r(x);!I.done;A++,I=T.next())I=m(x,b,A,I.value,R),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?A:I.key),_=s(I,_,A),k===null?P=I:k.sibling=I,k=I);return t&&x.forEach(function(O){return e(b,O)}),We&&_s(b,A),P}function E(b,_,T,R){if(typeof T=="object"&&T!==null&&T.type===rc&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ah:e:{for(var P=T.key;_!==null;){if(_.key===P){if(P=T.type,P===rc){if(_.tag===7){n(b,_.sibling),R=i(_,T.props.children),R.return=b,b=R;break e}}else if(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===pa&&Lo(P)===_.type){n(b,_.sibling),R=i(_,T.props),Xu(R,T),R.return=b,b=R;break e}n(b,_);break}else e(b,_);_=_.sibling}T.type===rc?(R=rl(T.props.children,b.mode,R,T.key),R.return=b,b=R):(R=um(T.type,T.key,T.props,null,b.mode,R),Xu(R,T),R.return=b,b=R)}return a(b);case ld:e:{for(P=T.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(b,_.sibling),R=i(_,T.children||[]),R.return=b,b=R;break e}else{n(b,_);break}else e(b,_);_=_.sibling}R=Uy(T,b.mode,R),R.return=b,b=R}return a(b);case pa:return T=Lo(T),E(b,_,T,R)}if(cd(T))return w(b,_,T,R);if(Yu(T)){if(P=Yu(T),typeof P!="function")throw Error(K(150));return T=P.call(T),g(b,_,T,R)}if(typeof T.then=="function")return E(b,_,Mh(T),R);if(T.$$typeof===xs)return E(b,_,Ph(b,T),R);Oh(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,_!==null&&_.tag===6?(n(b,_.sibling),R=i(_,T),R.return=b,b=R):(n(b,_),R=ky(T,b.mode,R),R.return=b,b=R),a(b)):n(b,_)}return function(b,_,T,R){try{ef=0;var P=E(b,_,T,R);return Ac=null,P}catch(x){if(x===_u||x===ug)throw x;var k=Ar(29,x,null,b.mode);return k.lanes=R,k.return=b,k}finally{}}}var ml=pN(!0),gN=pN(!1),ga=!1;function kw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ba(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function za(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=qm(t),oN(t,null,n),e}return cg(t,r,e,n),qm(t)}function Id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,OI(t,n)}}function By(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var E0=!1;function Nd(){if(E0){var t=Sc;if(t!==null)throw t}}function Dd(t,e,n,r){E0=!1;var i=t.updateQueue;ga=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane&-536870913,m=h!==o.lane;if(m?(Ge&h)===h:(r&h)===h){h!==0&&h===Yc&&(E0=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var w=t,g=o;h=e;var E=n;switch(g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(E,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,h=typeof w=="function"?w.call(E,f,h):w,h==null)break e;f=Rt({},f,h);break e;case 2:ga=!0}}h=o.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,s===null&&(i.shared.lanes=0),ro|=a,t.lanes=a,t.memoizedState=f}}function yN(t,e){if(typeof t!="function")throw Error(K(191,t));t.call(e)}function vN(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)yN(n[t],e)}var Wc=ss(null),Ym=ss(0);function Kx(t,e){t=zs,bt(Ym,t),bt(Wc,e),zs=t|e.baseLanes}function T0(){bt(Ym,zs),bt(Wc,Wc.current)}function Uw(){zs=Ym.current,_n(Wc),_n(Ym)}var kr=ss(null),ti=null;function va(t){var e=t.alternate;bt(Kt,Kt.current&1),bt(kr,t),ti===null&&(e===null||Wc.current!==null||e.memoizedState!==null)&&(ti=t)}function x0(t){bt(Kt,Kt.current),bt(kr,t),ti===null&&(ti=t)}function bN(t){t.tag===22?(bt(Kt,Kt.current),bt(kr,t),ti===null&&(ti=t)):ba()}function ba(){bt(Kt,Kt.current),bt(kr,kr.current)}function xr(t){_n(kr),ti===t&&(ti=null),_n(Kt)}var Kt=ss(0);function Wm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||H0(n)||q0(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Us=0,Ne=null,ft=null,en=null,Qm=!1,Cc=!1,pl=!1,Xm=0,tf=0,Rc=null,_U=0;function Ut(){throw Error(K(321))}function Fw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function Bw(t,e,n,r,i,s){return Us=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Te.H=t===null||t.memoizedState===null?QN:Zw,pl=!1,s=n(r,i),pl=!1,Cc&&(s=_N(e,n,r,i)),wN(t),s}function wN(t){Te.H=nf;var e=ft!==null&&ft.next!==null;if(Us=0,en=ft=Ne=null,Qm=!1,tf=0,Rc=null,e)throw Error(K(300));t===null||sn||(t=t.dependencies,t!==null&&$m(t)&&(sn=!0))}function _N(t,e,n,r){Ne=t;var i=0;do{if(Cc&&(Rc=null),tf=0,Cc=!1,25<=i)throw Error(K(301));if(i+=1,en=ft=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Te.H=XN,s=e(n,r)}while(Cc);return s}function EU(){var t=Te.H,e=t.useState()[0];return e=typeof e.then=="function"?Ff(e):e,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Ne.flags|=1024),e}function zw(){var t=Xm!==0;return Xm=0,t}function Hw(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function qw(t){if(Qm){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Qm=!1}Us=0,en=ft=Ne=null,Cc=!1,tf=Xm=0,Rc=null}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ne.memoizedState=en=t:en=en.next=t,en}function Wt(){if(ft===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=en===null?Ne.memoizedState:en.next;if(e!==null)en=e,ft=t;else{if(t===null)throw Ne.alternate===null?Error(K(467)):Error(K(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},en===null?Ne.memoizedState=en=t:en=en.next=t}return en}function dg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ff(t){var e=tf;return tf+=1,Rc===null&&(Rc=[]),t=mN(Rc,t,e),e=Ne,(en===null?e.memoizedState:en.next)===null&&(e=e.alternate,Te.H=e===null||e.memoizedState===null?QN:Zw),t}function fg(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ff(t);if(t.$$typeof===xs)return Nn(t)}throw Error(K(438,String(t)))}function Gw(t){var e=null,n=Ne.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ne.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=dg(),Ne.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=o5;return e.index++,n}function Fs(t,e){return typeof e=="function"?e(t):e}function fm(t){var e=Wt();return $w(e,ft,t)}function $w(t,e,n){var r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,c=e,u=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Ge&f)===f:(Us&f)===f){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Yc&&(u=!0);else if((Us&h)===h){c=c.next,h===Yc&&(u=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,Ne.lanes|=h,ro|=h;f=c.action,pl&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else h={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,a=s):l=l.next=h,Ne.lanes|=f,ro|=f;c=c.next}while(c!==null&&c!==e);if(l===null?a=s:l.next=o,!Lr(s,t.memoizedState)&&(sn=!0,u&&(n=Sc,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function zy(t){var e=Wt(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Lr(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function EN(t,e,n){var r=Ne,i=Wt(),s=We;if(s){if(n===void 0)throw Error(K(407));n=n()}else n=e();var a=!Lr((ft||i).memoizedState,n);if(a&&(i.memoizedState=n,sn=!0),i=i.queue,Kw(SN.bind(null,r,i,t),[t]),i.getSnapshot!==e||a||en!==null&&en.memoizedState.tag&1){if(r.flags|=2048,Qc(9,{destroy:void 0},xN.bind(null,r,i,n,e),null),gt===null)throw Error(K(349));s||Us&127||TN(r,e,n)}return n}function TN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e=dg(),Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xN(t,e,n,r){e.value=n,e.getSnapshot=r,AN(e)&&CN(t)}function SN(t,e,n){return n(function(){AN(e)&&CN(t)})}function AN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function CN(t){var e=Pl(t,2);e!==null&&dr(e,t,2)}function S0(t){var e=Gn();if(typeof t=="function"){var n=t;if(t=n(),pl){Da(!0);try{n()}finally{Da(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:t},e}function RN(t,e,n,r){return t.baseState=n,$w(t,ft,typeof r=="function"?r:Fs)}function TU(t,e,n,r,i){if(mg(t))throw Error(K(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Te.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,IN(e,s)):(s.next=n.next,e.pending=n.next=s)}}function IN(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=Te.T,a={};Te.T=a;try{var o=n(i,r),l=Te.S;l!==null&&l(a,o),Yx(t,e,o)}catch(c){A0(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),Te.T=s}}else try{s=n(i,r),Yx(t,e,s)}catch(c){A0(t,e,c)}}function Yx(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Wx(t,e,r)},function(r){return A0(t,e,r)}):Wx(t,e,n)}function Wx(t,e,n){e.status="fulfilled",e.value=n,NN(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,IN(t,n)))}function A0(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,NN(e),e=e.next;while(e!==r)}t.action=null}function NN(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function DN(t,e){return e}function Qx(t,e){if(We){var n=gt.formState;if(n!==null){e:{var r=Ne;if(We){if(St){t:{for(var i=St,s=Zr;i.nodeType!==8;){if(!s){i=null;break t}if(i=ni(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){St=ni(i.nextSibling),r=i.data==="F!";break e}}to(r)}r=!1}r&&(e=n[0])}}return n=Gn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DN,lastRenderedState:e},n.queue=r,n=KN.bind(null,Ne,r),r.dispatch=n,r=S0(!1),s=Xw.bind(null,Ne,!1,r.queue),r=Gn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=TU.bind(null,Ne,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function Xx(t){var e=Wt();return PN(e,ft,t)}function PN(t,e,n){if(e=$w(t,e,DN)[0],t=fm(Fs)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Ff(e)}catch(a){throw a===_u?ug:a}else r=e;e=Wt();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(Ne.flags|=2048,Qc(9,{destroy:void 0},xU.bind(null,i,n),null)),[r,s,t]}function xU(t,e){t.action=e}function Zx(t){var e=Wt(),n=ft;if(n!==null)return PN(e,n,t);Wt(),e=e.memoizedState,n=Wt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Qc(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ne.updateQueue,e===null&&(e=dg(),Ne.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function MN(){return Wt().memoizedState}function hm(t,e,n,r){var i=Gn();Ne.flags|=t,i.memoizedState=Qc(1|e,{destroy:void 0},n,r===void 0?null:r)}function hg(t,e,n,r){var i=Wt();r=r===void 0?null:r;var s=i.memoizedState.inst;ft!==null&&r!==null&&Fw(r,ft.memoizedState.deps)?i.memoizedState=Qc(e,s,n,r):(Ne.flags|=t,i.memoizedState=Qc(1|e,s,n,r))}function Jx(t,e){hm(8390656,8,t,e)}function Kw(t,e){hg(2048,8,t,e)}function SU(t){Ne.flags|=4;var e=Ne.updateQueue;if(e===null)e=dg(),Ne.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function ON(t){var e=Wt().memoizedState;return SU({ref:e,nextImpl:t}),function(){if(it&2)throw Error(K(440));return e.impl.apply(void 0,arguments)}}function jN(t,e){return hg(4,2,t,e)}function VN(t,e){return hg(4,4,t,e)}function LN(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kN(t,e,n){n=n!=null?n.concat([t]):null,hg(4,4,LN.bind(null,e,t),n)}function Yw(){}function UN(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Fw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FN(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Fw(e,r[1]))return r[0];if(r=t(),pl){Da(!0);try{t()}finally{Da(!1)}}return n.memoizedState=[r,e],r}function Ww(t,e,n){return n===void 0||Us&1073741824&&!(Ge&261930)?t.memoizedState=e:(t.memoizedState=n,t=RD(),Ne.lanes|=t,ro|=t,n)}function BN(t,e,n,r){return Lr(n,e)?n:Wc.current!==null?(t=Ww(t,n,r),Lr(t,e)||(sn=!0),t):!(Us&42)||Us&1073741824&&!(Ge&261930)?(sn=!0,t.memoizedState=n):(t=RD(),Ne.lanes|=t,ro|=t,e)}function zN(t,e,n,r,i){var s=st.p;st.p=s!==0&&8>s?s:8;var a=Te.T,o={};Te.T=o,Xw(t,!1,e,n);try{var l=i(),c=Te.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=wU(l,r);Pd(t,e,u,Pr(t))}else Pd(t,e,r,Pr(t))}catch(f){Pd(t,e,{then:function(){},status:"rejected",reason:f},Pr())}finally{st.p=s,a!==null&&o.types!==null&&(a.types=o.types),Te.T=a}}function AU(){}function C0(t,e,n,r){if(t.tag!==5)throw Error(K(476));var i=HN(t).queue;zN(t,i,e,nl,n===null?AU:function(){return qN(t),n(r)})}function HN(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:nl,baseState:nl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:nl},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function qN(t){var e=HN(t);e.next===null&&(e=t.alternate.memoizedState),Pd(t,e.next.queue,{},Pr())}function Qw(){return Nn(af)}function GN(){return Wt().memoizedState}function $N(){return Wt().memoizedState}function CU(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Pr();t=Ba(n);var r=za(e,t,n);r!==null&&(dr(r,e,n),Id(r,e,n)),e={cache:jw()},t.payload=e;return}e=e.return}}function RU(t,e,n){var r=Pr();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},mg(t)?YN(e,n):(n=Dw(t,e,n,r),n!==null&&(dr(n,t,r),WN(n,e,r)))}function KN(t,e,n){var r=Pr();Pd(t,e,n,r)}function Pd(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(mg(t))YN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Lr(o,a))return cg(t,e,i,0),gt===null&&lg(),!1}catch{}finally{}if(n=Dw(t,e,i,r),n!==null)return dr(n,t,r),WN(n,e,r),!0}return!1}function Xw(t,e,n,r){if(r={lane:2,revertLane:a_(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},mg(t)){if(e)throw Error(K(479))}else e=Dw(t,n,r,2),e!==null&&dr(e,t,2)}function mg(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function YN(t,e){Cc=Qm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WN(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,OI(t,n)}}var nf={readContext:Nn,use:fg,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};nf.useEffectEvent=Ut;var QN={readContext:Nn,use:fg,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:Jx,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,hm(4194308,4,LN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hm(4194308,4,t,e)},useInsertionEffect:function(t,e){hm(4,2,t,e)},useMemo:function(t,e){var n=Gn();e=e===void 0?null:e;var r=t();if(pl){Da(!0);try{t()}finally{Da(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Gn();if(n!==void 0){var i=n(e);if(pl){Da(!0);try{n(e)}finally{Da(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=RU.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:function(t){t=S0(t);var e=t.queue,n=KN.bind(null,Ne,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Yw,useDeferredValue:function(t,e){var n=Gn();return Ww(n,t,e)},useTransition:function(){var t=S0(!1);return t=zN.bind(null,Ne,t.queue,!0,!1),Gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ne,i=Gn();if(We){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),gt===null)throw Error(K(349));Ge&127||TN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jx(SN.bind(null,r,s,t),[t]),r.flags|=2048,Qc(9,{destroy:void 0},xN.bind(null,r,s,n,e),null),n},useId:function(){var t=Gn(),e=gt.identifierPrefix;if(We){var n=zi,r=Bi;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Xm++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=_U++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Qw,useFormState:Qx,useActionState:Qx,useOptimistic:function(t){var e=Gn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Xw.bind(null,Ne,!0,n),n.dispatch=e,[t,e]},useMemoCache:Gw,useCacheRefresh:function(){return Gn().memoizedState=CU.bind(null,Ne)},useEffectEvent:function(t){var e=Gn(),n={impl:t};return e.memoizedState=n,function(){if(it&2)throw Error(K(440));return n.impl.apply(void 0,arguments)}}},Zw={readContext:Nn,use:fg,useCallback:UN,useContext:Nn,useEffect:Kw,useImperativeHandle:kN,useInsertionEffect:jN,useLayoutEffect:VN,useMemo:FN,useReducer:fm,useRef:MN,useState:function(){return fm(Fs)},useDebugValue:Yw,useDeferredValue:function(t,e){var n=Wt();return BN(n,ft.memoizedState,t,e)},useTransition:function(){var t=fm(Fs)[0],e=Wt().memoizedState;return[typeof t=="boolean"?t:Ff(t),e]},useSyncExternalStore:EN,useId:GN,useHostTransitionStatus:Qw,useFormState:Xx,useActionState:Xx,useOptimistic:function(t,e){var n=Wt();return RN(n,ft,t,e)},useMemoCache:Gw,useCacheRefresh:$N};Zw.useEffectEvent=ON;var XN={readContext:Nn,use:fg,useCallback:UN,useContext:Nn,useEffect:Kw,useImperativeHandle:kN,useInsertionEffect:jN,useLayoutEffect:VN,useMemo:FN,useReducer:zy,useRef:MN,useState:function(){return zy(Fs)},useDebugValue:Yw,useDeferredValue:function(t,e){var n=Wt();return ft===null?Ww(n,t,e):BN(n,ft.memoizedState,t,e)},useTransition:function(){var t=zy(Fs)[0],e=Wt().memoizedState;return[typeof t=="boolean"?t:Ff(t),e]},useSyncExternalStore:EN,useId:GN,useHostTransitionStatus:Qw,useFormState:Zx,useActionState:Zx,useOptimistic:function(t,e){var n=Wt();return ft!==null?RN(n,ft,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Gw,useCacheRefresh:$N};XN.useEffectEvent=ON;function Hy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var R0={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=Ba(r);i.payload=e,n!=null&&(i.callback=n),e=za(t,i,r),e!==null&&(dr(e,t,r),Id(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=Ba(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=za(t,i,r),e!==null&&(dr(e,t,r),Id(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pr(),r=Ba(n);r.tag=2,e!=null&&(r.callback=e),e=za(t,r,n),e!==null&&(dr(e,t,n),Id(e,t,n))}};function eS(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xd(n,r)||!Xd(i,s):!0}function tS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&R0.enqueueReplaceState(e,e.state,null)}function gl(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Rt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function ZN(t){Hm(t)}function JN(t){console.error(t)}function eD(t){Hm(t)}function Zm(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function nS(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function I0(t,e,n){return n=Ba(n),n.tag=3,n.payload={element:null},n.callback=function(){Zm(t,e)},n}function tD(t){return t=Ba(t),t.tag=3,t}function nD(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){nS(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){nS(e,n,r),typeof i!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function IU(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&wu(e,n,i,!0),n=kr.current,n!==null){switch(n.tag){case 31:case 13:return ti===null?rp():n.alternate===null&&zt===0&&(zt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Km?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),ev(t,r,i)),!1;case 22:return n.flags|=65536,r===Km?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),ev(t,r,i)),!1}throw Error(K(435,n.tag))}return ev(t,r,i),rp(),!1}if(We)return e=kr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==g0&&(t=Error(K(422),{cause:r}),Jd(Xr(t,n)))):(r!==g0&&(e=Error(K(423),{cause:r}),Jd(Xr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Xr(r,n),i=I0(t.stateNode,r,i),By(t,i),zt!==4&&(zt=2)),!1;var s=Error(K(520),{cause:r});if(s=Xr(s,n),jd===null?jd=[s]:jd.push(s),zt!==4&&(zt=2),e===null)return!0;r=Xr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=I0(n.stateNode,r,t),By(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ha===null||!Ha.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=tD(i),nD(i,t,n,r),By(n,i),!1}n=n.return}while(n!==null);return!1}var Jw=Error(K(461)),sn=!1;function Sn(t,e,n,r){e.child=t===null?gN(e,null,n,r):ml(e,t.child,n,r)}function rS(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return hl(e),r=Bw(t,e,n,a,s,i),o=zw(),t!==null&&!sn?(Hw(t,e,i),Bs(t,e,i)):(We&&o&&Mw(e),e.flags|=1,Sn(t,e,r,i),e.child)}function iS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Pw(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,rD(t,e,s,r,i)):(t=um(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!e_(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xd,n(a,r)&&t.ref===e.ref)return Bs(t,e,i)}return e.flags|=1,t=Ds(s,r),t.ref=e.ref,t.return=e,e.child=t}function rD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xd(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,e_(t,i))t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Bs(t,e,i)}return N0(t,e,n,r,i)}function iD(t,e,n,r){var i=r.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,e.child=null;return sS(t,e,s,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&dm(e,s!==null?s.cachePool:null),s!==null?Kx(e,s):T0(),bN(e);else return r=e.lanes=536870912,sS(t,e,s!==null?s.baseLanes|n:n,n,r)}else s!==null?(dm(e,s.cachePool),Kx(e,s),ba(),e.memoizedState=null):(t!==null&&dm(e,null),T0(),ba());return Sn(t,e,i,n),e.child}function dd(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function sS(t,e,n,r,i){var s=Vw();return s=s===null?null:{parent:nn._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&dm(e,null),T0(),bN(e),t!==null&&wu(t,e,r,!0),e.childLanes=i,null}function mm(t,e){return e=Jm({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function aS(t,e,n){return ml(e,t.child,null,n),t=mm(e,e.pendingProps),t.flags|=2,xr(e),e.memoizedState=null,t}function NU(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(We){if(r.mode==="hidden")return t=mm(e,r),e.lanes=536870912,dd(null,t);if(x0(e),(t=St)?(t=QD(t,Zr),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:eo!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},n=cN(t),n.return=e,e.child=n,Rn=e,St=null)):t=null,t===null)throw to(e);return e.lanes=536870912,null}return mm(e,r)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(x0(e),i)if(e.flags&256)e.flags&=-257,e=aS(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(K(558));else if(sn||wu(t,e,n,!1),i=(n&t.childLanes)!==0,sn||i){if(r=gt,r!==null&&(a=jI(r,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Pl(t,a),dr(r,t,a),Jw;rp(),e=aS(t,e,n)}else t=s.treeContext,St=ni(a.nextSibling),Rn=e,We=!0,Fa=null,Zr=!1,t!==null&&dN(e,t),e=mm(e,r),e.flags|=4096;return e}return t=Ds(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function pm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(K(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function N0(t,e,n,r,i){return hl(e),n=Bw(t,e,n,r,void 0,i),r=zw(),t!==null&&!sn?(Hw(t,e,i),Bs(t,e,i)):(We&&r&&Mw(e),e.flags|=1,Sn(t,e,n,i),e.child)}function oS(t,e,n,r,i,s){return hl(e),e.updateQueue=null,n=_N(e,r,n,i),wN(t),r=zw(),t!==null&&!sn?(Hw(t,e,s),Bs(t,e,s)):(We&&r&&Mw(e),e.flags|=1,Sn(t,e,n,s),e.child)}function lS(t,e,n,r,i){if(hl(e),e.stateNode===null){var s=dc,a=n.contextType;typeof a=="object"&&a!==null&&(s=Nn(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=R0,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},kw(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Nn(a):dc,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Hy(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&R0.enqueueReplaceState(s,s.state,null),Dd(e,r,s,i),Nd(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=gl(n,o);s.props=l;var c=s.context,u=n.contextType;a=dc,typeof u=="object"&&u!==null&&(a=Nn(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&tS(e,s,r,a),ga=!1;var h=e.memoizedState;s.state=h,Dd(e,r,s,i),Nd(),c=e.memoizedState,o||h!==c||ga?(typeof f=="function"&&(Hy(e,n,f,r),c=e.memoizedState),(l=ga||eS(e,n,l,r,h,c,a))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,_0(t,e),a=e.memoizedProps,u=gl(n,a),s.props=u,f=e.pendingProps,h=s.context,c=n.contextType,l=dc,typeof c=="object"&&c!==null&&(l=Nn(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&tS(e,s,r,l),ga=!1,h=e.memoizedState,s.state=h,Dd(e,r,s,i),Nd();var m=e.memoizedState;a!==f||h!==m||ga||t!==null&&t.dependencies!==null&&$m(t.dependencies)?(typeof o=="function"&&(Hy(e,n,o,r),m=e.memoizedState),(u=ga||eS(e,n,u,r,h,m,l)||t!==null&&t.dependencies!==null&&$m(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,pm(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=ml(e,t.child,null,i),e.child=ml(e,null,n,i)):Sn(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Bs(t,e,i),t}function cS(t,e,n,r){return fl(),e.flags|=256,Sn(t,e,n,r),e.child}var qy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gy(t){return{baseLanes:t,cachePool:hN()}}function $y(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Cr),t}function sD(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(We){if(i?va(e):ba(),(t=St)?(t=QD(t,Zr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:eo!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},n=cN(t),n.return=e,e.child=n,Rn=e,St=null)):t=null,t===null)throw to(e);return q0(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(ba(),i=e.mode,o=Jm({mode:"hidden",children:o},i),r=rl(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=Gy(n),r.childLanes=$y(t,a,n),e.memoizedState=qy,dd(null,r)):(va(e),D0(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(va(e),e.flags&=-257,e=Ky(t,e,n)):e.memoizedState!==null?(ba(),e.child=t.child,e.flags|=128,e=null):(ba(),o=r.fallback,i=e.mode,r=Jm({mode:"visible",children:r.children},i),o=rl(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,ml(e,t.child,null,n),r=e.child,r.memoizedState=Gy(n),r.childLanes=$y(t,a,n),e.memoizedState=qy,e=dd(null,r));else if(va(e),q0(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(K(419)),r.stack="",r.digest=a,Jd({value:r,source:null,stack:null}),e=Ky(t,e,n)}else if(sn||wu(t,e,n,!1),a=(n&t.childLanes)!==0,sn||a){if(a=gt,a!==null&&(r=jI(a,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Pl(t,r),dr(a,t,r),Jw;H0(o)||rp(),e=Ky(t,e,n)}else H0(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,St=ni(o.nextSibling),Rn=e,We=!0,Fa=null,Zr=!1,t!==null&&dN(e,t),e=D0(e,r.children),e.flags|=4096);return e}return i?(ba(),o=r.fallback,i=e.mode,l=t.child,c=l.sibling,r=Ds(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=Ds(c,o):(o=rl(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,dd(null,r),r=e.child,o=t.child.memoizedState,o===null?o=Gy(n):(i=o.cachePool,i!==null?(l=nn._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=hN(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=$y(t,a,n),e.memoizedState=qy,dd(t.child,r)):(va(e),n=t.child,t=n.sibling,n=Ds(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function D0(t,e){return e=Jm({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Jm(t,e){return t=Ar(22,t,null,e),t.lanes=0,t}function Ky(t,e,n){return ml(e,t.child,null,n),t=D0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),v0(t.return,e,n)}function Yy(t,e,n,r,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function aD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=Kt.current,o=(a&2)!==0;if(o?(a=a&1|2,e.flags|=128):a&=1,bt(Kt,a),Sn(t,e,r,n),r=We?Zd:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uS(t,n,e);else if(t.tag===19)uS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yy(e,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yy(e,!0,n,null,s,r);break;case"together":Yy(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ro|=e.lanes,!(n&e.childLanes))if(t!==null){if(wu(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e_(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&$m(t)))}function DU(t,e,n){switch(e.tag){case 3:Um(e,e.stateNode.containerInfo),ya(e,nn,t.memoizedState.cache),fl();break;case 27:case 5:s0(e);break;case 4:Um(e,e.stateNode.containerInfo);break;case 10:ya(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,x0(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(va(e),e.flags|=128,null):n&e.child.childLanes?sD(t,e,n):(va(e),t=Bs(t,e,n),t!==null?t.sibling:null);va(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(wu(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return aD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(Kt,Kt.current),r)break;return null;case 22:return e.lanes=0,iD(t,e,n,e.pendingProps);case 24:ya(e,nn,t.memoizedState.cache)}return Bs(t,e,n)}function oD(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)sn=!0;else{if(!e_(t,n)&&!(e.flags&128))return sn=!1,DU(t,e,n);sn=!!(t.flags&131072)}else sn=!1,We&&e.flags&1048576&&uN(e,Zd,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Lo(e.elementType),e.type=t,typeof t=="function")Pw(t)?(r=gl(t,r),e.tag=1,e=lS(null,e,t,r,n)):(e.tag=0,e=N0(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===vw){e.tag=11,e=rS(null,e,t,r,n);break e}else if(i===bw){e.tag=14,e=iS(null,e,t,r,n);break e}}throw e=r0(t)||t,Error(K(306,e,""))}}return e;case 0:return N0(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=gl(r,e.pendingProps),lS(t,e,r,i,n);case 3:e:{if(Um(e,e.stateNode.containerInfo),t===null)throw Error(K(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,_0(t,e),Dd(e,r,null,n);var a=e.memoizedState;if(r=a.cache,ya(e,nn,r),r!==s.cache&&b0(e,[nn],n,!0),Nd(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=cS(t,e,r,n);break e}else if(r!==i){i=Xr(Error(K(424)),e),Jd(i),e=cS(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=ni(t.firstChild),Rn=e,We=!0,Fa=null,Zr=!0,n=gN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fl(),r===i){e=Bs(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 26:return pm(t,e),t===null?(n=NS(e.type,null,e.pendingProps,null))?e.memoizedState=n:We||(n=e.type,t=e.pendingProps,r=op(Ua.current).createElement(n),r[Cn]=e,r[fr]=t,Dn(r,n,t),bn(r),e.stateNode=r):e.memoizedState=NS(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return s0(e),t===null&&We&&(r=e.stateNode=XD(e.type,e.pendingProps,Ua.current),Rn=e,Zr=!0,i=St,vo(e.type)?(G0=i,St=ni(r.firstChild)):St=i),Sn(t,e,e.pendingProps.children,n),pm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&We&&((i=r=St)&&(r=o6(r,e.type,e.pendingProps,Zr),r!==null?(e.stateNode=r,Rn=e,St=ni(r.firstChild),Zr=!1,i=!0):i=!1),i||to(e)),s0(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,B0(i,s)?r=null:a!==null&&B0(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=Bw(t,e,EU,null,null,n),af._currentValue=i),pm(t,e),Sn(t,e,r,n),e.child;case 6:return t===null&&We&&((t=n=St)&&(n=l6(n,e.pendingProps,Zr),n!==null?(e.stateNode=n,Rn=e,St=null,t=!0):t=!1),t||to(e)),null;case 13:return sD(t,e,n);case 4:return Um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ml(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return rS(t,e,e.type,e.pendingProps,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,ya(e,e.type,r.value),Sn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,hl(e),i=Nn(i),r=r(i),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return iS(t,e,e.type,e.pendingProps,n);case 15:return rD(t,e,e.type,e.pendingProps,n);case 19:return aD(t,e,n);case 31:return NU(t,e,n);case 22:return iD(t,e,n,e.pendingProps);case 24:return hl(e),r=Nn(nn),t===null?(i=Vw(),i===null&&(i=gt,s=jw(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},kw(e),ya(e,nn,i)):(t.lanes&n&&(_0(t,e),Dd(e,null,null,n),Nd()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ya(e,nn,r)):(r=s.cache,ya(e,nn,r),r!==i.cache&&b0(e,[nn],n,!0))),Sn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(K(156,e.tag))}function ps(t){t.flags|=4}function Wy(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(DD())t.flags|=8192;else throw sl=Km,Lw}else t.flags&=-16777217}function dS(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!eP(e))if(DD())t.flags|=8192;else throw sl=Km,Lw}function jh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?PI():536870912,t.lanes|=e,Xc|=e)}function Zu(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PU(t,e,n){var r=e.pendingProps;switch(Ow(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Tt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ps(nn),Gc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ql(e)?ps(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fy())),Tt(e),null;case 26:var i=e.type,s=e.memoizedState;return t===null?(ps(e),s!==null?(Tt(e),dS(e,s)):(Tt(e),Wy(e,i,null,r,n))):s?s!==t.memoizedState?(ps(e),Tt(e),dS(e,s)):(Tt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&ps(e),Tt(e),Wy(e,i,t,r,n)),null;case 27:if(Fm(e),n=Ua.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ps(e);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Tt(e),null}t=Gi.current,ql(e)?Fx(e):(t=XD(i,r,n),e.stateNode=t,ps(e))}return Tt(e),null;case 5:if(Fm(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ps(e);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Tt(e),null}if(s=Gi.current,ql(e))Fx(e);else{var a=op(Ua.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}s[Cn]=e,s[fr]=r;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(Dn(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ps(e)}}return Tt(e),Wy(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ps(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(t=Ua.current,ql(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Rn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Cn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||KD(t.nodeValue,n)),t||to(e,!0)}else t=op(t).createTextNode(r),t[Cn]=e,e.stateNode=t}return Tt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=ql(e),n!==null){if(t===null){if(!r)throw Error(K(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(557));t[Cn]=e}else fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),t=!1}else n=Fy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(xr(e),e):(xr(e),null);if(e.flags&128)throw Error(K(558))}return Tt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ql(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Cn]=e}else fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),i=!1}else i=Fy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(xr(e),e):(xr(e),null)}return xr(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),jh(e,e.updateQueue),Tt(e),null);case 4:return Gc(),t===null&&o_(e.stateNode.containerInfo),Tt(e),null;case 10:return Ps(e.type),Tt(e),null;case 19:if(_n(Kt),r=e.memoizedState,r===null)return Tt(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)Zu(r,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wm(t),s!==null){for(e.flags|=128,Zu(r,!1),t=s.updateQueue,e.updateQueue=t,jh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)lN(n,t),n=n.sibling;return bt(Kt,Kt.current&1|2),We&&_s(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ir()>tp&&(e.flags|=128,i=!0,Zu(r,!1),e.lanes=4194304)}else{if(!i)if(t=Wm(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,jh(e,t),Zu(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!We)return Tt(e),null}else 2*Ir()-r.renderingStartTime>tp&&n!==536870912&&(e.flags|=128,i=!0,Zu(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ir(),t.sibling=null,n=Kt.current,bt(Kt,i?n&1|2:n&1),We&&_s(e,r.treeForkCount),t):(Tt(e),null);case 22:case 23:return xr(e),Uw(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),n=e.updateQueue,n!==null&&jh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&_n(il),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ps(nn),Tt(e),null;case 25:return null;case 30:return null}throw Error(K(156,e.tag))}function MU(t,e){switch(Ow(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ps(nn),Gc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Fm(e),null;case 31:if(e.memoizedState!==null){if(xr(e),e.alternate===null)throw Error(K(340));fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(xr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _n(Kt),null;case 4:return Gc(),null;case 10:return Ps(e.type),null;case 22:case 23:return xr(e),Uw(),t!==null&&_n(il),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ps(nn),null;case 25:return null;default:return null}}function lD(t,e){switch(Ow(e),e.tag){case 3:Ps(nn),Gc();break;case 26:case 27:case 5:Fm(e);break;case 4:Gc();break;case 31:e.memoizedState!==null&&xr(e);break;case 13:xr(e);break;case 19:_n(Kt);break;case 10:Ps(e.type);break;case 22:case 23:xr(e),Uw(),t!==null&&_n(il);break;case 24:Ps(nn)}}function Bf(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){ct(e,e.return,o)}}function no(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(u){ct(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){ct(e,e.return,u)}}function cD(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{vN(e,n)}catch(r){ct(t,t.return,r)}}}function uD(t,e,n){n.props=gl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){ct(t,e,r)}}function Md(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){ct(t,e,i)}}function Hi(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){ct(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ct(t,e,i)}else n.current=null}function dD(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ct(t,t.return,i)}}function Qy(t,e,n){try{var r=t.stateNode;t6(r,t.type,n,e),r[fr]=e}catch(i){ct(t,t.return,i)}}function fD(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vo(t.type)||t.tag===4}function Xy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function P0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ss));else if(r!==4&&(r===27&&vo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(P0(t,e,n),t=t.sibling;t!==null;)P0(t,e,n),t=t.sibling}function ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&vo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}function hD(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Dn(e,r,n),e[Cn]=t,e[fr]=n}catch(s){ct(t,t.return,s)}}var Ts=!1,tn=!1,Zy=!1,fS=typeof WeakSet=="function"?WeakSet:Set,vn=null;function OU(t,e){if(t=t.containerInfo,U0=dp,t=eN(t),Iw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=a),h===s&&++u===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(F0={focusedElem:t,selectionRange:n},dp=!1,vn=e;vn!==null;)if(e=vn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,vn=t;else for(;vn!==null;){switch(e=vn,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var w=gl(n.type,i);t=r.getSnapshotBeforeUpdate(w,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(g){ct(n,n.return,g)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)z0(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":z0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(K(163))}if(t=e.sibling,t!==null){t.return=e.return,vn=t;break}vn=e.return}}function mD(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ys(t,n),r&4&&Bf(5,n);break;case 1:if(ys(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){ct(n,n.return,a)}else{var i=gl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){ct(n,n.return,a)}}r&64&&cD(n),r&512&&Md(n,n.return);break;case 3:if(ys(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{vN(t,e)}catch(a){ct(n,n.return,a)}}break;case 27:e===null&&r&4&&hD(n);case 26:case 5:ys(t,n),e===null&&r&4&&dD(n),r&512&&Md(n,n.return);break;case 12:ys(t,n);break;case 31:ys(t,n),r&4&&yD(t,n);break;case 13:ys(t,n),r&4&&vD(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=HU.bind(null,n),c6(t,n))));break;case 22:if(r=n.memoizedState!==null||Ts,!r){e=e!==null&&e.memoizedState!==null||tn,i=Ts;var s=tn;Ts=r,(tn=e)&&!s?bs(t,n,(n.subtreeFlags&8772)!==0):ys(t,n),Ts=i,tn=s}break;case 30:break;default:ys(t,n)}}function pD(t){var e=t.alternate;e!==null&&(t.alternate=null,pD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Tw(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,rr=!1;function gs(t,e,n){for(n=n.child;n!==null;)gD(t,e,n),n=n.sibling}function gD(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Of,n)}catch{}switch(n.tag){case 26:tn||Hi(n,e),gs(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tn||Hi(n,e);var r=It,i=rr;vo(n.type)&&(It=n.stateNode,rr=!1),gs(t,e,n),Ld(n.stateNode),It=r,rr=i;break;case 5:tn||Hi(n,e);case 6:if(r=It,i=rr,It=null,gs(t,e,n),It=r,rr=i,It!==null)if(rr)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(n.stateNode)}catch(s){ct(n,e,s)}else try{It.removeChild(n.stateNode)}catch(s){ct(n,e,s)}break;case 18:It!==null&&(rr?(t=It,SS(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),tu(t)):SS(It,n.stateNode));break;case 4:r=It,i=rr,It=n.stateNode.containerInfo,rr=!0,gs(t,e,n),It=r,rr=i;break;case 0:case 11:case 14:case 15:no(2,n,e),tn||no(4,n,e),gs(t,e,n);break;case 1:tn||(Hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&uD(n,e,r)),gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:tn=(r=tn)||n.memoizedState!==null,gs(t,e,n),tn=r;break;default:gs(t,e,n)}}function yD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{tu(t)}catch(n){ct(e,e.return,n)}}}function vD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tu(t)}catch(n){ct(e,e.return,n)}}function jU(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new fS),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new fS),e;default:throw Error(K(435,t.tag))}}function Vh(t,e){var n=jU(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=qU.bind(null,t,r);r.then(i,i)}})}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(vo(o.type)){It=o.stateNode,rr=!1;break e}break;case 5:It=o.stateNode,rr=!1;break e;case 3:case 4:It=o.stateNode.containerInfo,rr=!0;break e}o=o.return}if(It===null)throw Error(K(160));gD(s,a,i),It=null,rr=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)bD(e,t),e=e.sibling}var yi=null;function bD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:tr(e,t),nr(t),r&4&&(no(3,t,t.return),Bf(3,t),no(5,t,t.return));break;case 1:tr(e,t),nr(t),r&512&&(tn||n===null||Hi(n,n.return)),r&64&&Ts&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=yi;if(tr(e,t),nr(t),r&512&&(tn||n===null||Hi(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Lf]||s[Cn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Dn(s,r,n),s[Cn]=t,bn(s),r=s;break e;case"link":var a=PS("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),Dn(s,r,n),i.head.appendChild(s);break;case"meta":if(a=PS("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),Dn(s,r,n),i.head.appendChild(s);break;default:throw Error(K(468,r))}s[Cn]=t,bn(s),r=s}t.stateNode=r}else MS(i,t.type,t.stateNode);else t.stateNode=DS(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?MS(i,t.type,t.stateNode):DS(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Qy(t,t.memoizedProps,n.memoizedProps)}break;case 27:tr(e,t),nr(t),r&512&&(tn||n===null||Hi(n,n.return)),n!==null&&r&4&&Qy(t,t.memoizedProps,n.memoizedProps);break;case 5:if(tr(e,t),nr(t),r&512&&(tn||n===null||Hi(n,n.return)),t.flags&32){i=t.stateNode;try{Kc(i,"")}catch(w){ct(t,t.return,w)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Qy(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Zy=!0);break;case 6:if(tr(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(K(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(w){ct(t,t.return,w)}}break;case 3:if(vm=null,i=yi,yi=lp(e.containerInfo),tr(e,t),yi=i,nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(w){ct(t,t.return,w)}Zy&&(Zy=!1,wD(t));break;case 4:r=yi,yi=lp(t.stateNode.containerInfo),tr(e,t),nr(t),yi=r;break;case 12:tr(e,t),nr(t);break;case 31:tr(e,t),nr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Vh(t,r)));break;case 13:tr(e,t),nr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(pg=Ir()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Vh(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Ts,u=tn;if(Ts=c||i,tn=u||l,tr(e,t),tn=u,Ts=c,nr(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Ts||tn||ko(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(w){ct(l,l.return,w)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(w){ct(l,l.return,w)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;i?AS(m,!0):AS(l.stateNode,!1)}catch(w){ct(l,l.return,w)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Vh(t,n))));break;case 19:tr(e,t),nr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Vh(t,r)));break;case 30:break;case 21:break;default:tr(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(fD(r)){n=r;break}r=r.return}if(n==null)throw Error(K(160));switch(n.tag){case 27:var i=n.stateNode,s=Xy(t);ep(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Kc(a,""),n.flags&=-33);var o=Xy(t);ep(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Xy(t);P0(t,c,l);break;default:throw Error(K(161))}}catch(u){ct(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wD(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;wD(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ys(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)mD(t,e.alternate,e),e=e.sibling}function ko(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:no(4,e,e.return),ko(e);break;case 1:Hi(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&uD(e,e.return,n),ko(e);break;case 27:Ld(e.stateNode);case 26:case 5:Hi(e,e.return),ko(e);break;case 22:e.memoizedState===null&&ko(e);break;case 30:ko(e);break;default:ko(e)}t=t.sibling}}function bs(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:bs(i,s,n),Bf(4,s);break;case 1:if(bs(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){ct(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)yN(l[i],o)}catch(c){ct(r,r.return,c)}}n&&a&64&&cD(s),Md(s,s.return);break;case 27:hD(s);case 26:case 5:bs(i,s,n),n&&r===null&&a&4&&dD(s),Md(s,s.return);break;case 12:bs(i,s,n);break;case 31:bs(i,s,n),n&&a&4&&yD(i,s);break;case 13:bs(i,s,n),n&&a&4&&vD(i,s);break;case 22:s.memoizedState===null&&bs(i,s,n),Md(s,s.return);break;case 30:break;default:bs(i,s,n)}e=e.sibling}}function t_(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Uf(n))}function n_(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Uf(t))}function ui(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_D(t,e,n,r),e=e.sibling}function _D(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:ui(t,e,n,r),i&2048&&Bf(9,e);break;case 1:ui(t,e,n,r);break;case 3:ui(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Uf(t)));break;case 12:if(i&2048){ui(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){ct(e,e.return,l)}}else ui(t,e,n,r);break;case 31:ui(t,e,n,r);break;case 13:ui(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?ui(t,e,n,r):Od(t,e):s._visibility&2?ui(t,e,n,r):(s._visibility|=2,Xl(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&t_(a,e);break;case 24:ui(t,e,n,r),i&2048&&n_(e.alternate,e);break;default:ui(t,e,n,r)}}function Xl(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Xl(s,a,o,l,i),Bf(8,a);break;case 23:break;case 22:var u=a.stateNode;a.memoizedState!==null?u._visibility&2?Xl(s,a,o,l,i):Od(s,a):(u._visibility|=2,Xl(s,a,o,l,i)),i&&c&2048&&t_(a.alternate,a);break;case 24:Xl(s,a,o,l,i),i&&c&2048&&n_(a.alternate,a);break;default:Xl(s,a,o,l,i)}e=e.sibling}}function Od(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Od(n,r),i&2048&&t_(r.alternate,r);break;case 24:Od(n,r),i&2048&&n_(r.alternate,r);break;default:Od(n,r)}e=e.sibling}}var fd=8192;function Gl(t,e,n){if(t.subtreeFlags&fd)for(t=t.child;t!==null;)ED(t,e,n),t=t.sibling}function ED(t,e,n){switch(t.tag){case 26:Gl(t,e,n),t.flags&fd&&t.memoizedState!==null&&_6(n,yi,t.memoizedState,t.memoizedProps);break;case 5:Gl(t,e,n);break;case 3:case 4:var r=yi;yi=lp(t.stateNode.containerInfo),Gl(t,e,n),yi=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=fd,fd=16777216,Gl(t,e,n),fd=r):Gl(t,e,n));break;default:Gl(t,e,n)}}function TD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ju(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];vn=r,SD(r,t)}TD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xD(t),t=t.sibling}function xD(t){switch(t.tag){case 0:case 11:case 15:Ju(t),t.flags&2048&&no(9,t,t.return);break;case 3:Ju(t);break;case 12:Ju(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,gm(t)):Ju(t);break;default:Ju(t)}}function gm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];vn=r,SD(r,t)}TD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:no(8,e,e.return),gm(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,gm(e));break;default:gm(e)}t=t.sibling}}function SD(t,e){for(;vn!==null;){var n=vn;switch(n.tag){case 0:case 11:case 15:no(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Uf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,vn=r;else e:for(n=t;vn!==null;){r=vn;var i=r.sibling,s=r.return;if(pD(r),r===n){vn=null;break e}if(i!==null){i.return=s,vn=i;break e}vn=s}}}var VU={getCacheForType:function(t){var e=Nn(nn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Nn(nn).controller.signal}},LU=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,Le=null,Ge=0,ot=0,Er=null,Ma=!1,Eu=!1,r_=!1,zs=0,zt=0,ro=0,al=0,i_=0,Cr=0,Xc=0,jd=null,sr=null,M0=!1,pg=0,AD=0,tp=1/0,np=null,Ha=null,cn=0,qa=null,Zc=null,Ms=0,O0=0,j0=null,CD=null,Vd=0,V0=null;function Pr(){return it&2&&Ge!==0?Ge&-Ge:Te.T!==null?a_():VI()}function RD(){if(Cr===0)if(!(Ge&536870912)||We){var t=Rh;Rh<<=1,!(Rh&3932160)&&(Rh=262144),Cr=t}else Cr=536870912;return t=kr.current,t!==null&&(t.flags|=32),Cr}function dr(t,e,n){(t===gt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Jc(t,0),Oa(t,Ge,Cr,!1)),Vf(t,n),(!(it&2)||t!==gt)&&(t===gt&&(!(it&2)&&(al|=n),zt===4&&Oa(t,Ge,Cr,!1)),as(t))}function ID(t,e,n){if(it&6)throw Error(K(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||jf(t,e),i=r?FU(t,e):Jy(t,e,!0),s=r;do{if(i===0){Eu&&!r&&Oa(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!kU(n)){i=Jy(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=jd;var l=o.current.memoizedState.isDehydrated;if(l&&(Jc(o,a).flags|=256),a=Jy(o,a,!1),a!==2){if(r_&&!l){o.errorRecoveryDisabledLanes|=s,al|=s,i=4;break e}s=sr,sr=i,s!==null&&(sr===null?sr=s:sr.push.apply(sr,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Jc(t,0),Oa(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(K(345));case 4:if((e&4194048)!==e)break;case 6:Oa(r,e,Cr,!Ma);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(K(329))}if((e&62914560)===e&&(i=pg+300-Ir(),10<i)){if(Oa(r,e,Cr,!Ma),ig(r,0,!0)!==0)break e;Ms=e,r.timeoutHandle=WD(hS.bind(null,r,n,sr,np,M0,e,Cr,al,Xc,Ma,s,"Throttled",-0,0),i);break e}hS(r,n,sr,np,M0,e,Cr,al,Xc,Ma,s,null,-0,0)}}break}while(!0);as(t)}function hS(t,e,n,r,i,s,a,o,l,c,u,f,h,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ss},ED(e,s,f);var w=(s&62914560)===s?pg-Ir():(s&4194048)===s?AD-Ir():0;if(w=E6(f,w),w!==null){Ms=s,t.cancelPendingCommit=w(pS.bind(null,t,e,s,n,r,i,a,o,l,u,f,null,h,m)),Oa(t,s,a,!c);return}}pS(t,e,s,n,r,i,a,o,l)}function kU(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oa(t,e,n,r){e&=~i_,e&=~al,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-Dr(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&MI(t,n,e)}function gg(){return it&6?!0:(zf(0),!1)}function s_(){if(Le!==null){if(ot===0)var t=Le.return;else t=Le,As=Ml=null,qw(t),Ac=null,ef=0,t=Le;for(;t!==null;)lD(t.alternate,t),t=t.return;Le=null}}function Jc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,i6(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ms=0,s_(),gt=t,Le=n=Ds(t.current,null),Ge=e,ot=0,Er=null,Ma=!1,Eu=jf(t,e),r_=!1,Xc=Cr=i_=al=ro=zt=0,sr=jd=null,M0=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Dr(r),s=1<<i;e|=t[i],r&=~s}return zs=e,lg(),n}function ND(t,e){Ne=null,Te.H=nf,e===_u||e===ug?(e=Gx(),ot=3):e===Lw?(e=Gx(),ot=4):ot=e===Jw?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Er=e,Le===null&&(zt=1,Zm(t,Xr(e,t.current)))}function DD(){var t=kr.current;return t===null?!0:(Ge&4194048)===Ge?ti===null:(Ge&62914560)===Ge||Ge&536870912?t===ti:!1}function PD(){var t=Te.H;return Te.H=nf,t===null?nf:t}function MD(){var t=Te.A;return Te.A=VU,t}function rp(){zt=4,Ma||(Ge&4194048)!==Ge&&kr.current!==null||(Eu=!0),!(ro&134217727)&&!(al&134217727)||gt===null||Oa(gt,Ge,Cr,!1)}function Jy(t,e,n){var r=it;it|=2;var i=PD(),s=MD();(gt!==t||Ge!==e)&&(np=null,Jc(t,e)),e=!1;var a=zt;e:do try{if(ot!==0&&Le!==null){var o=Le,l=Er;switch(ot){case 8:s_(),a=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(e=!0);var c=ot;if(ot=0,Er=null,mc(t,o,l,c),n&&Eu){a=0;break e}break;default:c=ot,ot=0,Er=null,mc(t,o,l,c)}}UU(),a=zt;break}catch(u){ND(t,u)}while(!0);return e&&t.shellSuspendCounter++,As=Ml=null,it=r,Te.H=i,Te.A=s,Le===null&&(gt=null,Ge=0,lg()),a}function UU(){for(;Le!==null;)OD(Le)}function FU(t,e){var n=it;it|=2;var r=PD(),i=MD();gt!==t||Ge!==e?(np=null,tp=Ir()+500,Jc(t,e)):Eu=jf(t,e);e:do try{if(ot!==0&&Le!==null){e=Le;var s=Er;t:switch(ot){case 1:ot=0,Er=null,mc(t,e,s,1);break;case 2:case 9:if(qx(s)){ot=0,Er=null,mS(e);break}e=function(){ot!==2&&ot!==9||gt!==t||(ot=7),as(t)},s.then(e,e);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:qx(s)?(ot=0,Er=null,mS(e)):(ot=0,Er=null,mc(t,e,s,7));break;case 5:var a=null;switch(Le.tag){case 26:a=Le.memoizedState;case 5:case 27:var o=Le;if(a?eP(a):o.stateNode.complete){ot=0,Er=null;var l=o.sibling;if(l!==null)Le=l;else{var c=o.return;c!==null?(Le=c,yg(c)):Le=null}break t}}ot=0,Er=null,mc(t,e,s,5);break;case 6:ot=0,Er=null,mc(t,e,s,6);break;case 8:s_(),zt=6;break e;default:throw Error(K(462))}}BU();break}catch(u){ND(t,u)}while(!0);return As=Ml=null,Te.H=r,Te.A=i,it=n,Le!==null?0:(gt=null,Ge=0,lg(),zt)}function BU(){for(;Le!==null&&!u5();)OD(Le)}function OD(t){var e=oD(t.alternate,t,zs);t.memoizedProps=t.pendingProps,e===null?yg(t):Le=e}function mS(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=oS(n,e,e.pendingProps,e.type,void 0,Ge);break;case 11:e=oS(n,e,e.pendingProps,e.type.render,e.ref,Ge);break;case 5:qw(e);default:lD(n,e),e=Le=lN(e,zs),e=oD(n,e,zs)}t.memoizedProps=t.pendingProps,e===null?yg(t):Le=e}function mc(t,e,n,r){As=Ml=null,qw(e),Ac=null,ef=0;var i=e.return;try{if(IU(t,i,e,n,Ge)){zt=1,Zm(t,Xr(n,t.current)),Le=null;return}}catch(s){if(i!==null)throw Le=i,s;zt=1,Zm(t,Xr(n,t.current)),Le=null;return}e.flags&32768?(We||r===1?t=!0:Eu||Ge&536870912?t=!1:(Ma=t=!0,(r===2||r===9||r===3||r===6)&&(r=kr.current,r!==null&&r.tag===13&&(r.flags|=16384))),jD(e,t)):yg(e)}function yg(t){var e=t;do{if(e.flags&32768){jD(e,Ma);return}t=e.return;var n=PU(e.alternate,e,zs);if(n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);zt===0&&(zt=5)}function jD(t,e){do{var n=MU(t.alternate,t);if(n!==null){n.flags&=32767,Le=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Le=t;return}Le=t=n}while(t!==null);zt=6,Le=null}function pS(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do vg();while(cn!==0);if(it&6)throw Error(K(327));if(e!==null){if(e===t.current)throw Error(K(177));if(s=e.lanes|e.childLanes,s|=Nw,w5(t,n,s,a,o,l),t===gt&&(Le=gt=null,Ge=0),Zc=e,qa=t,Ms=n,O0=s,j0=i,CD=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,GU(Bm,function(){return FD(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Te.T,Te.T=null,i=st.p,st.p=2,a=it,it|=4;try{OU(t,e,n)}finally{it=a,st.p=i,Te.T=r}}cn=1,VD(),LD(),kD()}}function VD(){if(cn===1){cn=0;var t=qa,e=Zc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Te.T,Te.T=null;var r=st.p;st.p=2;var i=it;it|=4;try{bD(e,t);var s=F0,a=eN(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&JI(o.ownerDocument.documentElement,o)){if(l!==null&&Iw(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),w=o.textContent.length,g=Math.min(l.start,w),E=l.end===void 0?g:Math.min(l.end,w);!m.extend&&g>E&&(a=E,E=g,g=a);var b=Lx(o,g),_=Lx(o,E);if(b&&_&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==_.node||m.focusOffset!==_.offset)){var T=f.createRange();T.setStart(b.node,b.offset),m.removeAllRanges(),g>E?(m.addRange(T),m.extend(_.node,_.offset)):(T.setEnd(_.node,_.offset),m.addRange(T))}}}}for(f=[],m=o;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var R=f[o];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}dp=!!U0,F0=U0=null}finally{it=i,st.p=r,Te.T=n}}t.current=e,cn=2}}function LD(){if(cn===2){cn=0;var t=qa,e=Zc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Te.T,Te.T=null;var r=st.p;st.p=2;var i=it;it|=4;try{mD(t,e.alternate,e)}finally{it=i,st.p=r,Te.T=n}}cn=3}}function kD(){if(cn===4||cn===3){cn=0,d5();var t=qa,e=Zc,n=Ms,r=CD;e.subtreeFlags&10256||e.flags&10256?cn=5:(cn=0,Zc=qa=null,UD(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Ha=null),Ew(n),e=e.stateNode,Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Of,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Te.T,i=st.p,st.p=2,Te.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{Te.T=e,st.p=i}}Ms&3&&vg(),as(t),i=t.pendingLanes,n&261930&&i&42?t===V0?Vd++:(Vd=0,V0=t):Vd=0,zf(0)}}function UD(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Uf(e)))}function vg(){return VD(),LD(),kD(),FD()}function FD(){if(cn!==5)return!1;var t=qa,e=O0;O0=0;var n=Ew(Ms),r=Te.T,i=st.p;try{st.p=32>n?32:n,Te.T=null,n=j0,j0=null;var s=qa,a=Ms;if(cn=0,Zc=qa=null,Ms=0,it&6)throw Error(K(331));var o=it;if(it|=4,xD(s.current),_D(s,s.current,a,n),it=o,zf(0,!1),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Of,s)}catch{}return!0}finally{st.p=i,Te.T=r,UD(t,e)}}function gS(t,e,n){e=Xr(n,e),e=I0(t.stateNode,e,2),t=za(t,e,2),t!==null&&(Vf(t,2),as(t))}function ct(t,e,n){if(t.tag===3)gS(t,t,n);else for(;e!==null;){if(e.tag===3){gS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ha===null||!Ha.has(r))){t=Xr(n,t),n=tD(2),r=za(e,n,2),r!==null&&(nD(n,r,e,t),Vf(r,2),as(r));break}}e=e.return}}function ev(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(r_=!0,i.add(n),t=zU.bind(null,t,e,n),e.then(t,t))}function zU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,gt===t&&(Ge&n)===n&&(zt===4||zt===3&&(Ge&62914560)===Ge&&300>Ir()-pg?!(it&2)&&Jc(t,0):i_|=n,Xc===Ge&&(Xc=0)),as(t)}function BD(t,e){e===0&&(e=PI()),t=Pl(t,e),t!==null&&(Vf(t,e),as(t))}function HU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BD(t,n)}function qU(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(K(314))}r!==null&&r.delete(e),BD(t,n)}function GU(t,e){return ww(t,e)}var ip=null,Zl=null,L0=!1,sp=!1,tv=!1,ja=0;function as(t){t!==Zl&&t.next===null&&(Zl===null?ip=Zl=t:Zl=Zl.next=t),sp=!0,L0||(L0=!0,KU())}function zf(t,e){if(!tv&&sp){tv=!0;do for(var n=!1,r=ip;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-Dr(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,yS(r,s))}else s=Ge,s=ig(r,r===gt?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||jf(r,s)||(n=!0,yS(r,s));r=r.next}while(n);tv=!1}}function $U(){zD()}function zD(){sp=L0=!1;var t=0;ja!==0&&r6()&&(t=ja);for(var e=Ir(),n=null,r=ip;r!==null;){var i=r.next,s=HD(r,e);s===0?(r.next=null,n===null?ip=i:n.next=i,i===null&&(Zl=n)):(n=r,(t!==0||s&3)&&(sp=!0)),r=i}cn!==0&&cn!==5||zf(t),ja!==0&&(ja=0)}function HD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Dr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=b5(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=gt,n=Ge,n=ig(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Iy(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||jf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Iy(r),Ew(n)){case 2:case 8:n=NI;break;case 32:n=Bm;break;case 268435456:n=DI;break;default:n=Bm}return r=qD.bind(null,t),n=ww(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Iy(r),t.callbackPriority=2,t.callbackNode=null,2}function qD(t,e){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(vg()&&t.callbackNode!==n)return null;var r=Ge;return r=ig(t,t===gt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(ID(t,r,e),HD(t,Ir()),t.callbackNode!=null&&t.callbackNode===n?qD.bind(null,t):null)}function yS(t,e){if(vg())return null;ID(t,e,!0)}function KU(){s6(function(){it&6?ww(II,$U):zD()})}function a_(){if(ja===0){var t=Yc;t===0&&(t=Ch,Ch<<=1,!(Ch&261888)&&(Ch=256)),ja=t}return ja}function vS(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:om(""+t)}function bS(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function YU(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=vS((i[fr]||null).action),a=r.submitter;a&&(e=(e=a[fr]||null)?vS(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new sg("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ja!==0){var l=a?bS(i,a):new FormData(i);C0(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?bS(i,a):new FormData(i),C0(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var nv=0;nv<p0.length;nv++){var rv=p0[nv],WU=rv.toLowerCase(),QU=rv[0].toUpperCase()+rv.slice(1);Si(WU,"on"+QU)}Si(nN,"onAnimationEnd");Si(rN,"onAnimationIteration");Si(iN,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(fU,"onTransitionRun");Si(hU,"onTransitionStart");Si(mU,"onTransitionCancel");Si(sN,"onTransitionEnd");$c("onMouseEnter",["mouseout","mouseover"]);$c("onMouseLeave",["mouseout","mouseover"]);$c("onPointerEnter",["pointerout","pointerover"]);$c("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rf));function GD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Hm(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Hm(u)}i.currentTarget=null,s=l}}}}function Ve(t,e){var n=e[o0];n===void 0&&(n=e[o0]=new Set);var r=t+"__bubble";n.has(r)||($D(e,t,2,!1),n.add(r))}function iv(t,e,n){var r=0;e&&(r|=4),$D(n,t,r,e)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function o_(t){if(!t[Lh]){t[Lh]=!0,LI.forEach(function(n){n!=="selectionchange"&&(XU.has(n)||iv(n,!1,t),iv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lh]||(e[Lh]=!0,iv("selectionchange",!1,e))}}function $D(t,e,n,r){switch(sP(e)){case 2:var i=S6;break;case 8:i=A6;break;default:i=d_}n=i.bind(null,e,n,t),i=void 0,!f0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=sc(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}GI(function(){var c=s,u=Sw(n),f=[];e:{var h=aN.get(t);if(h!==void 0){var m=sg,w=t;switch(t){case"keypress":if(cm(n)===0)break e;case"keydown":case"keyup":m=q5;break;case"focusin":w="focus",m=Oy;break;case"focusout":w="blur",m=Oy;break;case"beforeblur":case"afterblur":m=Oy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=P5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=K5;break;case nN:case rN:case iN:m=j5;break;case sN:m=W5;break;case"scroll":case"scrollend":m=N5;break;case"wheel":m=X5;break;case"copy":case"cut":case"paste":m=L5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ix;break;case"toggle":case"beforetoggle":m=J5}var g=(e&4)!==0,E=!g&&(t==="scroll"||t==="scrollend"),b=g?h!==null?h+"Capture":null:h;g=[];for(var _=c,T;_!==null;){var R=_;if(T=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||T===null||b===null||(R=Wd(_,b),R!=null&&g.push(sf(_,R,T))),E)break;_=_.return}0<g.length&&(h=new m(h,w,null,n,u),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==d0&&(w=n.relatedTarget||n.fromElement)&&(sc(w)||w[vu]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?sc(w):null,w!==null&&(E=Mf(w),g=w.tag,w!==E||g!==5&&g!==27&&g!==6)&&(w=null)):(m=null,w=c),m!==w)){if(g=Cx,R="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=Ix,R="onPointerLeave",b="onPointerEnter",_="pointer"),E=m==null?h:ud(m),T=w==null?h:ud(w),h=new g(R,_+"leave",m,n,u),h.target=E,h.relatedTarget=T,R=null,sc(u)===c&&(g=new g(b,_+"enter",w,n,u),g.target=T,g.relatedTarget=E,R=g),E=R,m&&w)t:{for(g=ZU,b=m,_=w,T=0,R=b;R;R=g(R))T++;R=0;for(var P=_;P;P=g(P))R++;for(;0<T-R;)b=g(b),T--;for(;0<R-T;)_=g(_),R--;for(;T--;){if(b===_||_!==null&&b===_.alternate){g=b;break t}b=g(b),_=g(_)}g=null}else g=null;m!==null&&wS(f,h,m,g,!1),w!==null&&E!==null&&wS(f,E,w,g,!0)}}e:{if(h=c?ud(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=Mx;else if(Px(h))if(XI)k=cU;else{k=oU;var x=aU}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&xw(c.elementType)&&(k=Mx):k=lU;if(k&&(k=k(t,c))){QI(f,k,n,u);break e}x&&x(t,h,c),t==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&u0(h,"number",h.value)}switch(x=c?ud(c):window,t){case"focusin":(Px(x)||x.contentEditable==="true")&&(lc=x,h0=c,Cd=null);break;case"focusout":Cd=h0=lc=null;break;case"mousedown":m0=!0;break;case"contextmenu":case"mouseup":case"dragend":m0=!1,kx(f,n,u);break;case"selectionchange":if(dU)break;case"keydown":case"keyup":kx(f,n,u)}var A;if(Rw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else oc?YI(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(KI&&n.locale!=="ko"&&(oc||C!=="onCompositionStart"?C==="onCompositionEnd"&&oc&&(A=$I()):(Pa=u,Aw="value"in Pa?Pa.value:Pa.textContent,oc=!0)),x=ap(c,C),0<x.length&&(C=new Rx(C,t,null,n,u),f.push({event:C,listeners:x}),A?C.data=A:(A=WI(n),A!==null&&(C.data=A)))),(A=tU?nU(t,n):rU(t,n))&&(C=ap(c,"onBeforeInput"),0<C.length&&(x=new Rx("onBeforeInput","beforeinput",null,n,u),f.push({event:x,listeners:C}),x.data=A)),YU(f,t,c,n,u)}GD(f,e)})}function sf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ap(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Wd(t,n),i!=null&&r.unshift(sf(t,i,s)),i=Wd(t,e),i!=null&&r.push(sf(t,i,s))),t.tag===3)return r;t=t.return}return[]}function ZU(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wS(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=Wd(n,s),c!=null&&a.unshift(sf(n,c,l))):i||(c=Wd(n,s),c!=null&&a.push(sf(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var JU=/\r\n?/g,e6=/\u0000|\uFFFD/g;function _S(t){return(typeof t=="string"?t:""+t).replace(JU,`
`).replace(e6,"")}function KD(t,e){return e=_S(e),_S(t)===e}function dt(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Kc(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Kc(t,""+r);break;case"className":Nh(t,"class",r);break;case"tabIndex":Nh(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Nh(t,n,r);break;case"style":qI(t,r,s);break;case"data":if(e!=="object"){Nh(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=om(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&dt(t,e,"name",i.name,i,null),dt(t,e,"formEncType",i.formEncType,i,null),dt(t,e,"formMethod",i.formMethod,i,null),dt(t,e,"formTarget",i.formTarget,i,null)):(dt(t,e,"encType",i.encType,i,null),dt(t,e,"method",i.method,i,null),dt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=om(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Ss);break;case"onScroll":r!=null&&Ve("scroll",t);break;case"onScrollEnd":r!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(K(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(K(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=om(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),am(t,"popover",r);break;case"xlinkActuate":ms(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ms(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ms(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ms(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ms(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ms(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ms(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ms(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ms(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":am(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=R5.get(n)||n,am(t,n,r))}}function k0(t,e,n,r,i,s){switch(n){case"style":qI(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(K(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(K(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Kc(t,r):(typeof r=="number"||typeof r=="bigint")&&Kc(t,""+r);break;case"onScroll":r!=null&&Ve("scroll",t);break;case"onScrollEnd":r!=null&&Ve("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kI.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[fr]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):am(t,n,r)}}}function Dn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(K(137,e));default:dt(t,e,s,a,n,null)}}i&&dt(t,e,"srcSet",n.srcSet,n,null),r&&dt(t,e,"src",n.src,n,null);return;case"input":Ve("invalid",t);var o=s=a=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":i=u;break;case"type":a=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":s=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(K(137,e));break;default:dt(t,e,r,u,n,null)}}BI(t,s,o,l,c,a,i,!1);return;case"select":Ve("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:dt(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?Tc(t,!!r,e,!1):n!=null&&Tc(t,!!r,n,!0);return;case"textarea":Ve("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(K(91));break;default:dt(t,e,a,o,n,null)}HI(t,r,i,s);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:dt(t,e,l,r,n,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(r=0;r<rf.length;r++)Ve(rf[r],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(K(137,e));default:dt(t,e,c,r,n,null)}return;default:if(xw(e)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&k0(t,e,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&dt(t,e,o,r,n,null))}function t6(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,c=null,u=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(m)||dt(t,e,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":s=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":a=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(K(137,e));break;default:m!==f&&dt(t,e,h,m,r,f)}}c0(t,a,o,l,c,u,s,i);return;case"select":m=a=o=h=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(s)||dt(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":h=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&dt(t,e,i,s,r,l)}e=o,n=a,r=m,h!=null?Tc(t,!!n,h,!1):!!r!=!!n&&(e!=null?Tc(t,!!n,e,!0):Tc(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:dt(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(K(91));break;default:i!==s&&dt(t,e,a,i,r,s)}zI(t,h,m);return;case"option":for(var w in n)if(h=n[w],n.hasOwnProperty(w)&&h!=null&&!r.hasOwnProperty(w))switch(w){case"selected":t.selected=!1;break;default:dt(t,e,w,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:dt(t,e,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&dt(t,e,g,null,r,h);for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(K(137,e));break;default:dt(t,e,c,h,r,m)}return;default:if(xw(e)){for(var E in n)h=n[E],n.hasOwnProperty(E)&&h!==void 0&&!r.hasOwnProperty(E)&&k0(t,e,E,void 0,r,h);for(u in r)h=r[u],m=n[u],!r.hasOwnProperty(u)||h===m||h===void 0&&m===void 0||k0(t,e,u,h,r,m);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&dt(t,e,b,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h==null&&m==null||dt(t,e,f,h,r,m)}function ES(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n6(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&ES(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,f=l.initiatorType;u&&ES(f)&&(l=l.responseEnd,a+=u*(l<o?1:(o-c)/(l-c)))}if(--r,e+=8*(s+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var U0=null,F0=null;function op(t){return t.nodeType===9?t:t.ownerDocument}function TS(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YD(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function B0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var av=null;function r6(){var t=window.event;return t&&t.type==="popstate"?t===av?!1:(av=t,!0):(av=null,!1)}var WD=typeof setTimeout=="function"?setTimeout:void 0,i6=typeof clearTimeout=="function"?clearTimeout:void 0,xS=typeof Promise=="function"?Promise:void 0,s6=typeof queueMicrotask=="function"?queueMicrotask:typeof xS<"u"?function(t){return xS.resolve(null).then(t).catch(a6)}:WD;function a6(t){setTimeout(function(){throw t})}function vo(t){return t==="head"}function SS(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),tu(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Ld(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ld(n);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Lf]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Ld(t.ownerDocument.body);n=i}while(n);tu(e)}function AS(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function z0(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":z0(n),Tw(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function o6(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Lf])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function l6(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ni(t.nextSibling),t===null))return null;return t}function QD(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=ni(t.nextSibling),t===null))return null;return t}function H0(t){return t.data==="$?"||t.data==="$~"}function q0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function c6(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var G0=null;function CS(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return ni(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function RS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function XD(t,e,n){switch(e=op(n),t){case"html":if(t=e.documentElement,!t)throw Error(K(452));return t;case"head":if(t=e.head,!t)throw Error(K(453));return t;case"body":if(t=e.body,!t)throw Error(K(454));return t;default:throw Error(K(451))}}function Ld(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Tw(t)}var ii=new Map,IS=new Set;function lp(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qs=st.d;st.d={f:u6,r:d6,D:f6,C:h6,L:m6,m:p6,X:y6,S:g6,M:v6};function u6(){var t=Qs.f(),e=gg();return t||e}function d6(t){var e=bu(t);e!==null&&e.tag===5&&e.type==="form"?qN(e):Qs.r(t)}var Tu=typeof document>"u"?null:document;function ZD(t,e,n){var r=Tu;if(r&&typeof e=="string"&&e){var i=Qr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),IS.has(i)||(IS.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Dn(e,"link",t),bn(e),r.head.appendChild(e)))}}function f6(t){Qs.D(t),ZD("dns-prefetch",t,null)}function h6(t,e){Qs.C(t,e),ZD("preconnect",t,e)}function m6(t,e,n){Qs.L(t,e,n);var r=Tu;if(r&&t&&e){var i='link[rel="preload"][as="'+Qr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Qr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Qr(n.imageSizes)+'"]')):i+='[href="'+Qr(t)+'"]';var s=i;switch(e){case"style":s=eu(t);break;case"script":s=xu(t)}ii.has(s)||(t=Rt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ii.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Hf(s))||e==="script"&&r.querySelector(qf(s))||(e=r.createElement("link"),Dn(e,"link",t),bn(e),r.head.appendChild(e)))}}function p6(t,e){Qs.m(t,e);var n=Tu;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Qr(r)+'"][href="'+Qr(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=xu(t)}if(!ii.has(s)&&(t=Rt({rel:"modulepreload",href:t},e),ii.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qf(s)))return}r=n.createElement("link"),Dn(r,"link",t),bn(r),n.head.appendChild(r)}}}function g6(t,e,n){Qs.S(t,e,n);var r=Tu;if(r&&t){var i=Ec(r).hoistableStyles,s=eu(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Hf(s)))o.loading=5;else{t=Rt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ii.get(s))&&l_(t,n);var l=a=r.createElement("link");bn(l),Dn(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ym(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function y6(t,e){Qs.X(t,e);var n=Tu;if(n&&t){var r=Ec(n).hoistableScripts,i=xu(t),s=r.get(i);s||(s=n.querySelector(qf(i)),s||(t=Rt({src:t,async:!0},e),(e=ii.get(i))&&c_(t,e),s=n.createElement("script"),bn(s),Dn(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function v6(t,e){Qs.M(t,e);var n=Tu;if(n&&t){var r=Ec(n).hoistableScripts,i=xu(t),s=r.get(i);s||(s=n.querySelector(qf(i)),s||(t=Rt({src:t,async:!0,type:"module"},e),(e=ii.get(i))&&c_(t,e),s=n.createElement("script"),bn(s),Dn(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function NS(t,e,n,r){var i=(i=Ua.current)?lp(i):null;if(!i)throw Error(K(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=eu(n.href),n=Ec(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=eu(n.href);var s=Ec(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(Hf(t)))&&!s._p&&(a.instance=s,a.state.loading=5),ii.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ii.set(t,n),s||b6(i,t,n,a.state))),e&&r===null)throw Error(K(528,""));return a}if(e&&r!==null)throw Error(K(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xu(n),n=Ec(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(K(444,t))}}function eu(t){return'href="'+Qr(t)+'"'}function Hf(t){return'link[rel="stylesheet"]['+t+"]"}function JD(t){return Rt({},t,{"data-precedence":t.precedence,precedence:null})}function b6(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Dn(e,"link",n),bn(e),t.head.appendChild(e))}function xu(t){return'[src="'+Qr(t)+'"]'}function qf(t){return"script[async]"+t}function DS(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Qr(n.href)+'"]');if(r)return e.instance=r,bn(r),r;var i=Rt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),bn(r),Dn(r,"style",i),ym(r,n.precedence,t),e.instance=r;case"stylesheet":i=eu(n.href);var s=t.querySelector(Hf(i));if(s)return e.state.loading|=4,e.instance=s,bn(s),s;r=JD(n),(i=ii.get(i))&&l_(r,i),s=(t.ownerDocument||t).createElement("link"),bn(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Dn(s,"link",r),e.state.loading|=4,ym(s,n.precedence,t),e.instance=s;case"script":return s=xu(n.src),(i=t.querySelector(qf(s)))?(e.instance=i,bn(i),i):(r=n,(i=ii.get(s))&&(r=Rt({},n),c_(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),bn(i),Dn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(K(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,ym(r,n.precedence,t));return e.instance}function ym(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function l_(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function c_(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var vm=null;function PS(t,e,n){if(vm===null){var r=new Map,i=vm=new Map;i.set(n,r)}else i=vm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Lf]||s[Cn]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function MS(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function w6(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function eP(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function _6(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=eu(r.href),s=e.querySelector(Hf(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=cp.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,bn(s);return}s=e.ownerDocument||e,r=JD(r),(i=ii.get(i))&&l_(r,i),s=s.createElement("link"),bn(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Dn(s,"link",r),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=cp.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ov=0;function E6(t,e){return t.stylesheets&&t.count===0&&bm(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&bm(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&ov===0&&(ov=62500*n6());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bm(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>ov?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function cp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var up=null;function bm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,up=new Map,e.forEach(T6,t),up=null,cp.call(t))}function T6(t,e){if(!(e.state.loading&4)){var n=up.get(t);if(n)var r=n.get(null);else{n=new Map,up.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=cp.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var af={$$typeof:xs,Provider:null,Consumer:null,_currentValue:nl,_currentValue2:nl,_threadCount:0};function x6(t,e,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ny(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ny(0),this.hiddenUpdates=Ny(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function tP(t,e,n,r,i,s,a,o,l,c,u,f){return t=new x6(t,e,n,a,l,c,u,f,o),e=1,s===!0&&(e|=24),s=Ar(3,null,null,e),t.current=s,s.stateNode=t,e=jw(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},kw(s),t}function nP(t){return t?(t=dc,t):dc}function rP(t,e,n,r,i,s){i=nP(i),r.context===null?r.context=i:r.pendingContext=i,r=Ba(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=za(t,r,e),n!==null&&(dr(n,t,e),Id(n,t,e))}function OS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u_(t,e){OS(t,e),(t=t.alternate)&&OS(t,e)}function iP(t){if(t.tag===13||t.tag===31){var e=Pl(t,67108864);e!==null&&dr(e,t,67108864),u_(t,67108864)}}function jS(t){if(t.tag===13||t.tag===31){var e=Pr();e=_w(e);var n=Pl(t,e);n!==null&&dr(n,t,e),u_(t,e)}}var dp=!0;function S6(t,e,n,r){var i=Te.T;Te.T=null;var s=st.p;try{st.p=2,d_(t,e,n,r)}finally{st.p=s,Te.T=i}}function A6(t,e,n,r){var i=Te.T;Te.T=null;var s=st.p;try{st.p=8,d_(t,e,n,r)}finally{st.p=s,Te.T=i}}function d_(t,e,n,r){if(dp){var i=$0(r);if(i===null)sv(t,e,r,fp,n),VS(t,r);else if(R6(i,t,e,n,r))r.stopPropagation();else if(VS(t,r),e&4&&-1<C6.indexOf(t)){for(;i!==null;){var s=bu(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Vo(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Dr(a);o.entanglements[1]|=l,a&=~l}as(s),!(it&6)&&(tp=Ir()+500,zf(0))}}break;case 31:case 13:o=Pl(s,2),o!==null&&dr(o,s,2),gg(),u_(s,2)}if(s=$0(r),s===null&&sv(t,e,r,fp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sv(t,e,r,null,n)}}function $0(t){return t=Sw(t),f_(t)}var fp=null;function f_(t){if(fp=null,t=sc(t),t!==null){var e=Mf(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=xI(e),t!==null)return t;t=null}else if(n===31){if(t=SI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return fp=t,null}function sP(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(f5()){case II:return 2;case NI:return 8;case Bm:case h5:return 32;case DI:return 268435456;default:return 32}default:return 32}}var K0=!1,Ga=null,$a=null,Ka=null,of=new Map,lf=new Map,wa=[],C6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VS(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":of.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(e.pointerId)}}function ed(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bu(e),e!==null&&iP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function R6(t,e,n,r,i){switch(e){case"focusin":return Ga=ed(Ga,t,e,n,r,i),!0;case"dragenter":return $a=ed($a,t,e,n,r,i),!0;case"mouseover":return Ka=ed(Ka,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return of.set(s,ed(of.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,lf.set(s,ed(lf.get(s)||null,t,e,n,r,i)),!0}return!1}function aP(t){var e=sc(t.target);if(e!==null){var n=Mf(e);if(n!==null){if(e=n.tag,e===13){if(e=xI(n),e!==null){t.blockedOn=e,wx(t.priority,function(){jS(n)});return}}else if(e===31){if(e=SI(n),e!==null){t.blockedOn=e,wx(t.priority,function(){jS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$0(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);d0=r,n.target.dispatchEvent(r),d0=null}else return e=bu(n),e!==null&&iP(e),t.blockedOn=n,!1;e.shift()}return!0}function LS(t,e,n){wm(t)&&n.delete(e)}function I6(){K0=!1,Ga!==null&&wm(Ga)&&(Ga=null),$a!==null&&wm($a)&&($a=null),Ka!==null&&wm(Ka)&&(Ka=null),of.forEach(LS),lf.forEach(LS)}function kh(t,e){t.blockedOn===e&&(t.blockedOn=null,K0||(K0=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,I6)))}var Uh=null;function kS(t){Uh!==t&&(Uh=t,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,function(){Uh===t&&(Uh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(f_(r||n)===null)continue;break}var s=bu(n);s!==null&&(t.splice(e,3),e-=3,C0(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function tu(t){function e(l){return kh(l,t)}Ga!==null&&kh(Ga,t),$a!==null&&kh($a,t),Ka!==null&&kh(Ka,t),of.forEach(e),lf.forEach(e);for(var n=0;n<wa.length;n++){var r=wa[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<wa.length&&(n=wa[0],n.blockedOn===null);)aP(n),n.blockedOn===null&&wa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[fr]||null;if(typeof s=="function")a||kS(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[fr]||null)o=a.formAction;else if(f_(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),kS(n)}}}function oP(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function h_(t){this._internalRoot=t}bg.prototype.render=h_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));var n=e.current,r=Pr();rP(n,r,t,e,null,null)};bg.prototype.unmount=h_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rP(t.current,2,null,t,null,null),gg(),e[vu]=null}};function bg(t){this._internalRoot=t}bg.prototype.unstable_scheduleHydration=function(t){if(t){var e=VI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wa.length&&e!==0&&e<wa[n].priority;n++);wa.splice(n,0,t),n===0&&aP(t)}};var US=EI.version;if(US!=="19.2.0")throw Error(K(527,US,"19.2.0"));st.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=s5(e),t=t!==null?AI(t):null,t=t===null?null:t.stateNode,t};var N6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Of=Fh.inject(N6),Nr=Fh}catch{}}ng.createRoot=function(t,e){if(!TI(t))throw Error(K(299));var n=!1,r="",i=ZN,s=JN,a=eD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=tP(t,1,!1,null,null,n,r,null,i,s,a,oP),t[vu]=e.current,o_(t),new h_(e)};ng.hydrateRoot=function(t,e,n){if(!TI(t))throw Error(K(299));var r=!1,i="",s=ZN,a=JN,o=eD,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=tP(t,1,!0,e,n??null,r,i,l,s,a,o,oP),e.context=nP(null),n=e.current,r=Pr(),r=_w(r),i=Ba(r),i.callback=null,za(n,i,r),n=r,e.current.lanes=n,Vf(e,n),as(e),t[vu]=e.current,o_(t),new bg(e)};ng.version="19.2.0";function lP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lP)}catch(t){console.error(t)}}lP(),cI.exports=ng;var D6=cI.exports;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nt(){return Nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nt.apply(this,arguments)}var Gt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gt||(Gt={}));const FS="popstate";function P6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return cf("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gf(i)}return O6(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M6(){return Math.random().toString(36).substr(2,8)}function BS(t,e){return{usr:t.state,key:t.key,idx:e}}function cf(t,e,n,r){return n===void 0&&(n=null),Nt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xs(e):e,{state:n,key:e&&e.key||r||M6()})}function Gf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function O6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Gt.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Nt({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function f(){o=Gt.Pop;let E=u(),b=E==null?null:E-c;c=E,l&&l({action:o,location:g.location,delta:b})}function h(E,b){o=Gt.Push;let _=cf(g.location,E,b);c=u()+1;let T=BS(_,c),R=g.createHref(_);try{a.pushState(T,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(R)}s&&l&&l({action:o,location:g.location,delta:1})}function m(E,b){o=Gt.Replace;let _=cf(g.location,E,b);c=u();let T=BS(_,c),R=g.createHref(_);a.replaceState(T,"",R),s&&l&&l({action:o,location:g.location,delta:0})}function w(E){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:Gf(E);return _=_.replace(/ $/,"%20"),ke(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let g={get action(){return o},get location(){return t(i,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(FS,f),l=E,()=>{i.removeEventListener(FS,f),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let b=w(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(E){return a.go(E)}};return g}var lt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lt||(lt={}));const j6=new Set(["lazy","caseSensitive","path","id","index","children"]);function V6(t){return t.index===!0}function hp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let a=[...n,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(ke(i.index!==!0||!i.children,"Cannot specify children on an index route"),ke(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),V6(i)){let l=Nt({},i,e(i),{id:o});return r[o]=l,l}else{let l=Nt({},i,e(i),{id:o,children:void 0});return r[o]=l,i.children&&(l.children=hp(i.children,e,a,r)),l}})}function zo(t,e,n){return n===void 0&&(n="/"),_m(t,e,n,!1)}function _m(t,e,n,r){let i=typeof e=="string"?Xs(e):e,s=$f(i.pathname||"/",n);if(s==null)return null;let a=cP(t);k6(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=W6(s);o=K6(a[l],c,r)}return o}function L6(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function cP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ol([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cP(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:G6(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of uP(s.path))i(s,a,l)}),e}function uP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=uP(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function k6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U6=/^:[\w-]+$/,F6=3,B6=2,z6=1,H6=10,q6=-2,zS=t=>t==="*";function G6(t,e){let n=t.split("/"),r=n.length;return n.some(zS)&&(r+=q6),e&&(r+=B6),n.filter(i=>!zS(i)).reduce((i,s)=>i+(U6.test(s)?F6:s===""?z6:H6),r)}function $6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function K6(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=HS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=HS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ol([s,f.pathname]),pathnameBase:e3(ol([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ol([s,f.pathnameBase]))}return a}function HS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Y6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let g=o[f]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const w=o[f];return m&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function Y6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function W6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $f(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Q6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xs(t):t;return{pathname:n?n.startsWith("/")?n:X6(n,e):e,search:t3(r),hash:n3(i)}}function X6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z6(t,e){let n=dP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function J6(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xs(t):(i=Nt({},t),ke(!i.pathname||!i.pathname.includes("?"),lv("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),lv("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),lv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=Q6(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ol=t=>t.join("/").replace(/\/\/+/g,"/"),e3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class mp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function uf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fP=["post","put","patch","delete"],r3=new Set(fP),i3=["get",...fP],s3=new Set(i3),a3=new Set([301,302,303,307,308]),o3=new Set([307,308]),cv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},l3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},td={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},m_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c3=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),hP="remix-router-transitions";function u3(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ke(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=U=>({hasErrorBoundary:j(U)})}else i=c3;let s={},a=hp(t.routes,i,void 0,s),o,l=t.basename||"/",c=t.dataStrategy||m3,u=t.patchRoutesOnNavigation,f=Nt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,m=new Set,w=null,g=null,E=null,b=t.hydrationData!=null,_=zo(a,t.history.location,l),T=!1,R=null;if(_==null&&!u){let j=ir(404,{pathname:t.history.location.pathname}),{matches:U,route:B}=eA(a);_=U,R={[B.id]:j}}_&&!t.hydrationData&&nt(_,a,t.history.location.pathname).active&&(_=null);let P;if(_)if(_.some(j=>j.route.lazy))P=!1;else if(!_.some(j=>j.route.loader))P=!0;else if(f.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null;if(U){let B=_.findIndex(X=>U[X.route.id]!==void 0);P=_.slice(0,B+1).every(X=>!W0(X.route,j,U))}else P=_.every(B=>!W0(B.route,j,U))}else P=t.hydrationData!=null;else if(P=!1,_=[],f.v7_partialHydration){let j=nt(null,a,t.history.location.pathname);j.active&&j.matches&&(T=!0,_=j.matches)}let k,x={historyAction:t.history.action,location:t.history.location,matches:_,initialized:P,navigation:cv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||R,fetchers:new Map,blockers:new Map},A=Gt.Pop,C=!1,I,D=!1,O=new Map,M=null,ee=!1,ue=!1,H=[],W=new Set,q=new Map,V=0,L=-1,J=new Map,Q=new Set,Z=new Map,le=new Map,be=new Set,tt=new Map,te=new Map,Oe;function ht(){if(h=t.history.listen(j=>{let{action:U,location:B,delta:X}=j;if(Oe){Oe(),Oe=void 0;return}nu(te.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=li({currentLocation:x.location,nextLocation:B,historyAction:U});if(re&&X!=null){let he=new Promise(me=>{Oe=me});t.history.go(X*-1),Di(re,{state:"blocked",location:B,proceed(){Di(re,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),he.then(()=>t.history.go(X))},reset(){let me=new Map(x.blockers);me.set(re,td),ge({blockers:me})}});return}return Qt(U,B)}),n){R3(e,O);let j=()=>I3(e,O);e.addEventListener("pagehide",j),M=()=>e.removeEventListener("pagehide",j)}return x.initialized||Qt(Gt.Pop,x.location,{initialHydration:!0}),k}function Ke(){h&&h(),M&&M(),m.clear(),I&&I.abort(),x.fetchers.forEach((j,U)=>us(U)),x.blockers.forEach((j,U)=>fs(U))}function je(j){return m.add(j),()=>m.delete(j)}function ge(j,U){U===void 0&&(U={}),x=Nt({},x,j);let B=[],X=[];f.v7_fetcherPersist&&x.fetchers.forEach((re,he)=>{re.state==="idle"&&(be.has(he)?X.push(he):B.push(he))}),be.forEach(re=>{!x.fetchers.has(re)&&!q.has(re)&&X.push(re)}),[...m].forEach(re=>re(x,{deletedFetchers:X,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),f.v7_fetcherPersist?(B.forEach(re=>x.fetchers.delete(re)),X.forEach(re=>us(re))):X.forEach(re=>be.delete(re))}function mt(j,U,B){var X,re;let{flushSync:he}=B===void 0?{}:B,me=x.actionData!=null&&x.navigation.formMethod!=null&&vi(x.navigation.formMethod)&&x.navigation.state==="loading"&&((X=j.state)==null?void 0:X._isRedirect)!==!0,ce;U.actionData?Object.keys(U.actionData).length>0?ce=U.actionData:ce=null:me?ce=x.actionData:ce=null;let de=U.loaderData?ZS(x.loaderData,U.loaderData,U.matches||[],U.errors):x.loaderData,ae=x.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Ue,Zt)=>ae.set(Zt,td)));let fe=C===!0||x.navigation.formMethod!=null&&vi(x.navigation.formMethod)&&((re=j.state)==null?void 0:re._isRedirect)!==!0;o&&(a=o,o=void 0),ee||A===Gt.Pop||(A===Gt.Push?t.history.push(j,j.state):A===Gt.Replace&&t.history.replace(j,j.state));let Ce;if(A===Gt.Pop){let Ue=O.get(x.location.pathname);Ue&&Ue.has(j.pathname)?Ce={currentLocation:x.location,nextLocation:j}:O.has(j.pathname)&&(Ce={currentLocation:j,nextLocation:x.location})}else if(D){let Ue=O.get(x.location.pathname);Ue?Ue.add(j.pathname):(Ue=new Set([j.pathname]),O.set(x.location.pathname,Ue)),Ce={currentLocation:x.location,nextLocation:j}}ge(Nt({},U,{actionData:ce,loaderData:de,historyAction:A,location:j,initialized:!0,navigation:cv,revalidation:"idle",restoreScrollPosition:Je(j,U.matches||x.matches),preventScrollReset:fe,blockers:ae}),{viewTransitionOpts:Ce,flushSync:he===!0}),A=Gt.Pop,C=!1,D=!1,ee=!1,ue=!1,H=[]}async function fn(j,U){if(typeof j=="number"){t.history.go(j);return}let B=Y0(x.location,x.matches,l,f.v7_prependBasename,j,f.v7_relativeSplatPath,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:X,submission:re,error:he}=qS(f.v7_normalizeFormMethod,!1,B,U),me=x.location,ce=cf(x.location,X,U&&U.state);ce=Nt({},ce,t.history.encodeLocation(ce));let de=U&&U.replace!=null?U.replace:void 0,ae=Gt.Push;de===!0?ae=Gt.Replace:de===!1||re!=null&&vi(re.formMethod)&&re.formAction===x.location.pathname+x.location.search&&(ae=Gt.Replace);let fe=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Ce=(U&&U.flushSync)===!0,Ue=li({currentLocation:me,nextLocation:ce,historyAction:ae});if(Ue){Di(Ue,{state:"blocked",location:ce,proceed(){Di(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),fn(j,U)},reset(){let Zt=new Map(x.blockers);Zt.set(Ue,td),ge({blockers:Zt})}});return}return await Qt(ae,ce,{submission:re,pendingError:he,preventScrollReset:fe,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Ce})}function ai(){if(gr(),ge({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Qt(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Qt(A||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:D===!0})}}async function Qt(j,U,B){I&&I.abort(),I=null,A=j,ee=(B&&B.startUninterruptedRevalidation)===!0,ye(x.location,x.matches),C=(B&&B.preventScrollReset)===!0,D=(B&&B.enableViewTransition)===!0;let X=o||a,re=B&&B.overrideNavigation,he=B!=null&&B.initialHydration&&x.matches&&x.matches.length>0&&!T?x.matches:zo(X,U,l),me=(B&&B.flushSync)===!0;if(he&&x.initialized&&!ue&&w3(x.location,U)&&!(B&&B.submission&&vi(B.submission.formMethod))){mt(U,{matches:he},{flushSync:me});return}let ce=nt(he,X,U.pathname);if(ce.active&&ce.matches&&(he=ce.matches),!he){let{error:ut,notFoundMatches:Fe,route:wt}=Js(U.pathname);mt(U,{matches:Fe,loaderData:{},errors:{[wt.id]:ut}},{flushSync:me});return}I=new AbortController;let de=$l(t.history,U,I.signal,B&&B.submission),ae;if(B&&B.pendingError)ae=[Ho(he).route.id,{type:lt.error,error:B.pendingError}];else if(B&&B.submission&&vi(B.submission.formMethod)){let ut=await mr(de,U,B.submission,he,ce.active,{replace:B.replace,flushSync:me});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[Fe,wt]=ut.pendingActionResult;if(Tr(wt)&&uf(wt.error)&&wt.error.status===404){I=null,mt(U,{matches:ut.matches,loaderData:{},errors:{[Fe]:wt.error}});return}}he=ut.matches||he,ae=ut.pendingActionResult,re=uv(U,B.submission),me=!1,ce.active=!1,de=$l(t.history,de.url,de.signal)}let{shortCircuited:fe,matches:Ce,loaderData:Ue,errors:Zt}=await Ni(de,U,he,ce.active,re,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,me,ae);fe||(I=null,mt(U,Nt({matches:Ce||he},JS(ae),{loaderData:Ue,errors:Zt})))}async function mr(j,U,B,X,re,he){he===void 0&&(he={}),gr();let me=A3(U,B);if(ge({navigation:me},{flushSync:he.flushSync===!0}),re){let ae=await Mt(X,U.pathname,j.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let fe=Ho(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[fe,{type:lt.error,error:ae.error}]}}else if(ae.matches)X=ae.matches;else{let{notFoundMatches:fe,error:Ce,route:Ue}=Js(U.pathname);return{matches:fe,pendingActionResult:[Ue.id,{type:lt.error,error:Ce}]}}}let ce,de=hd(X,U);if(!de.route.action&&!de.route.lazy)ce={type:lt.error,error:ir(405,{method:j.method,pathname:U.pathname,routeId:de.route.id})};else if(ce=(await pr("action",x,j,[de],X,null))[de.route.id],j.signal.aborted)return{shortCircuited:!0};if(qo(ce)){let ae;return he&&he.replace!=null?ae=he.replace:ae=WS(ce.response.headers.get("Location"),new URL(j.url),l)===x.location.pathname+x.location.search,await oi(j,ce,!0,{submission:B,replace:ae}),{shortCircuited:!0}}if(Va(ce))throw ir(400,{type:"defer-action"});if(Tr(ce)){let ae=Ho(X,de.route.id);return(he&&he.replace)!==!0&&(A=Gt.Push),{matches:X,pendingActionResult:[ae.route.id,ce]}}return{matches:X,pendingActionResult:[de.route.id,ce]}}async function Ni(j,U,B,X,re,he,me,ce,de,ae,fe){let Ce=re||uv(U,he),Ue=he||me||nA(Ce),Zt=!ee&&(!f.v7_partialHydration||!de);if(X){if(Zt){let _t=yt(fe);ge(Nt({navigation:Ce},_t!==void 0?{actionData:_t}:{}),{flushSync:ae})}let Be=await Mt(B,U.pathname,j.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){let _t=Ho(Be.partialMatches).route.id;return{matches:Be.partialMatches,loaderData:{},errors:{[_t]:Be.error}}}else if(Be.matches)B=Be.matches;else{let{error:_t,notFoundMatches:hs,route:na}=Js(U.pathname);return{matches:hs,loaderData:{},errors:{[na.id]:_t}}}}let ut=o||a,[Fe,wt]=$S(t.history,x,B,Ue,U,f.v7_partialHydration&&de===!0,f.v7_skipActionErrorRevalidation,ue,H,W,be,Z,Q,ut,l,fe);if(Pt(Be=>!(B&&B.some(_t=>_t.route.id===Be))||Fe&&Fe.some(_t=>_t.route.id===Be)),L=++V,Fe.length===0&&wt.length===0){let Be=ds();return mt(U,Nt({matches:B,loaderData:{},errors:fe&&Tr(fe[1])?{[fe[0]]:fe[1].error}:null},JS(fe),Be?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(Zt){let Be={};if(!X){Be.navigation=Ce;let _t=yt(fe);_t!==void 0&&(Be.actionData=_t)}wt.length>0&&(Be.fetchers=Xt(wt)),ge(Be,{flushSync:ae})}wt.forEach(Be=>{mn(Be.key),Be.controller&&q.set(Be.key,Be.controller)});let Mi=()=>wt.forEach(Be=>mn(Be.key));I&&I.signal.addEventListener("abort",Mi);let{loaderResults:ci,fetcherResults:Tn}=await hn(x,B,Fe,wt,j);if(j.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Mi),wt.forEach(Be=>q.delete(Be.key));let er=Bh(ci);if(er)return await oi(j,er.result,!0,{replace:ce}),{shortCircuited:!0};if(er=Bh(Tn),er)return Q.add(er.key),await oi(j,er.result,!0,{replace:ce}),{shortCircuited:!0};let{loaderData:Uu,errors:ea}=XS(x,B,ci,fe,wt,Tn,tt);tt.forEach((Be,_t)=>{Be.subscribe(hs=>{(hs||Be.done)&&tt.delete(_t)})}),f.v7_partialHydration&&de&&x.errors&&(ea=Nt({},x.errors,ea));let Oi=ds(),Ro=En(L),ta=Oi||Ro||wt.length>0;return Nt({matches:B,loaderData:Uu,errors:ea},ta?{fetchers:new Map(x.fetchers)}:{})}function yt(j){if(j&&!Tr(j[1]))return{[j[0]]:j[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Xt(j){return j.forEach(U=>{let B=x.fetchers.get(U.key),X=nd(void 0,B?B.data:void 0);x.fetchers.set(U.key,X)}),new Map(x.fetchers)}function Fr(j,U,B,X){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");mn(j);let re=(X&&X.flushSync)===!0,he=o||a,me=Y0(x.location,x.matches,l,f.v7_prependBasename,B,f.v7_relativeSplatPath,U,X==null?void 0:X.relative),ce=zo(he,me,l),de=nt(ce,he,me);if(de.active&&de.matches&&(ce=de.matches),!ce){yr(j,U,ir(404,{pathname:me}),{flushSync:re});return}let{path:ae,submission:fe,error:Ce}=qS(f.v7_normalizeFormMethod,!0,me,X);if(Ce){yr(j,U,Ce,{flushSync:re});return}let Ue=hd(ce,ae),Zt=(X&&X.preventScrollReset)===!0;if(fe&&vi(fe.formMethod)){Fl(j,U,ae,Ue,ce,de.active,re,Zt,fe);return}Z.set(j,{routeId:U,path:ae}),Br(j,U,ae,Ue,ce,de.active,re,Zt,fe)}async function Fl(j,U,B,X,re,he,me,ce,de){gr(),Z.delete(j);function ae(Lt){if(!Lt.route.action&&!Lt.route.lazy){let Hn=ir(405,{method:de.formMethod,pathname:B,routeId:U});return yr(j,U,Hn,{flushSync:me}),!0}return!1}if(!he&&ae(X))return;let fe=x.fetchers.get(j);Jn(j,C3(de,fe),{flushSync:me});let Ce=new AbortController,Ue=$l(t.history,B,Ce.signal,de);if(he){let Lt=await Mt(re,new URL(Ue.url).pathname,Ue.signal,j);if(Lt.type==="aborted")return;if(Lt.type==="error"){yr(j,U,Lt.error,{flushSync:me});return}else if(Lt.matches){if(re=Lt.matches,X=hd(re,B),ae(X))return}else{yr(j,U,ir(404,{pathname:B}),{flushSync:me});return}}q.set(j,Ce);let Zt=V,Fe=(await pr("action",x,Ue,[X],re,j))[X.route.id];if(Ue.signal.aborted){q.get(j)===Ce&&q.delete(j);return}if(f.v7_fetcherPersist&&be.has(j)){if(qo(Fe)||Tr(Fe)){Jn(j,da(void 0));return}}else{if(qo(Fe))if(q.delete(j),L>Zt){Jn(j,da(void 0));return}else return Q.add(j),Jn(j,nd(de)),oi(Ue,Fe,!1,{fetcherSubmission:de,preventScrollReset:ce});if(Tr(Fe)){yr(j,U,Fe.error);return}}if(Va(Fe))throw ir(400,{type:"defer-action"});let wt=x.navigation.location||x.location,Mi=$l(t.history,wt,Ce.signal),ci=o||a,Tn=x.navigation.state!=="idle"?zo(ci,x.navigation.location,l):x.matches;ke(Tn,"Didn't find any matches after fetcher action");let er=++V;J.set(j,er);let Uu=nd(de,Fe.data);x.fetchers.set(j,Uu);let[ea,Oi]=$S(t.history,x,Tn,de,wt,!1,f.v7_skipActionErrorRevalidation,ue,H,W,be,Z,Q,ci,l,[X.route.id,Fe]);Oi.filter(Lt=>Lt.key!==j).forEach(Lt=>{let Hn=Lt.key,wr=x.fetchers.get(Hn),Io=nd(void 0,wr?wr.data:void 0);x.fetchers.set(Hn,Io),mn(Hn),Lt.controller&&q.set(Hn,Lt.controller)}),ge({fetchers:new Map(x.fetchers)});let Ro=()=>Oi.forEach(Lt=>mn(Lt.key));Ce.signal.addEventListener("abort",Ro);let{loaderResults:ta,fetcherResults:Be}=await hn(x,Tn,ea,Oi,Mi);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",Ro),J.delete(j),q.delete(j),Oi.forEach(Lt=>q.delete(Lt.key));let _t=Bh(ta);if(_t)return oi(Mi,_t.result,!1,{preventScrollReset:ce});if(_t=Bh(Be),_t)return Q.add(_t.key),oi(Mi,_t.result,!1,{preventScrollReset:ce});let{loaderData:hs,errors:na}=XS(x,Tn,ta,void 0,Oi,Be,tt);if(x.fetchers.has(j)){let Lt=da(Fe.data);x.fetchers.set(j,Lt)}En(er),x.navigation.state==="loading"&&er>L?(ke(A,"Expected pending action"),I&&I.abort(),mt(x.navigation.location,{matches:Tn,loaderData:hs,errors:na,fetchers:new Map(x.fetchers)})):(ge({errors:na,loaderData:ZS(x.loaderData,hs,Tn,na),fetchers:new Map(x.fetchers)}),ue=!1)}async function Br(j,U,B,X,re,he,me,ce,de){let ae=x.fetchers.get(j);Jn(j,nd(de,ae?ae.data:void 0),{flushSync:me});let fe=new AbortController,Ce=$l(t.history,B,fe.signal);if(he){let Fe=await Mt(re,new URL(Ce.url).pathname,Ce.signal,j);if(Fe.type==="aborted")return;if(Fe.type==="error"){yr(j,U,Fe.error,{flushSync:me});return}else if(Fe.matches)re=Fe.matches,X=hd(re,B);else{yr(j,U,ir(404,{pathname:B}),{flushSync:me});return}}q.set(j,fe);let Ue=V,ut=(await pr("loader",x,Ce,[X],re,j))[X.route.id];if(Va(ut)&&(ut=await p_(ut,Ce.signal,!0)||ut),q.get(j)===fe&&q.delete(j),!Ce.signal.aborted){if(be.has(j)){Jn(j,da(void 0));return}if(qo(ut))if(L>Ue){Jn(j,da(void 0));return}else{Q.add(j),await oi(Ce,ut,!1,{preventScrollReset:ce});return}if(Tr(ut)){yr(j,U,ut.error);return}ke(!Va(ut),"Unhandled fetcher deferred data"),Jn(j,da(ut.data))}}async function oi(j,U,B,X){let{submission:re,fetcherSubmission:he,preventScrollReset:me,replace:ce}=X===void 0?{}:X;U.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let de=U.response.headers.get("Location");ke(de,"Expected a Location header on the redirect Response"),de=WS(de,new URL(j.url),l);let ae=cf(x.location,de,{_isRedirect:!0});if(n){let Fe=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(m_.test(de)){const wt=t.history.createURL(de);Fe=wt.origin!==e.location.origin||$f(wt.pathname,l)==null}if(Fe){ce?e.location.replace(de):e.location.assign(de);return}}I=null;let fe=ce===!0||U.response.headers.has("X-Remix-Replace")?Gt.Replace:Gt.Push,{formMethod:Ce,formAction:Ue,formEncType:Zt}=x.navigation;!re&&!he&&Ce&&Ue&&Zt&&(re=nA(x.navigation));let ut=re||he;if(o3.has(U.response.status)&&ut&&vi(ut.formMethod))await Qt(fe,ae,{submission:Nt({},ut,{formAction:de}),preventScrollReset:me||C,enableViewTransition:B?D:void 0});else{let Fe=uv(ae,re);await Qt(fe,ae,{overrideNavigation:Fe,fetcherSubmission:he,preventScrollReset:me||C,enableViewTransition:B?D:void 0})}}async function pr(j,U,B,X,re,he){let me,ce={};try{me=await p3(c,j,U,B,X,re,he,s,i)}catch(de){return X.forEach(ae=>{ce[ae.route.id]={type:lt.error,error:de}}),ce}for(let[de,ae]of Object.entries(me))if(_3(ae)){let fe=ae.result;ce[de]={type:lt.redirect,response:v3(fe,B,de,re,l,f.v7_relativeSplatPath)}}else ce[de]=await y3(ae);return ce}async function hn(j,U,B,X,re){let he=j.matches,me=pr("loader",j,re,B,U,null),ce=Promise.all(X.map(async fe=>{if(fe.matches&&fe.match&&fe.controller){let Ue=(await pr("loader",j,$l(t.history,fe.path,fe.controller.signal),[fe.match],fe.matches,fe.key))[fe.match.route.id];return{[fe.key]:Ue}}else return Promise.resolve({[fe.key]:{type:lt.error,error:ir(404,{pathname:fe.path})}})})),de=await me,ae=(await ce).reduce((fe,Ce)=>Object.assign(fe,Ce),{});return await Promise.all([x3(U,de,re.signal,he,j.loaderData),S3(U,ae,X)]),{loaderResults:de,fetcherResults:ae}}function gr(){ue=!0,H.push(...Pt()),Z.forEach((j,U)=>{q.has(U)&&W.add(U),mn(U)})}function Jn(j,U,B){B===void 0&&(B={}),x.fetchers.set(j,U),ge({fetchers:new Map(x.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function yr(j,U,B,X){X===void 0&&(X={});let re=Ho(x.matches,U);us(j),ge({errors:{[re.route.id]:B},fetchers:new Map(x.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function cs(j){return le.set(j,(le.get(j)||0)+1),be.has(j)&&be.delete(j),x.fetchers.get(j)||l3}function us(j){let U=x.fetchers.get(j);q.has(j)&&!(U&&U.state==="loading"&&J.has(j))&&mn(j),Z.delete(j),J.delete(j),Q.delete(j),f.v7_fetcherPersist&&be.delete(j),W.delete(j),x.fetchers.delete(j)}function Co(j){let U=(le.get(j)||0)-1;U<=0?(le.delete(j),be.add(j),f.v7_fetcherPersist||us(j)):le.set(j,U),ge({fetchers:new Map(x.fetchers)})}function mn(j){let U=q.get(j);U&&(U.abort(),q.delete(j))}function vr(j){for(let U of j){let B=cs(U),X=da(B.data);x.fetchers.set(U,X)}}function ds(){let j=[],U=!1;for(let B of Q){let X=x.fetchers.get(B);ke(X,"Expected fetcher: "+B),X.state==="loading"&&(Q.delete(B),j.push(B),U=!0)}return vr(j),U}function En(j){let U=[];for(let[B,X]of J)if(X<j){let re=x.fetchers.get(B);ke(re,"Expected fetcher: "+B),re.state==="loading"&&(mn(B),J.delete(B),U.push(B))}return vr(U),U.length>0}function Bl(j,U){let B=x.blockers.get(j)||td;return te.get(j)!==U&&te.set(j,U),B}function fs(j){x.blockers.delete(j),te.delete(j)}function Di(j,U){let B=x.blockers.get(j)||td;ke(B.state==="unblocked"&&U.state==="blocked"||B.state==="blocked"&&U.state==="blocked"||B.state==="blocked"&&U.state==="proceeding"||B.state==="blocked"&&U.state==="unblocked"||B.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+U.state);let X=new Map(x.blockers);X.set(j,U),ge({blockers:X})}function li(j){let{currentLocation:U,nextLocation:B,historyAction:X}=j;if(te.size===0)return;te.size>1&&nu(!1,"A router only supports one blocker at a time");let re=Array.from(te.entries()),[he,me]=re[re.length-1],ce=x.blockers.get(he);if(!(ce&&ce.state==="proceeding")&&me({currentLocation:U,nextLocation:B,historyAction:X}))return he}function Js(j){let U=ir(404,{pathname:j}),B=o||a,{matches:X,route:re}=eA(B);return Pt(),{notFoundMatches:X,route:re,error:U}}function Pt(j){let U=[];return tt.forEach((B,X)=>{(!j||j(X))&&(B.cancel(),U.push(X),tt.delete(X))}),U}function br(j,U,B){if(w=j,E=U,g=B||null,!b&&x.navigation===cv){b=!0;let X=Je(x.location,x.matches);X!=null&&ge({restoreScrollPosition:X})}return()=>{w=null,E=null,g=null}}function Pi(j,U){return g&&g(j,U.map(X=>L6(X,x.loaderData)))||j.key}function ye(j,U){if(w&&E){let B=Pi(j,U);w[B]=E()}}function Je(j,U){if(w){let B=Pi(j,U),X=w[B];if(typeof X=="number")return X}return null}function nt(j,U,B){if(u)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:_m(U,B,l,!0)}}else return{active:!0,matches:_m(U,B,l,!0)||[]};return{active:!1,matches:null}}async function Mt(j,U,B,X){if(!u)return{type:"success",matches:j};let re=j;for(;;){let he=o==null,me=o||a,ce=s;try{await u({signal:B,path:U,matches:re,fetcherKey:X,patch:(fe,Ce)=>{B.aborted||YS(fe,Ce,me,ce,i)}})}catch(fe){return{type:"error",error:fe,partialMatches:re}}finally{he&&!B.aborted&&(a=[...a])}if(B.aborted)return{type:"aborted"};let de=zo(me,U,l);if(de)return{type:"success",matches:de};let ae=_m(me,U,l,!0);if(!ae||re.length===ae.length&&re.every((fe,Ce)=>fe.route.id===ae[Ce].route.id))return{type:"success",matches:null};re=ae}}function zn(j){s={},o=hp(j,i,void 0,s)}function zr(j,U){let B=o==null;YS(j,U,o||a,s,i),B&&(a=[...a],ge({}))}return k={get basename(){return l},get future(){return f},get state(){return x},get routes(){return a},get window(){return e},initialize:ht,subscribe:je,enableScrollRestoration:br,navigate:fn,fetch:Fr,revalidate:ai,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:cs,deleteFetcher:Co,dispose:Ke,getBlocker:Bl,deleteBlocker:fs,patchRoutes:zr,_internalFetchControllers:q,_internalActiveDeferreds:tt,_internalSetRoutes:zn},k}function d3(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Y0(t,e,n,r,i,s,a,o){let l,c;if(a){l=[];for(let f of e)if(l.push(f),f.route.id===a){c=f;break}}else l=e,c=e[e.length-1];let u=J6(i||".",Z6(l,s),$f(t.pathname,n)||t.pathname,o==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let f=g_(u.search);if(c.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(u.search),m=h.getAll("index");h.delete("index"),m.filter(g=>g).forEach(g=>h.append("index",g));let w=h.toString();u.search=w?"?"+w:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ol([n,u.pathname])),Gf(u)}function qS(t,e,n,r){if(!r||!d3(r))return{path:n};if(r.formMethod&&!T3(r.formMethod))return{path:n,error:ir(405,{method:r.formMethod})};let i=()=>({path:n,error:ir(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),o=gP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!vi(a))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,w)=>{let[g,E]=w;return""+m+g+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!vi(a))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}ke(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Q0(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Q0(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=QS(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=QS(l)}catch{return i()}let u={formMethod:a,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(vi(u.formMethod))return{path:n,submission:u};let f=Xs(n);return e&&f.search&&g_(f.search)&&l.append("index",""),f.search="?"+l,{path:Gf(f),submission:u}}function GS(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function $S(t,e,n,r,i,s,a,o,l,c,u,f,h,m,w,g){let E=g?Tr(g[1])?g[1].error:g[1].data:void 0,b=t.createURL(e.location),_=t.createURL(i),T=n;s&&e.errors?T=GS(n,Object.keys(e.errors)[0],!0):g&&Tr(g[1])&&(T=GS(n,g[0]));let R=g?g[1].statusCode:void 0,P=a&&R&&R>=400,k=T.filter((A,C)=>{let{route:I}=A;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return W0(I,e.loaderData,e.errors);if(f3(e.loaderData,e.matches[C],A)||l.some(M=>M===A.route.id))return!0;let D=e.matches[C],O=A;return KS(A,Nt({currentUrl:b,currentParams:D.params,nextUrl:_,nextParams:O.params},r,{actionResult:E,actionStatus:R,defaultShouldRevalidate:P?!1:o||b.pathname+b.search===_.pathname+_.search||b.search!==_.search||mP(D,O)}))}),x=[];return f.forEach((A,C)=>{if(s||!n.some(ee=>ee.route.id===A.routeId)||u.has(C))return;let I=zo(m,A.path,w);if(!I){x.push({key:C,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(C),O=hd(I,A.path),M=!1;h.has(C)?M=!1:c.has(C)?(c.delete(C),M=!0):D&&D.state!=="idle"&&D.data===void 0?M=o:M=KS(O,Nt({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:E,actionStatus:R,defaultShouldRevalidate:P?!1:o})),M&&x.push({key:C,routeId:A.routeId,path:A.path,matches:I,match:O,controller:new AbortController})}),[k,x]}function W0(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function f3(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function mP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function KS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function YS(t,e,n,r,i){var s;let a;if(t){let c=r[t];ke(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),a=c.children}else a=n;let o=e.filter(c=>!a.some(u=>pP(c,u))),l=hp(o,i,[t||"_","patch",String(((s=a)==null?void 0:s.length)||"0")],r);a.push(...l)}function pP(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>pP(n,s))}):!1}async function h3(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ke(i,"No route found in manifest");let s={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";nu(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!j6.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,Nt({},e(i),{lazy:void 0}))}async function m3(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[n[a].route.id]:s}),{})}async function p3(t,e,n,r,i,s,a,o,l,c){let u=s.map(m=>m.route.lazy?h3(m.route,l,o):void 0),f=s.map((m,w)=>{let g=u[w],E=i.some(_=>_.route.id===m.route.id);return Nt({},m,{shouldLoad:E,resolve:async _=>(_&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(E=!0),E?g3(e,r,m,g,_,c):Promise.resolve({type:lt.data,result:void 0}))})}),h=await t({matches:f,request:r,params:s[0].params,fetcherKey:a,context:c});try{await Promise.all(u)}catch{}return h}async function g3(t,e,n,r,i,s){let a,o,l=c=>{let u,f=new Promise((w,g)=>u=g);o=()=>u(),e.signal.addEventListener("abort",o);let h=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...w!==void 0?[w]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(g=>h(g)):h())}}catch(w){return{type:"error",result:w}}})();return Promise.race([m,f])};try{let c=n.route[t];if(r)if(c){let u,[f]=await Promise.all([l(c).catch(h=>{u=h}),r]);if(u!==void 0)throw u;a=f}else if(await r,c=n.route[t],c)a=await l(c);else if(t==="action"){let u=new URL(e.url),f=u.pathname+u.search;throw ir(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:lt.data,result:void 0};else if(c)a=await l(c);else{let u=new URL(e.url),f=u.pathname+u.search;throw ir(404,{pathname:f})}ke(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:lt.error,result:c}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function y3(t){let{result:e,type:n}=t;if(yP(e)){let f;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(h){return{type:lt.error,error:h}}return n===lt.error?{type:lt.error,error:new mp(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:lt.data,data:f,statusCode:e.status,headers:e.headers}}if(n===lt.error){if(tA(e)){var r,i;if(e.data instanceof Error){var s,a;return{type:lt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:lt.error,error:new mp(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:uf(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:lt.error,error:e,statusCode:uf(e)?e.status:void 0}}if(E3(e)){var o,l;return{type:lt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(tA(e)){var c,u;return{type:lt.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:lt.data,data:e}}function v3(t,e,n,r,i,s){let a=t.headers.get("Location");if(ke(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!m_.test(a)){let o=r.slice(0,r.findIndex(l=>l.route.id===n)+1);a=Y0(new URL(e.url),o,i,!0,a,s),t.headers.set("Location",a)}return t}function WS(t,e,n){if(m_.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=$f(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function $l(t,e,n,r){let i=t.createURL(gP(e)).toString(),s={signal:n};if(r&&vi(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=Q0(r.formData):s.body=r.formData}return new Request(i,s)}function Q0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function QS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function b3(t,e,n,r,i){let s={},a=null,o,l=!1,c={},u=n&&Tr(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let h=f.route.id,m=e[h];if(ke(!qo(m),"Cannot handle redirect results in processLoaderData"),Tr(m)){let w=m.error;u!==void 0&&(w=u,u=void 0),a=a||{};{let g=Ho(t,h);a[g.route.id]==null&&(a[g.route.id]=w)}s[h]=void 0,l||(l=!0,o=uf(m.error)?m.error.status:500),m.headers&&(c[h]=m.headers)}else Va(m)?(r.set(h,m.deferredData),s[h]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(o=m.statusCode),m.headers&&(c[h]=m.headers)):(s[h]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(o=m.statusCode),m.headers&&(c[h]=m.headers))}),u!==void 0&&n&&(a={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function XS(t,e,n,r,i,s,a){let{loaderData:o,errors:l}=b3(e,n,r,a);return i.forEach(c=>{let{key:u,match:f,controller:h}=c,m=s[u];if(ke(m,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Tr(m)){let w=Ho(t.matches,f==null?void 0:f.route.id);l&&l[w.route.id]||(l=Nt({},l,{[w.route.id]:m.error})),t.fetchers.delete(u)}else if(qo(m))ke(!1,"Unhandled fetcher revalidation redirect");else if(Va(m))ke(!1,"Unhandled fetcher deferred data");else{let w=da(m.data);t.fetchers.set(u,w)}}),{loaderData:o,errors:l}}function ZS(t,e,n,r){let i=Nt({},e);for(let s of n){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function JS(t){return t?Tr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ho(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function eA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ir(t,e){let{pathname:n,routeId:r,method:i,type:s,message:a}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new mp(t||500,o,new Error(l),!0)}function Bh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(qo(i))return{key:r,result:i}}}function gP(t){let e=typeof t=="string"?Xs(t):t;return Gf(Nt({},e,{hash:""}))}function w3(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _3(t){return yP(t.result)&&a3.has(t.result.status)}function Va(t){return t.type===lt.deferred}function Tr(t){return t.type===lt.error}function qo(t){return(t&&t.type)===lt.redirect}function tA(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function E3(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function yP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function T3(t){return s3.has(t.toLowerCase())}function vi(t){return r3.has(t.toLowerCase())}async function x3(t,e,n,r,i){let s=Object.entries(e);for(let a=0;a<s.length;a++){let[o,l]=s[a],c=t.find(h=>(h==null?void 0:h.route.id)===o);if(!c)continue;let u=r.find(h=>h.route.id===c.route.id),f=u!=null&&!mP(u,c)&&(i&&i[c.route.id])!==void 0;Va(l)&&f&&await p_(l,n,!1).then(h=>{h&&(e[o]=h)})}}async function S3(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:a}=n[r],o=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&Va(o)&&(ke(a,"Expected an AbortController for revalidating fetcher deferred result"),await p_(o,a.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function p_(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:lt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:lt.error,error:i}}return{type:lt.data,data:t.deferredData.data}}}function g_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function hd(t,e){let n=typeof e=="string"?Xs(e).search:e.search;if(t[t.length-1].route.index&&g_(n||""))return t[t.length-1];let r=dP(t);return r[r.length-1]}function nA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function uv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function A3(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function nd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function C3(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function da(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function R3(t,e){try{let n=t.sessionStorage.getItem(hP);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function I3(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(hP,JSON.stringify(n))}catch(r){nu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}const vP=v.createContext(null),bP=v.createContext(null),wP=v.createContext(null),wg=v.createContext(null),_g=v.createContext({outlet:null,matches:[],isDataRoute:!1}),_P=v.createContext(null);function y_(){return v.useContext(wg)!=null}function N3(){return y_()||ke(!1),v.useContext(wg).location}function D3(t,e){return EP(t,e)}function EP(t,e,n,r){y_()||ke(!1);let{navigator:i}=v.useContext(wP),{matches:s}=v.useContext(_g),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=N3(),u;if(e){var f;let E=typeof e=="string"?Xs(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||ke(!1),u=E}else u=c;let h=u.pathname||"/",m=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=zo(t,{pathname:m}),g=V3(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:ol([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:ol([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&g?v.createElement(wg.Provider,{value:{location:pp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gt.Pop}},g):g}function P3(){let t=F3(),e=uf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const M3=v.createElement(P3,null);class O3 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(_g.Provider,{value:this.props.routeContext},v.createElement(_P.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j3(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(vP);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(_g.Provider,{value:e},r)}function V3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||ke(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:m}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,h)=>{let m,w=!1,g=null,E=null;n&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||M3,l&&(c<0&&h===0?(B3("route-fallback"),w=!0,E=null):c===h&&(w=!0,E=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),_=()=>{let T;return m?T=g:w?T=E:f.route.Component?T=v.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=u,v.createElement(j3,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(O3,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var TP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(TP||{});function L3(t){let e=v.useContext(bP);return e||ke(!1),e}function k3(t){let e=v.useContext(_g);return e||ke(!1),e}function U3(t){let e=k3(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function F3(){var t;let e=v.useContext(_P),n=L3(TP.UseRouteError),r=U3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const rA={};function B3(t,e,n){rA[t]||(rA[t]=!0)}function z3(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function X0(t){ke(!1)}function H3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gt.Pop,navigator:s,static:a=!1,future:o}=t;y_()&&ke(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:a,future:pp({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Xs(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:w="default"}=r,g=v.useMemo(()=>{let E=$f(u,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:m,key:w},navigationType:i}},[l,u,f,h,m,w,i]);return g==null?null:v.createElement(wP.Provider,{value:c},v.createElement(wg.Provider,{children:n,value:g}))}function q3(t){let{children:e,location:n}=t;return D3(Z0(e),n)}new Promise(()=>{});function Z0(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Z0(r.props.children,s));return}r.type!==X0&&ke(!1),!r.props.index||!r.props.children||ke(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Z0(r.props.children,s)),n.push(a)}),n}function G3(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:v.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:v.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:v.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(this,arguments)}const $3="6";try{window.__reactRouterVersion=$3}catch{}function K3(t,e){return u3({basename:e==null?void 0:e.basename,future:gp({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:P6({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Y3(),routes:t,mapRouteProperties:G3,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Y3(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gp({},e,{errors:W3(e.errors)})),e}function W3(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new mp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Q3=v.createContext({isTransitioning:!1}),X3=v.createContext(new Map),Z3="startTransition",iA=gw[Z3],J3="flushSync",sA=r5[J3];function eF(t){iA?iA(t):t()}function rd(t){sA?sA(t):t()}let tF=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function nF(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=v.useState(n.state),[a,o]=v.useState(),[l,c]=v.useState({isTransitioning:!1}),[u,f]=v.useState(),[h,m]=v.useState(),[w,g]=v.useState(),E=v.useRef(new Map),{v7_startTransition:b}=r||{},_=v.useCallback(A=>{b?eF(A):A()},[b]),T=v.useCallback((A,C)=>{let{deletedFetchers:I,flushSync:D,viewTransitionOpts:O}=C;A.fetchers.forEach((ee,ue)=>{ee.data!==void 0&&E.current.set(ue,ee.data)}),I.forEach(ee=>E.current.delete(ee));let M=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||M){D?rd(()=>s(A)):_(()=>s(A));return}if(D){rd(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let ee=n.window.document.startViewTransition(()=>{rd(()=>s(A))});ee.finished.finally(()=>{rd(()=>{f(void 0),m(void 0),o(void 0),c({isTransitioning:!1})})}),rd(()=>m(ee));return}h?(u&&u.resolve(),h.skipTransition(),g({state:A,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(o(A),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,h,u,E,_]);v.useLayoutEffect(()=>n.subscribe(T),[n,T]),v.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new tF)},[l]),v.useEffect(()=>{if(u&&a&&n.window){let A=a,C=u.promise,I=n.window.document.startViewTransition(async()=>{_(()=>s(A)),await C});I.finished.finally(()=>{f(void 0),m(void 0),o(void 0),c({isTransitioning:!1})}),m(I)}},[_,a,u,n.window]),v.useEffect(()=>{u&&a&&i.location.key===a.location.key&&u.resolve()},[u,h,i.location,a]),v.useEffect(()=>{!l.isTransitioning&&w&&(o(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),g(void 0))},[l.isTransitioning,w]),v.useEffect(()=>{},[]);let R=v.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,C,I)=>n.navigate(A,{state:C,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(A,C,I)=>n.navigate(A,{replace:!0,state:C,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),P=n.basename||"/",k=v.useMemo(()=>({router:n,navigator:R,static:!1,basename:P}),[n,R,P]),x=v.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return v.useEffect(()=>z3(r,n.future),[r,n.future]),v.createElement(v.Fragment,null,v.createElement(vP.Provider,{value:k},v.createElement(bP.Provider,{value:i},v.createElement(X3.Provider,{value:E.current},v.createElement(Q3.Provider,{value:l},v.createElement(H3,{basename:P,location:i.location,navigationType:i.historyAction,navigator:R,future:x},i.initialized||n.future.v7_partialHydration?v.createElement(rF,{routes:n.routes,future:n.future,state:i}):e))))),null)}const rF=v.memo(iF);function iF(t){let{routes:e,future:n,state:r}=t;return EP(e,void 0,r,n)}var aA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aA||(aA={}));var oA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oA||(oA={}));var sF=(t,e,n,r,i,s,a,o)=>{let l=document.documentElement,c=["light","dark"];function u(m){(Array.isArray(t)?t:[t]).forEach(w=>{let g=w==="class",E=g&&s?i.map(b=>s[b]||b):i;g?(l.classList.remove(...E),l.classList.add(s&&s[m]?s[m]:m)):l.setAttribute(w,m)}),f(m)}function f(m){o&&c.includes(m)&&(l.style.colorScheme=m)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let m=localStorage.getItem(e)||n,w=a&&m==="system"?h():m;u(w)}catch{}},aF=v.createContext(void 0),oF={setTheme:t=>{},themes:[]},lF=()=>{var t;return(t=v.useContext(aF))!=null?t:oF};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return v.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${sF.toString()})(${u})`}})});var cF=t=>{switch(t){case"success":return fF;case"info":return mF;case"warning":return hF;case"error":return pF;default:return null}},uF=Array(12).fill(0),dF=({visible:t,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ne.createElement("div",{className:"sonner-spinner"},uF.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fF=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hF=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mF=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pF=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gF=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yF=()=>{let[t,e]=ne.useState(document.hidden);return ne.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},J0=1,vF=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:J0++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,a,o=i.then(async c=>{if(a=["resolve",c],ne.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(wF(c)&&!c.ok){s=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:f})}else if(n.success!==void 0){s=!1;let u=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){s=!1;let u=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||J0++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ar=new vF,bF=(t,e)=>{let n=(e==null?void 0:e.id)||J0++;return ar.addToast({title:t,...e,id:n}),n},wF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",_F=bF,EF=()=>ar.toasts,TF=()=>ar.getActiveToasts(),kn=Object.assign(_F,{success:ar.success,info:ar.info,warning:ar.warning,error:ar.error,custom:ar.custom,message:ar.message,promise:ar.promise,dismiss:ar.dismiss,loading:ar.loading},{getHistory:EF,getToasts:TF});function xF(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}xF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zh(t){return t.label!==void 0}var SF=3,AF="32px",CF="16px",lA=4e3,RF=356,IF=14,NF=20,DF=200;function di(...t){return t.filter(Boolean).join(" ")}function PF(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var MF=t=>{var e,n,r,i,s,a,o,l,c,u,f;let{invert:h,toast:m,unstyled:w,interacting:g,setHeights:E,visibleToasts:b,heights:_,index:T,toasts:R,expanded:P,removeToast:k,defaultRichColors:x,closeButton:A,style:C,cancelButtonStyle:I,actionButtonStyle:D,className:O="",descriptionClassName:M="",duration:ee,position:ue,gap:H,loadingIcon:W,expandByDefault:q,classNames:V,icons:L,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:Q}=t,[Z,le]=ne.useState(null),[be,tt]=ne.useState(null),[te,Oe]=ne.useState(!1),[ht,Ke]=ne.useState(!1),[je,ge]=ne.useState(!1),[mt,fn]=ne.useState(!1),[ai,Qt]=ne.useState(!1),[mr,Ni]=ne.useState(0),[yt,Xt]=ne.useState(0),Fr=ne.useRef(m.duration||ee||lA),Fl=ne.useRef(null),Br=ne.useRef(null),oi=T===0,pr=T+1<=b,hn=m.type,gr=m.dismissible!==!1,Jn=m.className||"",yr=m.descriptionClassName||"",cs=ne.useMemo(()=>_.findIndex(ye=>ye.toastId===m.id)||0,[_,m.id]),us=ne.useMemo(()=>{var ye;return(ye=m.closeButton)!=null?ye:A},[m.closeButton,A]),Co=ne.useMemo(()=>m.duration||ee||lA,[m.duration,ee]),mn=ne.useRef(0),vr=ne.useRef(0),ds=ne.useRef(0),En=ne.useRef(null),[Bl,fs]=ue.split("-"),Di=ne.useMemo(()=>_.reduce((ye,Je,nt)=>nt>=cs?ye:ye+Je.height,0),[_,cs]),li=yF(),Js=m.invert||h,Pt=hn==="loading";vr.current=ne.useMemo(()=>cs*H+Di,[cs,Di]),ne.useEffect(()=>{Fr.current=Co},[Co]),ne.useEffect(()=>{Oe(!0)},[]),ne.useEffect(()=>{let ye=Br.current;if(ye){let Je=ye.getBoundingClientRect().height;return Xt(Je),E(nt=>[{toastId:m.id,height:Je,position:m.position},...nt]),()=>E(nt=>nt.filter(Mt=>Mt.toastId!==m.id))}},[E,m.id]),ne.useLayoutEffect(()=>{if(!te)return;let ye=Br.current,Je=ye.style.height;ye.style.height="auto";let nt=ye.getBoundingClientRect().height;ye.style.height=Je,Xt(nt),E(Mt=>Mt.find(zn=>zn.toastId===m.id)?Mt.map(zn=>zn.toastId===m.id?{...zn,height:nt}:zn):[{toastId:m.id,height:nt,position:m.position},...Mt])},[te,m.title,m.description,E,m.id]);let br=ne.useCallback(()=>{Ke(!0),Ni(vr.current),E(ye=>ye.filter(Je=>Je.toastId!==m.id)),setTimeout(()=>{k(m)},DF)},[m,k,E,vr]);ne.useEffect(()=>{if(m.promise&&hn==="loading"||m.duration===1/0||m.type==="loading")return;let ye;return P||g||Q&&li?(()=>{if(ds.current<mn.current){let Je=new Date().getTime()-mn.current;Fr.current=Fr.current-Je}ds.current=new Date().getTime()})():Fr.current!==1/0&&(mn.current=new Date().getTime(),ye=setTimeout(()=>{var Je;(Je=m.onAutoClose)==null||Je.call(m,m),br()},Fr.current)),()=>clearTimeout(ye)},[P,g,m,hn,Q,li,br]),ne.useEffect(()=>{m.delete&&br()},[br,m.delete]);function Pi(){var ye,Je,nt;return L!=null&&L.loading?ne.createElement("div",{className:di(V==null?void 0:V.loader,(ye=m==null?void 0:m.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":hn==="loading"},L.loading):W?ne.createElement("div",{className:di(V==null?void 0:V.loader,(Je=m==null?void 0:m.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":hn==="loading"},W):ne.createElement(dF,{className:di(V==null?void 0:V.loader,(nt=m==null?void 0:m.classNames)==null?void 0:nt.loader),visible:hn==="loading"})}return ne.createElement("li",{tabIndex:0,ref:Br,className:di(O,Jn,V==null?void 0:V.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[hn],(n=m==null?void 0:m.classNames)==null?void 0:n[hn]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:x,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":te,"data-promise":!!m.promise,"data-swiped":ai,"data-removed":ht,"data-visible":pr,"data-y-position":Bl,"data-x-position":fs,"data-index":T,"data-front":oi,"data-swiping":je,"data-dismissible":gr,"data-type":hn,"data-invert":Js,"data-swipe-out":mt,"data-swipe-direction":be,"data-expanded":!!(P||q&&te),style:{"--index":T,"--toasts-before":T,"--z-index":R.length-T,"--offset":`${ht?mr:vr.current}px`,"--initial-height":q?"auto":`${yt}px`,...C,...m.style},onDragEnd:()=>{ge(!1),le(null),En.current=null},onPointerDown:ye=>{Pt||!gr||(Fl.current=new Date,Ni(vr.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(ge(!0),En.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Je,nt,Mt;if(mt||!gr)return;En.current=null;let zn=Number(((ye=Br.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zr=Number(((Je=Br.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),j=new Date().getTime()-((nt=Fl.current)==null?void 0:nt.getTime()),U=Z==="x"?zn:zr,B=Math.abs(U)/j;if(Math.abs(U)>=NF||B>.11){Ni(vr.current),(Mt=m.onDismiss)==null||Mt.call(m,m),tt(Z==="x"?zn>0?"right":"left":zr>0?"down":"up"),br(),fn(!0),Qt(!1);return}ge(!1),le(null)},onPointerMove:ye=>{var Je,nt,Mt,zn;if(!En.current||!gr||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;let zr=ye.clientY-En.current.y,j=ye.clientX-En.current.x,U=(nt=t.swipeDirections)!=null?nt:PF(ue);!Z&&(Math.abs(j)>1||Math.abs(zr)>1)&&le(Math.abs(j)>Math.abs(zr)?"x":"y");let B={x:0,y:0};Z==="y"?(U.includes("top")||U.includes("bottom"))&&(U.includes("top")&&zr<0||U.includes("bottom")&&zr>0)&&(B.y=zr):Z==="x"&&(U.includes("left")||U.includes("right"))&&(U.includes("left")&&j<0||U.includes("right")&&j>0)&&(B.x=j),(Math.abs(B.x)>0||Math.abs(B.y)>0)&&Qt(!0),(Mt=Br.current)==null||Mt.style.setProperty("--swipe-amount-x",`${B.x}px`),(zn=Br.current)==null||zn.style.setProperty("--swipe-amount-y",`${B.y}px`)}},us&&!m.jsx?ne.createElement("button",{"aria-label":J,"data-disabled":Pt,"data-close-button":!0,onClick:Pt||!gr?()=>{}:()=>{var ye;br(),(ye=m.onDismiss)==null||ye.call(m,m)},className:di(V==null?void 0:V.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=L==null?void 0:L.close)!=null?s:gF):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:ne.createElement(ne.Fragment,null,hn||m.icon||m.promise?ne.createElement("div",{"data-icon":"",className:di(V==null?void 0:V.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Pi():null,m.type!=="loading"?m.icon||(L==null?void 0:L[hn])||cF(hn):null):null,ne.createElement("div",{"data-content":"",className:di(V==null?void 0:V.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},ne.createElement("div",{"data-title":"",className:di(V==null?void 0:V.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?ne.createElement("div",{"data-description":"",className:di(M,yr,V==null?void 0:V.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&zh(m.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:ye=>{var Je,nt;zh(m.cancel)&&gr&&((nt=(Je=m.cancel).onClick)==null||nt.call(Je,ye),br())},className:di(V==null?void 0:V.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&zh(m.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:ye=>{var Je,nt;zh(m.action)&&((nt=(Je=m.action).onClick)==null||nt.call(Je,ye),!ye.defaultPrevented&&br())},className:di(V==null?void 0:V.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function cA(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function OF(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?CF:AF;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}var jF=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:h,style:m,visibleToasts:w=SF,toastOptions:g,dir:E=cA(),gap:b=IF,loadingIcon:_,icons:T,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:P}=t,[k,x]=ne.useState([]),A=ne.useMemo(()=>Array.from(new Set([r].concat(k.filter(Q=>Q.position).map(Q=>Q.position)))),[k,r]),[C,I]=ne.useState([]),[D,O]=ne.useState(!1),[M,ee]=ne.useState(!1),[ue,H]=ne.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ne.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=ne.useRef(null),L=ne.useRef(!1),J=ne.useCallback(Q=>{x(Z=>{var le;return(le=Z.find(be=>be.id===Q.id))!=null&&le.delete||ar.dismiss(Q.id),Z.filter(({id:be})=>be!==Q.id)})},[]);return ne.useEffect(()=>ar.subscribe(Q=>{if(Q.dismiss){x(Z=>Z.map(le=>le.id===Q.id?{...le,delete:!0}:le));return}setTimeout(()=>{yw.flushSync(()=>{x(Z=>{let le=Z.findIndex(be=>be.id===Q.id);return le!==-1?[...Z.slice(0,le),{...Z[le],...Q},...Z.slice(le+1)]:[Q,...Z]})})})}),[]),ne.useEffect(()=>{if(u!=="system"){H(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:Z})=>{H(Z?"dark":"light")})}catch{Q.addListener(({matches:le})=>{try{H(le?"dark":"light")}catch(be){console.error(be)}})}},[u]),ne.useEffect(()=>{k.length<=1&&O(!1)},[k]),ne.useEffect(()=>{let Q=Z=>{var le,be;i.every(tt=>Z[tt]||Z.code===tt)&&(O(!0),(le=W.current)==null||le.focus()),Z.code==="Escape"&&(document.activeElement===W.current||(be=W.current)!=null&&be.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[i]),ne.useEffect(()=>{if(W.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,L.current=!1)}},[W.current]),ne.createElement("section",{ref:e,"aria-label":`${R} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((Q,Z)=>{var le;let[be,tt]=Q.split("-");return k.length?ne.createElement("ol",{key:Q,dir:E==="auto"?cA():E,tabIndex:-1,ref:W,className:o,"data-sonner-toaster":!0,"data-theme":ue,"data-y-position":be,"data-lifted":D&&k.length>1&&!s,"data-x-position":tt,style:{"--front-toast-height":`${((le=C[0])==null?void 0:le.height)||0}px`,"--width":`${RF}px`,"--gap":`${b}px`,...m,...OF(l,c)},onBlur:te=>{L.current&&!te.currentTarget.contains(te.relatedTarget)&&(L.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||L.current||(L.current=!0,V.current=te.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{M||O(!1)},onDragEnd:()=>O(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},k.filter(te=>!te.position&&Z===0||te.position===Q).map((te,Oe)=>{var ht,Ke;return ne.createElement(MF,{key:te.id,icons:T,index:Oe,toast:te,defaultRichColors:f,duration:(ht=g==null?void 0:g.duration)!=null?ht:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:w,closeButton:(Ke=g==null?void 0:g.closeButton)!=null?Ke:a,interacting:M,position:Q,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:J,toasts:k.filter(je=>je.position==te.position),heights:C.filter(je=>je.position==te.position),setHeights:I,expandByDefault:s,gap:b,loadingIcon:_,expanded:D,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const VF=({...t})=>{const{theme:e="system"}=lF();return p.jsx(jF,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function uA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xP(...t){return e=>{let n=!1;const r=t.map(i=>{const s=uA(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():uA(t[i],null)}}}}function Qe(...t){return v.useCallback(xP(...t),t)}function LF(t,e){const n=v.createContext(e),r=s=>{const{children:a,...o}=s,l=v.useMemo(()=>o,Object.values(o));return p.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(s){const a=v.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ai(t,e=[]){let n=[];function r(s,a){const o=v.createContext(a),l=n.length;n=[...n,a];const c=f=>{var b;const{scope:h,children:m,...w}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||o,E=v.useMemo(()=>w,Object.values(w));return p.jsx(g.Provider,{value:E,children:m})};c.displayName=s+"Provider";function u(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||o,w=v.useContext(m);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(a=>v.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,kF(i,...e)]}function kF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ru(t){const e=FF(t),n=v.forwardRef((r,i)=>{const{children:s,...a}=r,o=v.Children.toArray(s),l=o.find(zF);if(l){const c=l.props.children,u=o.map(f=>f===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return p.jsx(e,{...a,ref:i,children:v.isValidElement(c)?v.cloneElement(c,void 0,u):null})}return p.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var UF=ru("Slot");function FF(t){const e=v.forwardRef((n,r)=>{const{children:i,...s}=n;if(v.isValidElement(i)){const a=qF(i),o=HF(s,i.props);return i.type!==v.Fragment&&(o.ref=r?xP(r,a):a),v.cloneElement(i,o)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SP=Symbol("radix.slottable");function BF(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=SP,e}function zF(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SP}function HF(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function qF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var GF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=GF.reduce((t,e)=>{const n=ru(`Primitive.${e}`),r=v.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $F(t,e){t&&Rl.flushSync(()=>t.dispatchEvent(e))}function Kn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function KF(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var YF="DismissableLayer",eb="dismissableLayer.update",WF="dismissableLayer.pointerDownOutside",QF="dismissableLayer.focusOutside",dA,AP=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eg=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=v.useContext(AP),[u,f]=v.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),w=Qe(e,x=>f(x)),g=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(E),_=u?g.indexOf(u):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,R=_>=b,P=JF(x=>{const A=x.target,C=[...c.branches].some(I=>I.contains(A));!R||C||(i==null||i(x),a==null||a(x),x.defaultPrevented||o==null||o())},h),k=eB(x=>{const A=x.target;[...c.branches].some(I=>I.contains(A))||(s==null||s(x),a==null||a(x),x.defaultPrevented||o==null||o())},h);return KF(x=>{_===c.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&o&&(x.preventDefault(),o()))},h),v.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(dA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),fA(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=dA)}},[u,h,n,c]),v.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),fA())},[u,c]),v.useEffect(()=>{const x=()=>m({});return document.addEventListener(eb,x),()=>document.removeEventListener(eb,x)},[]),p.jsx(Ae.div,{...l,ref:w,style:{pointerEvents:T?R?"auto":"none":void 0,...t.style},onFocusCapture:ve(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ve(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ve(t.onPointerDownCapture,P.onPointerDownCapture)})});Eg.displayName=YF;var XF="DismissableLayerBranch",ZF=v.forwardRef((t,e)=>{const n=v.useContext(AP),r=v.useRef(null),i=Qe(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(Ae.div,{...t,ref:i})});ZF.displayName=XF;function JF(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){CP(WF,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function eB(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&CP(QF,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fA(){const t=new CustomEvent(eb);document.dispatchEvent(t)}function CP(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$F(i,s):i.dispatchEvent(s)}var Pn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},tB=gw[" useId ".trim().toString()]||(()=>{}),nB=0;function Ya(t){const[e,n]=v.useState(tB());return Pn(()=>{n(r=>r??String(nB++))},[t]),e?`radix-${e}`:""}const rB=["top","right","bottom","left"],io=Math.min,Sr=Math.max,yp=Math.round,Hh=Math.floor,$i=t=>({x:t,y:t}),iB={left:"right",right:"left",bottom:"top",top:"bottom"},sB={start:"end",end:"start"};function tb(t,e,n){return Sr(t,io(e,n))}function Hs(t,e){return typeof t=="function"?t(e):t}function qs(t){return t.split("-")[0]}function Su(t){return t.split("-")[1]}function v_(t){return t==="x"?"y":"x"}function b_(t){return t==="y"?"height":"width"}const aB=new Set(["top","bottom"]);function qi(t){return aB.has(qs(t))?"y":"x"}function w_(t){return v_(qi(t))}function oB(t,e,n){n===void 0&&(n=!1);const r=Su(t),i=w_(t),s=b_(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=vp(a)),[a,vp(a)]}function lB(t){const e=vp(t);return[nb(t),e,nb(e)]}function nb(t){return t.replace(/start|end/g,e=>sB[e])}const hA=["left","right"],mA=["right","left"],cB=["top","bottom"],uB=["bottom","top"];function dB(t,e,n){switch(t){case"top":case"bottom":return n?e?mA:hA:e?hA:mA;case"left":case"right":return e?cB:uB;default:return[]}}function fB(t,e,n,r){const i=Su(t);let s=dB(qs(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(nb)))),s}function vp(t){return t.replace(/left|right|bottom|top/g,e=>iB[e])}function hB(t){return{top:0,right:0,bottom:0,left:0,...t}}function RP(t){return typeof t!="number"?hB(t):{top:t,right:t,bottom:t,left:t}}function bp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function pA(t,e,n){let{reference:r,floating:i}=t;const s=qi(e),a=w_(e),o=b_(a),l=qs(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Su(e)){case"start":m[a]-=h*(n&&c?-1:1);break;case"end":m[a]+=h*(n&&c?-1:1);break}return m}const mB=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=pA(c,r,l),h=r,m={},w=0;for(let g=0;g<o.length;g++){const{name:E,fn:b}=o[g],{x:_,y:T,data:R,reset:P}=await b({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:t,floating:e}});u=_??u,f=T??f,m={...m,[E]:{...m[E],...R}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(c=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:u,y:f}=pA(c,h,l)),g=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:m}};async function df(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Hs(e,t),w=RP(m),E=o[h?f==="floating"?"reference":"floating":f],b=bp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),R=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},P=bp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:T,strategy:l}):_);return{top:(b.top-P.top+w.top)/R.y,bottom:(P.bottom-b.bottom+w.bottom)/R.y,left:(b.left-P.left+w.left)/R.x,right:(P.right-b.right+w.right)/R.x}}const pB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Hs(t,e)||{};if(c==null)return{};const f=RP(u),h={x:n,y:r},m=w_(i),w=b_(m),g=await a.getDimensions(c),E=m==="y",b=E?"top":"left",_=E?"bottom":"right",T=E?"clientHeight":"clientWidth",R=s.reference[w]+s.reference[m]-h[m]-s.floating[w],P=h[m]-s.reference[m],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let x=k?k[T]:0;(!x||!await(a.isElement==null?void 0:a.isElement(k)))&&(x=o.floating[T]||s.floating[w]);const A=R/2-P/2,C=x/2-g[w]/2-1,I=io(f[b],C),D=io(f[_],C),O=I,M=x-g[w]-D,ee=x/2-g[w]/2+A,ue=tb(O,ee,M),H=!l.arrow&&Su(i)!=null&&ee!==ue&&s.reference[w]/2-(ee<O?I:D)-g[w]/2<0,W=H?ee<O?ee-O:ee-M:0;return{[m]:h[m]+W,data:{[m]:ue,centerOffset:ee-ue-W,...H&&{alignmentOffset:W}},reset:H}}}),gB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...E}=Hs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=qs(i),_=qi(o),T=qs(o)===o,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=h||(T||!g?[vp(o)]:lB(o)),k=w!=="none";!h&&k&&P.push(...fB(o,g,w,R));const x=[o,...P],A=await df(e,E),C=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&C.push(A[b]),f){const ee=oB(i,a,R);C.push(A[ee[0]],A[ee[1]])}if(I=[...I,{placement:i,overflows:C}],!C.every(ee=>ee<=0)){var D,O;const ee=(((D=s.flip)==null?void 0:D.index)||0)+1,ue=x[ee];if(ue&&(!(f==="alignment"?_!==qi(ue):!1)||I.every(q=>qi(q.placement)===_?q.overflows[0]>0:!0)))return{data:{index:ee,overflows:I},reset:{placement:ue}};let H=(O=I.filter(W=>W.overflows[0]<=0).sort((W,q)=>W.overflows[1]-q.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(m){case"bestFit":{var M;const W=(M=I.filter(q=>{if(k){const V=qi(q.placement);return V===_||V==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(V=>V>0).reduce((V,L)=>V+L,0)]).sort((q,V)=>q[1]-V[1])[0])==null?void 0:M[0];W&&(H=W);break}case"initialPlacement":H=o;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function gA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yA(t){return rB.some(e=>t[e]>=0)}const yB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Hs(t,e);switch(r){case"referenceHidden":{const s=await df(e,{...i,elementContext:"reference"}),a=gA(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:yA(a)}}}case"escaped":{const s=await df(e,{...i,altBoundary:!0}),a=gA(s,n.floating);return{data:{escapedOffsets:a,escaped:yA(a)}}}default:return{}}}}},IP=new Set(["left","top"]);async function vB(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=qs(n),o=Su(n),l=qi(n)==="y",c=IP.has(a)?-1:1,u=s&&l?-1:1,f=Hs(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof w=="number"&&(m=o==="end"?w*-1:w),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const bB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await vB(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},wB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:E=>{let{x:b,y:_}=E;return{x:b,y:_}}},...l}=Hs(t,e),c={x:n,y:r},u=await df(e,l),f=qi(qs(i)),h=v_(f);let m=c[h],w=c[f];if(s){const E=h==="y"?"top":"left",b=h==="y"?"bottom":"right",_=m+u[E],T=m-u[b];m=tb(_,m,T)}if(a){const E=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=w+u[E],T=w-u[b];w=tb(_,w,T)}const g=o.fn({...e,[h]:m,[f]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:a}}}}}},_B=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Hs(t,e),u={x:n,y:r},f=qi(i),h=v_(f);let m=u[h],w=u[f];const g=Hs(o,e),E=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const T=h==="y"?"height":"width",R=s.reference[h]-s.floating[T]+E.mainAxis,P=s.reference[h]+s.reference[T]-E.mainAxis;m<R?m=R:m>P&&(m=P)}if(c){var b,_;const T=h==="y"?"width":"height",R=IP.has(qs(i)),P=s.reference[f]-s.floating[T]+(R&&((b=a.offset)==null?void 0:b[f])||0)+(R?0:E.crossAxis),k=s.reference[f]+s.reference[T]+(R?0:((_=a.offset)==null?void 0:_[f])||0)-(R?E.crossAxis:0);w<P?w=P:w>k&&(w=k)}return{[h]:m,[f]:w}}}},EB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Hs(t,e),u=await df(e,c),f=qs(i),h=Su(i),m=qi(i)==="y",{width:w,height:g}=s.floating;let E,b;f==="top"||f==="bottom"?(E=f,b=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(b=f,E=h==="end"?"top":"bottom");const _=g-u.top-u.bottom,T=w-u.left-u.right,R=io(g-u[E],_),P=io(w-u[b],T),k=!e.middlewareData.shift;let x=R,A=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(x=_),k&&!h){const I=Sr(u.left,0),D=Sr(u.right,0),O=Sr(u.top,0),M=Sr(u.bottom,0);m?A=w-2*(I!==0||D!==0?I+D:Sr(u.left,u.right)):x=g-2*(O!==0||M!==0?O+M:Sr(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:x});const C=await a.getDimensions(o.floating);return w!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Tg(){return typeof window<"u"}function Au(t){return NP(t)?(t.nodeName||"").toLowerCase():"#document"}function Mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function os(t){var e;return(e=(NP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NP(t){return Tg()?t instanceof Node||t instanceof Mr(t).Node:!1}function wi(t){return Tg()?t instanceof Element||t instanceof Mr(t).Element:!1}function ts(t){return Tg()?t instanceof HTMLElement||t instanceof Mr(t).HTMLElement:!1}function vA(t){return!Tg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mr(t).ShadowRoot}const TB=new Set(["inline","contents"]);function Kf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=_i(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!TB.has(i)}const xB=new Set(["table","td","th"]);function SB(t){return xB.has(Au(t))}const AB=[":popover-open",":modal"];function xg(t){return AB.some(e=>{try{return t.matches(e)}catch{return!1}})}const CB=["transform","translate","scale","rotate","perspective"],RB=["transform","translate","scale","rotate","perspective","filter"],IB=["paint","layout","strict","content"];function __(t){const e=E_(),n=wi(t)?_i(t):t;return CB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||RB.some(r=>(n.willChange||"").includes(r))||IB.some(r=>(n.contain||"").includes(r))}function NB(t){let e=so(t);for(;ts(e)&&!iu(e);){if(__(e))return e;if(xg(e))return null;e=so(e)}return null}function E_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DB=new Set(["html","body","#document"]);function iu(t){return DB.has(Au(t))}function _i(t){return Mr(t).getComputedStyle(t)}function Sg(t){return wi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function so(t){if(Au(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vA(t)&&t.host||os(t);return vA(e)?e.host:e}function DP(t){const e=so(t);return iu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ts(e)&&Kf(e)?e:DP(e)}function ff(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=DP(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Mr(i);if(s){const o=rb(a);return e.concat(a,a.visualViewport||[],Kf(i)?i:[],o&&n?ff(o):[])}return e.concat(i,ff(i,[],n))}function rb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PP(t){const e=_i(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ts(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=yp(n)!==s||yp(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function T_(t){return wi(t)?t:t.contextElement}function Ic(t){const e=T_(t);if(!ts(e))return $i(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=PP(e);let a=(s?yp(n.width):n.width)/r,o=(s?yp(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const PB=$i(0);function MP(t){const e=Mr(t);return!E_()||!e.visualViewport?PB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mr(t)?!1:e}function yl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=T_(t);let a=$i(1);e&&(r?wi(r)&&(a=Ic(r)):a=Ic(t));const o=MB(s,n,r)?MP(s):$i(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(s){const h=Mr(s),m=r&&wi(r)?Mr(r):r;let w=h,g=rb(w);for(;g&&r&&m!==w;){const E=Ic(g),b=g.getBoundingClientRect(),_=_i(g),T=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*E.x,R=b.top+(g.clientTop+parseFloat(_.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,f*=E.y,l+=T,c+=R,w=Mr(g),g=rb(w)}}return bp({width:u,height:f,x:l,y:c})}function Ag(t,e){const n=Sg(t).scrollLeft;return e?e.left+n:yl(os(t)).left+n}function OP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ag(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function OB(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=os(r),o=e?xg(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=$i(1);const u=$i(0),f=ts(r);if((f||!f&&!s)&&((Au(r)!=="body"||Kf(a))&&(l=Sg(r)),ts(r))){const m=yl(r);c=Ic(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const h=a&&!f&&!s?OP(a,l):$i(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function jB(t){return Array.from(t.getClientRects())}function VB(t){const e=os(t),n=Sg(t),r=t.ownerDocument.body,i=Sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ag(t);const o=-n.scrollTop;return _i(r).direction==="rtl"&&(a+=Sr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const bA=25;function LB(t,e){const n=Mr(t),r=os(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=E_();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Ag(r);if(c<=0){const u=r.ownerDocument,f=u.body,h=getComputedStyle(f),m=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,w=Math.abs(r.clientWidth-f.clientWidth-m);w<=bA&&(s-=w)}else c<=bA&&(s+=c);return{width:s,height:a,x:o,y:l}}const kB=new Set(["absolute","fixed"]);function UB(t,e){const n=yl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ts(t)?Ic(t):$i(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function wA(t,e,n){let r;if(e==="viewport")r=LB(t,n);else if(e==="document")r=VB(os(t));else if(wi(e))r=UB(e,n);else{const i=MP(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return bp(r)}function jP(t,e){const n=so(t);return n===e||!wi(n)||iu(n)?!1:_i(n).position==="fixed"||jP(n,e)}function FB(t,e){const n=e.get(t);if(n)return n;let r=ff(t,[],!1).filter(o=>wi(o)&&Au(o)!=="body"),i=null;const s=_i(t).position==="fixed";let a=s?so(t):t;for(;wi(a)&&!iu(a);){const o=_i(a),l=__(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&kB.has(i.position)||Kf(a)&&!l&&jP(t,a))?r=r.filter(u=>u!==a):i=o,a=so(a)}return e.set(t,r),r}function BB(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?xg(e)?[]:FB(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,u)=>{const f=wA(e,u,i);return c.top=Sr(f.top,c.top),c.right=io(f.right,c.right),c.bottom=io(f.bottom,c.bottom),c.left=Sr(f.left,c.left),c},wA(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zB(t){const{width:e,height:n}=PP(t);return{width:e,height:n}}function HB(t,e,n){const r=ts(e),i=os(e),s=n==="fixed",a=yl(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=$i(0);function c(){l.x=Ag(i)}if(r||!r&&!s)if((Au(e)!=="body"||Kf(i))&&(o=Sg(e)),r){const m=yl(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?OP(i,o):$i(0),f=a.left+o.scrollLeft-l.x-u.x,h=a.top+o.scrollTop-l.y-u.y;return{x:f,y:h,width:a.width,height:a.height}}function dv(t){return _i(t).position==="static"}function _A(t,e){if(!ts(t)||_i(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return os(t)===n&&(n=n.ownerDocument.body),n}function VP(t,e){const n=Mr(t);if(xg(t))return n;if(!ts(t)){let i=so(t);for(;i&&!iu(i);){if(wi(i)&&!dv(i))return i;i=so(i)}return n}let r=_A(t,e);for(;r&&SB(r)&&dv(r);)r=_A(r,e);return r&&iu(r)&&dv(r)&&!__(r)?n:r||NB(t)||n}const qB=async function(t){const e=this.getOffsetParent||VP,n=this.getDimensions,r=await n(t.floating);return{reference:HB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GB(t){return _i(t).direction==="rtl"}const $B={convertOffsetParentRelativeRectToViewportRelativeRect:OB,getDocumentElement:os,getClippingRect:BB,getOffsetParent:VP,getElementRects:qB,getClientRects:jB,getDimensions:zB,getScale:Ic,isElement:wi,isRTL:GB};function LP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function KB(t,e){let n=null,r;const i=os(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=c;if(o||e(),!h||!m)return;const w=Hh(f),g=Hh(i.clientWidth-(u+h)),E=Hh(i.clientHeight-(f+m)),b=Hh(u),T={rootMargin:-w+"px "+-g+"px "+-E+"px "+-b+"px",threshold:Sr(0,io(1,l))||1};let R=!0;function P(k){const x=k[0].intersectionRatio;if(x!==l){if(!R)return a();x?a(!1,x):r=setTimeout(()=>{a(!1,1e-7)},1e3)}x===1&&!LP(c,t.getBoundingClientRect())&&a(),R=!1}try{n=new IntersectionObserver(P,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,T)}n.observe(t)}return a(!0),s}function YB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=T_(t),u=i||s?[...c?ff(c):[],...ff(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=c&&o?KB(c,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(b=>{let[_]=b;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,g=l?yl(t):null;l&&E();function E(){const b=yl(t);g&&!LP(g,b)&&n(),g=b,w=requestAnimationFrame(E)}return n(),()=>{var b;u.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const WB=bB,QB=wB,XB=gB,ZB=EB,JB=yB,EA=pB,ez=_B,tz=(t,e,n)=>{const r=new Map,i={platform:$B,...n},s={...i.platform,_c:r};return mB(t,e,{...i,platform:s})};var nz=typeof document<"u",rz=function(){},Em=nz?v.useLayoutEffect:rz;function wp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!wp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function kP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TA(t,e){const n=kP(t);return Math.round(e*n)/n}function fv(t){const e=v.useRef(t);return Em(()=>{e.current=t}),e}function iz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(r);wp(h,r)||m(r);const[w,g]=v.useState(null),[E,b]=v.useState(null),_=v.useCallback(q=>{q!==k.current&&(k.current=q,g(q))},[]),T=v.useCallback(q=>{q!==x.current&&(x.current=q,b(q))},[]),R=s||w,P=a||E,k=v.useRef(null),x=v.useRef(null),A=v.useRef(u),C=l!=null,I=fv(l),D=fv(i),O=fv(c),M=v.useCallback(()=>{if(!k.current||!x.current)return;const q={placement:e,strategy:n,middleware:h};D.current&&(q.platform=D.current),tz(k.current,x.current,q).then(V=>{const L={...V,isPositioned:O.current!==!1};ee.current&&!wp(A.current,L)&&(A.current=L,Rl.flushSync(()=>{f(L)}))})},[h,e,n,D,O]);Em(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[c]);const ee=v.useRef(!1);Em(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Em(()=>{if(R&&(k.current=R),P&&(x.current=P),R&&P){if(I.current)return I.current(R,P,M);M()}},[R,P,M,I,C]);const ue=v.useMemo(()=>({reference:k,floating:x,setReference:_,setFloating:T}),[_,T]),H=v.useMemo(()=>({reference:R,floating:P}),[R,P]),W=v.useMemo(()=>{const q={position:n,left:0,top:0};if(!H.floating)return q;const V=TA(H.floating,u.x),L=TA(H.floating,u.y);return o?{...q,transform:"translate("+V+"px, "+L+"px)",...kP(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:L}},[n,o,H.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:M,refs:ue,elements:H,floatingStyles:W}),[u,M,ue,H,W])}const sz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?EA({element:r.current,padding:i}).fn(n):{}:r?EA({element:r,padding:i}).fn(n):{}}}},az=(t,e)=>({...WB(t),options:[t,e]}),oz=(t,e)=>({...QB(t),options:[t,e]}),lz=(t,e)=>({...ez(t),options:[t,e]}),cz=(t,e)=>({...XB(t),options:[t,e]}),uz=(t,e)=>({...ZB(t),options:[t,e]}),dz=(t,e)=>({...JB(t),options:[t,e]}),fz=(t,e)=>({...sz(t),options:[t,e]});var hz="Arrow",UP=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(Ae.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});UP.displayName=hz;var mz=UP;function x_(t){const[e,n]=v.useState(void 0);return Pn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var S_="Popper",[FP,Cg]=Ai(S_),[pz,BP]=FP(S_),zP=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return p.jsx(pz,{scope:e,anchor:r,onAnchorChange:i,children:n})};zP.displayName=S_;var HP="PopperAnchor",qP=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=BP(HP,n),a=v.useRef(null),o=Qe(e,a),l=v.useRef(null);return v.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:p.jsx(Ae.div,{...i,ref:o})});qP.displayName=HP;var A_="PopperContent",[gz,yz]=FP(A_),GP=v.forwardRef((t,e)=>{var te,Oe,ht,Ke,je,ge;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=t,E=BP(A_,n),[b,_]=v.useState(null),T=Qe(e,mt=>_(mt)),[R,P]=v.useState(null),k=x_(R),x=(k==null?void 0:k.width)??0,A=(k==null?void 0:k.height)??0,C=r+(s!=="center"?"-"+s:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],O=D.length>0,M={padding:I,boundary:D.filter(bz),altBoundary:O},{refs:ee,floatingStyles:ue,placement:H,isPositioned:W,middlewareData:q}=iz({strategy:"fixed",placement:C,whileElementsMounted:(...mt)=>YB(...mt,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[az({mainAxis:i+A,alignmentAxis:a}),l&&oz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lz():void 0,...M}),l&&cz({...M}),uz({...M,apply:({elements:mt,rects:fn,availableWidth:ai,availableHeight:Qt})=>{const{width:mr,height:Ni}=fn.reference,yt=mt.floating.style;yt.setProperty("--radix-popper-available-width",`${ai}px`),yt.setProperty("--radix-popper-available-height",`${Qt}px`),yt.setProperty("--radix-popper-anchor-width",`${mr}px`),yt.setProperty("--radix-popper-anchor-height",`${Ni}px`)}}),R&&fz({element:R,padding:o}),wz({arrowWidth:x,arrowHeight:A}),h&&dz({strategy:"referenceHidden",...M})]}),[V,L]=YP(H),J=Kn(w);Pn(()=>{W&&(J==null||J())},[W,J]);const Q=(te=q.arrow)==null?void 0:te.x,Z=(Oe=q.arrow)==null?void 0:Oe.y,le=((ht=q.arrow)==null?void 0:ht.centerOffset)!==0,[be,tt]=v.useState();return Pn(()=>{b&&tt(window.getComputedStyle(b).zIndex)},[b]),p.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:W?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Ke=q.transformOrigin)==null?void 0:Ke.x,(je=q.transformOrigin)==null?void 0:je.y].join(" "),...((ge=q.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(gz,{scope:n,placedSide:V,onArrowChange:P,arrowX:Q,arrowY:Z,shouldHideArrow:le,children:p.jsx(Ae.div,{"data-side":V,"data-align":L,...g,ref:T,style:{...g.style,animation:W?void 0:"none"}})})})});GP.displayName=A_;var $P="PopperArrow",vz={top:"bottom",right:"left",bottom:"top",left:"right"},KP=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=yz($P,r),a=vz[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(mz,{...i,ref:n,style:{...i.style,display:"block"}})})});KP.displayName=$P;function bz(t){return t!==null}var wz=t=>({name:"transformOrigin",options:t,fn(e){var E,b,_;const{placement:n,rects:r,middlewareData:i}=e,a=((E=i.arrow)==null?void 0:E.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=YP(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+o/2,m=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let w="",g="";return c==="bottom"?(w=a?f:`${h}px`,g=`${-l}px`):c==="top"?(w=a?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,g=a?f:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,g=a?f:`${m}px`),{data:{x:w,y:g}}}});function YP(t){const[e,n="center"]=t.split("-");return[e,n]}var _z=zP,WP=qP,QP=GP,XP=KP,Ez="Portal",C_=v.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=v.useState(!1);Pn(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?yw.createPortal(p.jsx(Ae.div,{...r,ref:e}),a):null});C_.displayName=Ez;function Tz(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Ci=t=>{const{present:e,children:n}=t,r=xz(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=Qe(r.ref,Sz(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};Ci.displayName="Presence";function xz(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),s=v.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Tz(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=qh(r.current);s.current=o==="mounted"?c:"none"},[o]),Pn(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,m=qh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Pn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=m=>{const g=qh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=m=>{m.target===e&&(s.current=qh(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function qh(t){return(t==null?void 0:t.animationName)||"none"}function Sz(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Az=gw[" useInsertionEffect ".trim().toString()]||Pn;function vl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=Cz({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const u=v.useRef(t!==void 0);v.useEffect(()=>{const f=u.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const c=v.useCallback(u=>{var f;if(o){const h=Rz(u)?u(t):u;h!==t&&((f=a.current)==null||f.call(a,h))}else s(u)},[o,t,s,a]);return[l,c]}function Cz({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),s=v.useRef(e);return Az(()=>{s.current=e},[e]),v.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Rz(t){return typeof t=="function"}var ZP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Iz="VisuallyHidden",JP=v.forwardRef((t,e)=>p.jsx(Ae.span,{...t,ref:e,style:{...ZP,...t.style}}));JP.displayName=Iz;var Nz=JP,[Rg]=Ai("Tooltip",[Cg]),R_=Cg(),e2="TooltipProvider",Dz=700,xA="tooltip.open",[Pz,t2]=Rg(e2),n2=t=>{const{__scopeTooltip:e,delayDuration:n=Dz,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=v.useRef(!0),o=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(Pz,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:v.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};n2.displayName=e2;var r2="Tooltip",[bre,Ig]=Rg(r2),ib="TooltipTrigger",Mz=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ig(ib,n),s=t2(ib,n),a=R_(n),o=v.useRef(null),l=Qe(e,o,i.onTriggerChange),c=v.useRef(!1),u=v.useRef(!1),f=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(WP,{asChild:!0,...a,children:p.jsx(Ae.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ve(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:ve(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:ve(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ve(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ve(t.onBlur,i.onClose),onClick:ve(t.onClick,i.onClose)})})});Mz.displayName=ib;var Oz="TooltipPortal",[wre,jz]=Rg(Oz,{forceMount:void 0}),su="TooltipContent",i2=v.forwardRef((t,e)=>{const n=jz(su,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=Ig(su,t.__scopeTooltip);return p.jsx(Ci,{present:r||a.open,children:a.disableHoverableContent?p.jsx(s2,{side:i,...s,ref:e}):p.jsx(Vz,{side:i,...s,ref:e})})}),Vz=v.forwardRef((t,e)=>{const n=Ig(su,t.__scopeTooltip),r=t2(su,t.__scopeTooltip),i=v.useRef(null),s=Qe(e,i),[a,o]=v.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{o(null),f(!1)},[f]),m=v.useCallback((w,g)=>{const E=w.currentTarget,b={x:w.clientX,y:w.clientY},_=Bz(b,E.getBoundingClientRect()),T=zz(b,_),R=Hz(g.getBoundingClientRect()),P=Gz([...T,...R]);o(P),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&u){const w=E=>m(E,u),g=E=>m(E,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",g)}}},[l,u,m,h]),v.useEffect(()=>{if(a){const w=g=>{const E=g.target,b={x:g.clientX,y:g.clientY},_=(l==null?void 0:l.contains(E))||(u==null?void 0:u.contains(E)),T=!qz(b,a);_?h():T&&(h(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,a,c,h]),p.jsx(s2,{...t,ref:s})}),[Lz,kz]=Rg(r2,{isInside:!1}),Uz=BF("TooltipContent"),s2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=Ig(su,n),c=R_(n),{onClose:u}=l;return v.useEffect(()=>(document.addEventListener(xA,u),()=>document.removeEventListener(xA,u)),[u]),v.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),p.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:p.jsxs(QP,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(Uz,{children:r}),p.jsx(Lz,{scope:n,isInside:!0,children:p.jsx(Nz,{id:l.contentId,role:"tooltip",children:i||r})})]})})});i2.displayName=su;var a2="TooltipArrow",Fz=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=R_(n);return kz(a2,n).isInside?null:p.jsx(XP,{...i,...r,ref:e})});Fz.displayName=a2;function Bz(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zz(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Hz(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function qz(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,f=l.x,h=l.y;u>r!=h>r&&n<(f-c)*(r-u)/(h-u)+c&&(i=!i)}return i}function Gz(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$z(e)}function $z(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Kz=n2,o2=i2;function l2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=l2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function c2(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=l2(t))&&(r&&(r+=" "),r+=e);return r}const I_="-",Yz=t=>{const e=Qz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(I_);return o[0]===""&&o.length!==1&&o.shift(),u2(o,e)||Wz(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},u2=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?u2(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(I_);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},SA=/^\[(.+)\]$/,Wz=t=>{if(SA.test(t)){const e=SA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Qz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Zz(Object.entries(t.classGroups),n).forEach(([s,a])=>{sb(a,r,s,e)}),r},sb=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:AA(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Xz(i)){sb(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{sb(a,AA(e,s),n,r)})})},AA=(t,e)=>{let n=t;return e.split(I_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Xz=t=>t.isThemeGetter,Zz=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,Jz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},d2="!",e9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,u=0,f;for(let E=0;E<o.length;E++){let b=o[E];if(c===0){if(b===i&&(r||o.slice(E,E+s)===e)){l.push(o.slice(u,E)),u=E+s;continue}if(b==="/"){f=E;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?o:o.substring(u),m=h.startsWith(d2),w=m?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:a}):a},t9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},n9=t=>({cache:Jz(t.cacheSize),parseClassName:e9(t),...Yz(t)}),r9=/\s+/,i9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(r9);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let w=!!m,g=r(w?h.substring(0,m):h);if(!g){if(!w){o=c+(o.length>0?" "+o:o);continue}if(g=r(h),!g){o=c+(o.length>0?" "+o:o);continue}w=!1}const E=t9(u).join(":"),b=f?E+d2:E,_=b+g;if(s.includes(_))continue;s.push(_);const T=i(g,w);for(let R=0;R<T.length;++R){const P=T[R];s.push(b+P)}o=c+(o.length>0?" "+o:o)}return o};function s9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=f2(e))&&(r&&(r+=" "),r+=n);return r}const f2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=f2(t[r]))&&(n&&(n+=" "),n+=e);return n};function a9(t,...e){let n,r,i,s=a;function a(l){const c=e.reduce((u,f)=>f(u),t());return n=n9(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const u=i9(l,n);return i(l,u),u}return function(){return s(s9.apply(null,arguments))}}const xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},h2=/^\[(?:([a-z-]+):)?(.+)\]$/i,o9=/^\d+\/\d+$/,l9=new Set(["px","full","screen"]),c9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,f9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vs=t=>Nc(t)||l9.has(t)||o9.test(t),la=t=>Cu(t,"length",_9),Nc=t=>!!t&&!Number.isNaN(Number(t)),hv=t=>Cu(t,"number",Nc),id=t=>!!t&&Number.isInteger(Number(t)),m9=t=>t.endsWith("%")&&Nc(t.slice(0,-1)),De=t=>h2.test(t),ca=t=>c9.test(t),p9=new Set(["length","size","percentage"]),g9=t=>Cu(t,p9,m2),y9=t=>Cu(t,"position",m2),v9=new Set(["image","url"]),b9=t=>Cu(t,v9,T9),w9=t=>Cu(t,"",E9),sd=()=>!0,Cu=(t,e,n)=>{const r=h2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_9=t=>u9.test(t)&&!d9.test(t),m2=()=>!1,E9=t=>f9.test(t),T9=t=>h9.test(t),x9=()=>{const t=xt("colors"),e=xt("spacing"),n=xt("blur"),r=xt("brightness"),i=xt("borderColor"),s=xt("borderRadius"),a=xt("borderSpacing"),o=xt("borderWidth"),l=xt("contrast"),c=xt("grayscale"),u=xt("hueRotate"),f=xt("invert"),h=xt("gap"),m=xt("gradientColorStops"),w=xt("gradientColorStopPositions"),g=xt("inset"),E=xt("margin"),b=xt("opacity"),_=xt("padding"),T=xt("saturate"),R=xt("scale"),P=xt("sepia"),k=xt("skew"),x=xt("space"),A=xt("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",De,e],O=()=>[De,e],M=()=>["",vs,la],ee=()=>["auto",Nc,De],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",De],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Nc,De];return{cacheSize:500,separator:":",theme:{colors:[sd],spacing:[vs,la],blur:["none","",ca,De],brightness:J(),borderColor:[t],borderRadius:["none","","full",ca,De],borderSpacing:O(),borderWidth:M(),contrast:J(),grayscale:V(),hueRotate:J(),invert:V(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[m9,la],inset:D(),margin:D(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:V(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[ca]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),De]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",id,De]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",id,De]}],"grid-cols":[{"grid-cols":[sd]}],"col-start-end":[{col:["auto",{span:["full",id,De]},De]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[sd]}],"row-start-end":[{row:["auto",{span:[id,De]},De]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[ca]},ca]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ca,la]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hv]}],"font-family":[{font:[sd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Nc,hv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vs,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vs,la]}],"underline-offset":[{"underline-offset":["auto",vs,De]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),y9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},b9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[vs,De]}],"outline-w":[{outline:[vs,la]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[vs,la]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ca,w9]}],"shadow-color":[{shadow:[sd]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ca,De]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[id,De]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vs,la,hv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},S9=a9(x9);function $e(...t){return S9(c2(t))}const A9=Kz,C9=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(o2,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));C9.displayName=o2.displayName;var Ng=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},R9={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Sa,uw,QR,I9=(QR=class{constructor(){Ye(this,Sa,R9);Ye(this,uw,!1)}setTimeoutProvider(t){xe(this,Sa,t)}setTimeout(t,e){return G(this,Sa).setTimeout(t,e)}clearTimeout(t){G(this,Sa).clearTimeout(t)}setInterval(t,e){return G(this,Sa).setInterval(t,e)}clearInterval(t){G(this,Sa).clearInterval(t)}},Sa=new WeakMap,uw=new WeakMap,QR),ab=new I9;function N9(t){setTimeout(t,0)}var Dg=typeof window>"u"||"Deno"in globalThis;function mi(){}function D9(t,e){return typeof t=="function"?t(e):t}function P9(t){return typeof t=="number"&&t>=0&&t!==1/0}function M9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ob(t,e){return typeof t=="function"?t(e):t}function O9(t,e){return typeof t=="function"?t(e):t}function CA(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==N_(a,e.options))return!1}else if(!mf(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function RA(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(hf(e.options.mutationKey)!==hf(s))return!1}else if(!mf(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function N_(t,e){return((e==null?void 0:e.queryKeyHashFn)||hf)(t)}function hf(t){return JSON.stringify(t,(e,n)=>lb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function mf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>mf(t[n],e[n])):!1}var j9=Object.prototype.hasOwnProperty;function p2(t,e){if(t===e)return t;const n=IA(t)&&IA(e);if(!n&&!(lb(t)&&lb(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,o=n?new Array(a):{};let l=0;for(let c=0;c<a;c++){const u=n?c:s[c],f=t[u],h=e[u];if(f===h){o[u]=f,(n?c<i:j9.call(t,u))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[u]=h;continue}const m=p2(f,h);o[u]=m,m===f&&l++}return i===a&&l===i?t:o}function IA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lb(t){if(!NA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!NA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function NA(t){return Object.prototype.toString.call(t)==="[object Object]"}function V9(t){return new Promise(e=>{ab.setTimeout(e,t)})}function L9(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?p2(t,e):e}function k9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function U9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var D_=Symbol();function g2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===D_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Qo,Aa,Lc,XR,F9=(XR=class extends Ng{constructor(){super();Ye(this,Qo);Ye(this,Aa);Ye(this,Lc);xe(this,Lc,e=>{if(!Dg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,Aa)||this.setEventListener(G(this,Lc))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,Aa))==null||e.call(this),xe(this,Aa,void 0))}setEventListener(e){var n;xe(this,Lc,e),(n=G(this,Aa))==null||n.call(this),xe(this,Aa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){G(this,Qo)!==e&&(xe(this,Qo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof G(this,Qo)=="boolean"?G(this,Qo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qo=new WeakMap,Aa=new WeakMap,Lc=new WeakMap,XR),y2=new F9;function B9(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var z9=N9;function H9(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=z9;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var $n=H9(),kc,Ca,Uc,ZR,q9=(ZR=class extends Ng{constructor(){super();Ye(this,kc,!0);Ye(this,Ca);Ye(this,Uc);xe(this,Uc,e=>{if(!Dg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,Ca)||this.setEventListener(G(this,Uc))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,Ca))==null||e.call(this),xe(this,Ca,void 0))}setEventListener(e){var n;xe(this,Uc,e),(n=G(this,Ca))==null||n.call(this),xe(this,Ca,e(this.setOnline.bind(this)))}setOnline(e){G(this,kc)!==e&&(xe(this,kc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return G(this,kc)}},kc=new WeakMap,Ca=new WeakMap,Uc=new WeakMap,ZR),_p=new q9;function G9(t){return Math.min(1e3*2**t,3e4)}function v2(t){return(t??"online")==="online"?_p.isOnline():!0}var cb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function b2(t){let e=!1,n=0,r;const i=B9(),s=()=>i.status!=="pending",a=g=>{var E;if(!s()){const b=new cb(g);h(b),(E=t.onCancel)==null||E.call(t,b)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>y2.isFocused()&&(t.networkMode==="always"||_p.isOnline())&&t.canRun(),u=()=>v2(t.networkMode)&&t.canRun(),f=g=>{s()||(r==null||r(),i.resolve(g))},h=g=>{s()||(r==null||r(),i.reject(g))},m=()=>new Promise(g=>{var E;r=b=>{(s()||c())&&g(b)},(E=t.onPause)==null||E.call(t)}).then(()=>{var g;r=void 0,s()||(g=t.onContinue)==null||g.call(t)}),w=()=>{if(s())return;let g;const E=n===0?t.initialPromise:void 0;try{g=E??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var k;if(s())return;const _=t.retry??(Dg?0:3),T=t.retryDelay??G9,R=typeof T=="function"?T(n,b):T,P=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,b);if(e||!P){h(b);return}n++,(k=t.onFail)==null||k.call(t,n,b),V9(R).then(()=>c()?void 0:m()).then(()=>{e?h(b):w()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?w():m().then(w),i)}}var Xo,JR,w2=(JR=class{constructor(){Ye(this,Xo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P9(this.gcTime)&&xe(this,Xo,ab.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dg?1/0:5*60*1e3))}clearGcTimeout(){G(this,Xo)&&(ab.clearTimeout(G(this,Xo)),xe(this,Xo,void 0))}},Xo=new WeakMap,JR),Zo,Fc,Gr,Jo,gn,Nf,el,pi,ws,eI,$9=(eI=class extends w2{constructor(n){super();Ye(this,pi);Ye(this,Zo);Ye(this,Fc);Ye(this,Gr);Ye(this,Jo);Ye(this,gn);Ye(this,Nf);Ye(this,el);xe(this,el,!1),xe(this,Nf,n.defaultOptions),this.setOptions(n.options),this.observers=[],xe(this,Jo,n.client),xe(this,Gr,G(this,Jo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,xe(this,Zo,DA(this.options)),this.state=n.state??G(this,Zo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=G(this,gn))==null?void 0:n.promise}setOptions(n){if(this.options={...G(this,Nf),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=DA(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),xe(this,Zo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Gr).remove(this)}setData(n,r){const i=L9(this.state.data,n,this.options);return On(this,pi,ws).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){On(this,pi,ws).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=G(this,gn))==null?void 0:i.promise;return(s=G(this,gn))==null||s.cancel(n),r?r.then(mi).catch(mi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,Zo))}isActive(){return this.observers.some(n=>O9(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===D_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ob(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!M9(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,gn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,gn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),G(this,Gr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(G(this,gn)&&(G(this,el)?G(this,gn).cancel({revert:!0}):G(this,gn).cancelRetry()),this.scheduleGc()),G(this,Gr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||On(this,pi,ws).call(this,{type:"invalidate"})}async fetch(n,r){var c,u,f,h,m,w,g,E,b,_,T,R;if(this.state.fetchStatus!=="idle"&&((c=G(this,gn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,gn))return G(this,gn).continueRetry(),G(this,gn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const P=this.observers.find(k=>k.options.queryFn);P&&this.setOptions(P.options)}const i=new AbortController,s=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(xe(this,el,!0),i.signal)})},a=()=>{const P=g2(this.options,r),x=(()=>{const A={client:G(this,Jo),queryKey:this.queryKey,meta:this.meta};return s(A),A})();return xe(this,el,!1),this.options.persister?this.options.persister(P,x,this):P(x)},l=(()=>{const P={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,Jo),state:this.state,fetchFn:a};return s(P),P})();(u=this.options.behavior)==null||u.onFetch(l,this),xe(this,Fc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&On(this,pi,ws).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),xe(this,gn,b2({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:P=>{P instanceof cb&&P.revert&&this.setState({...G(this,Fc),fetchStatus:"idle"}),i.abort()},onFail:(P,k)=>{On(this,pi,ws).call(this,{type:"failed",failureCount:P,error:k})},onPause:()=>{On(this,pi,ws).call(this,{type:"pause"})},onContinue:()=>{On(this,pi,ws).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const P=await G(this,gn).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(w=(m=G(this,Gr).config).onSuccess)==null||w.call(m,P,this),(E=(g=G(this,Gr).config).onSettled)==null||E.call(g,P,this.state.error,this),P}catch(P){if(P instanceof cb){if(P.silent)return G(this,gn).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw On(this,pi,ws).call(this,{type:"error",error:P}),(_=(b=G(this,Gr).config).onError)==null||_.call(b,P,this),(R=(T=G(this,Gr).config).onSettled)==null||R.call(T,this.state.data,P,this),P}finally{this.scheduleGc()}}},Zo=new WeakMap,Fc=new WeakMap,Gr=new WeakMap,Jo=new WeakMap,gn=new WeakMap,Nf=new WeakMap,el=new WeakMap,pi=new WeakSet,ws=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...K9(i.data,this.options),fetchMeta:n.meta??null};case"success":const s={...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,Fc,n.manual?s:void 0),s;case"error":const a=n.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),$n.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),G(this,Gr).notify({query:this,type:"updated",action:n})})},eI);function K9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function DA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function PA(t){return{onFetch:(e,n)=>{var u,f,h,m,w;const r=e.options,i=(h=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=g2(e.options,e.fetchOptions),_=async(T,R,P)=>{if(g)return Promise.reject();if(R==null&&T.pages.length)return Promise.resolve(T);const x=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:R,direction:P?"backward":"forward",meta:e.options.meta};return E(D),D})(),A=await b(x),{maxPages:C}=e.options,I=P?U9:k9;return{pages:I(T.pages,A,C),pageParams:I(T.pageParams,R,C)}};if(i&&s.length){const T=i==="backward",R=T?Y9:MA,P={pages:s,pageParams:a},k=R(r,P);o=await _(P,k,T)}else{const T=t??s.length;do{const R=l===0?a[0]??r.initialPageParam:MA(r,o);if(l>0&&R==null)break;o=await _(o,R),l++}while(l<T)}return o};e.options.persister?e.fetchFn=()=>{var g,E;return(E=(g=e.options).persister)==null?void 0:E.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function MA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Y9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Df,Li,qn,tl,ki,fa,tI,W9=(tI=class extends w2{constructor(n){super();Ye(this,ki);Ye(this,Df);Ye(this,Li);Ye(this,qn);Ye(this,tl);xe(this,Df,n.client),this.mutationId=n.mutationId,xe(this,qn,n.mutationCache),xe(this,Li,[]),this.state=n.state||Q9(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){G(this,Li).includes(n)||(G(this,Li).push(n),this.clearGcTimeout(),G(this,qn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){xe(this,Li,G(this,Li).filter(r=>r!==n)),this.scheduleGc(),G(this,qn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){G(this,Li).length||(this.state.status==="pending"?this.scheduleGc():G(this,qn).remove(this))}continue(){var n;return((n=G(this,tl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,c,u,f,h,m,w,g,E,b,_,T,R,P,k,x,A,C,I;const r=()=>{On(this,ki,fa).call(this,{type:"continue"})},i={client:G(this,Df),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,tl,b2({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(D,O)=>{On(this,ki,fa).call(this,{type:"failed",failureCount:D,error:O})},onPause:()=>{On(this,ki,fa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,qn).canRun(this)}));const s=this.state.status==="pending",a=!G(this,tl).canStart();try{if(s)r();else{On(this,ki,fa).call(this,{type:"pending",variables:n,isPaused:a}),await((l=(o=G(this,qn).config).onMutate)==null?void 0:l.call(o,n,this,i));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n,i));O!==this.state.context&&On(this,ki,fa).call(this,{type:"pending",context:O,variables:n,isPaused:a})}const D=await G(this,tl).start();return await((h=(f=G(this,qn).config).onSuccess)==null?void 0:h.call(f,D,n,this.state.context,this,i)),await((w=(m=this.options).onSuccess)==null?void 0:w.call(m,D,n,this.state.context,i)),await((E=(g=G(this,qn).config).onSettled)==null?void 0:E.call(g,D,null,this.state.variables,this.state.context,this,i)),await((_=(b=this.options).onSettled)==null?void 0:_.call(b,D,null,n,this.state.context,i)),On(this,ki,fa).call(this,{type:"success",data:D}),D}catch(D){try{throw await((R=(T=G(this,qn).config).onError)==null?void 0:R.call(T,D,n,this.state.context,this,i)),await((k=(P=this.options).onError)==null?void 0:k.call(P,D,n,this.state.context,i)),await((A=(x=G(this,qn).config).onSettled)==null?void 0:A.call(x,void 0,D,this.state.variables,this.state.context,this,i)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,D,n,this.state.context,i)),D}finally{On(this,ki,fa).call(this,{type:"error",error:D})}}finally{G(this,qn).runNext(this)}}},Df=new WeakMap,Li=new WeakMap,qn=new WeakMap,tl=new WeakMap,ki=new WeakSet,fa=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$n.batch(()=>{G(this,Li).forEach(i=>{i.onMutationUpdate(n)}),G(this,qn).notify({mutation:this,type:"updated",action:n})})},tI);function Q9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Es,gi,Pf,nI,X9=(nI=class extends Ng{constructor(e={}){super();Ye(this,Es);Ye(this,gi);Ye(this,Pf);this.config=e,xe(this,Es,new Set),xe(this,gi,new Map),xe(this,Pf,0)}build(e,n,r){const i=new W9({client:e,mutationCache:this,mutationId:++xh(this,Pf)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){G(this,Es).add(e);const n=Gh(e);if(typeof n=="string"){const r=G(this,gi).get(n);r?r.push(e):G(this,gi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(G(this,Es).delete(e)){const n=Gh(e);if(typeof n=="string"){const r=G(this,gi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&G(this,gi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Gh(e);if(typeof n=="string"){const r=G(this,gi).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Gh(e);if(typeof n=="string"){const i=(r=G(this,gi).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$n.batch(()=>{G(this,Es).forEach(e=>{this.notify({type:"removed",mutation:e})}),G(this,Es).clear(),G(this,gi).clear()})}getAll(){return Array.from(G(this,Es))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>RA(n,r))}findAll(e={}){return this.getAll().filter(n=>RA(e,n))}notify(e){$n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return $n.batch(()=>Promise.all(e.map(n=>n.continue().catch(mi))))}},Es=new WeakMap,gi=new WeakMap,Pf=new WeakMap,nI);function Gh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ui,rI,Z9=(rI=class extends Ng{constructor(e={}){super();Ye(this,Ui);this.config=e,xe(this,Ui,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??N_(i,n);let a=this.get(s);return a||(a=new $9({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){G(this,Ui).has(e.queryHash)||(G(this,Ui).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=G(this,Ui).get(e.queryHash);n&&(e.destroy(),n===e&&G(this,Ui).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return G(this,Ui).get(e)}getAll(){return[...G(this,Ui).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>CA(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>CA(e,r)):n}notify(e){$n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){$n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ui=new WeakMap,rI),Ft,Ra,Ia,Bc,zc,Na,Hc,qc,iI,J9=(iI=class{constructor(t={}){Ye(this,Ft);Ye(this,Ra);Ye(this,Ia);Ye(this,Bc);Ye(this,zc);Ye(this,Na);Ye(this,Hc);Ye(this,qc);xe(this,Ft,t.queryCache||new Z9),xe(this,Ra,t.mutationCache||new X9),xe(this,Ia,t.defaultOptions||{}),xe(this,Bc,new Map),xe(this,zc,new Map),xe(this,Na,0)}mount(){xh(this,Na)._++,G(this,Na)===1&&(xe(this,Hc,y2.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Ft).onFocus())})),xe(this,qc,_p.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Ft).onOnline())})))}unmount(){var t,e;xh(this,Na)._--,G(this,Na)===0&&((t=G(this,Hc))==null||t.call(this),xe(this,Hc,void 0),(e=G(this,qc))==null||e.call(this),xe(this,qc,void 0))}isFetching(t){return G(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return G(this,Ra).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,Ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=G(this,Ft).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ob(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return G(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=G(this,Ft).get(r.queryHash),s=i==null?void 0:i.state.data,a=D9(e,s);if(a!==void 0)return G(this,Ft).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return $n.batch(()=>G(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,Ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=G(this,Ft);$n.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=G(this,Ft);return $n.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=$n.batch(()=>G(this,Ft).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(mi).catch(mi)}invalidateQueries(t,e={}){return $n.batch(()=>(G(this,Ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=$n.batch(()=>G(this,Ft).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(mi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(mi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=G(this,Ft).build(this,e);return n.isStaleByTime(ob(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mi).catch(mi)}fetchInfiniteQuery(t){return t.behavior=PA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mi).catch(mi)}ensureInfiniteQueryData(t){return t.behavior=PA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _p.isOnline()?G(this,Ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Ft)}getMutationCache(){return G(this,Ra)}getDefaultOptions(){return G(this,Ia)}setDefaultOptions(t){xe(this,Ia,t)}setQueryDefaults(t,e){G(this,Bc).set(hf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...G(this,Bc).values()],n={};return e.forEach(r=>{mf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){G(this,zc).set(hf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...G(this,zc).values()],n={};return e.forEach(r=>{mf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...G(this,Ia).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=N_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===D_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...G(this,Ia).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){G(this,Ft).clear(),G(this,Ra).clear()}},Ft=new WeakMap,Ra=new WeakMap,Ia=new WeakMap,Bc=new WeakMap,zc=new WeakMap,Na=new WeakMap,Hc=new WeakMap,qc=new WeakMap,iI),e8=v.createContext(void 0),t8=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(e8.Provider,{value:t,children:e}));const n8=()=>{};var OA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},E2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(h=64)),r.push(n[u],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new i8;const h=s<<2|o>>4;if(r.push(h),c!==64){const m=o<<4&240|c>>2;if(r.push(m),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s8=function(t){const e=_2(t);return E2.encodeByteArray(e,!0)},Ep=function(t){return s8(t).replace(/\./g,"")},T2=function(t){try{return E2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=()=>a8().__FIREBASE_DEFAULTS__,l8=()=>{if(typeof process>"u"||typeof OA>"u")return;const t=OA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&T2(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return n8()||o8()||l8()||c8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x2=t=>{var e,n;return(n=(e=Pg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},u8=t=>{const e=x2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S2=()=>{var t;return(t=Pg())==null?void 0:t.config},A2=t=>{var e;return(e=Pg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ep(JSON.stringify(n)),Ep(JSON.stringify(a)),""].join(".")}const kd={};function h8(){const t={prod:[],emulator:[]};for(const e of Object.keys(kd))kd[e]?t.emulator.push(e):t.prod.push(e);return t}function m8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jA=!1;function R2(t,e){if(typeof window>"u"||typeof document>"u"||!Ru(window.location.host)||kd[t]===e||kd[t]||jA)return;kd[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=h8().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{jA=!0,a()},h}function u(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=m8(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),E=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),_=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const T=h.element;o(T),u(E,g);const R=c();l(_,b),T.append(_,w,E,R),document.body.appendChild(T)}s?(w.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function g8(){var e;const t=(e=Pg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b8(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w8(){return!g8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N2(){try{return typeof indexedDB=="object"}catch{return!1}}function D2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function _8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=E8,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?T8(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ri(i,o,r)}}function T8(t,e){return t.replace(x8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x8=/\{\$([^}]+)}/g;function S8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(VA(s)&&VA(a)){if(!ao(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function VA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function md(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A8(t,e){const n=new C8(t,e);return n.subscribe.bind(n)}class C8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mv),i.error===void 0&&(i.error=mv),i.complete===void 0&&(i.complete=mv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=1e3,N8=2,D8=4*60*60*1e3,P8=.5;function LA(t,e=I8,n=N8){const r=e*Math.pow(n,t),i=Math.round(P8*r*(Math.random()-.5)*2);return Math.min(D8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new d8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j8(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O8(t){return t===Uo?void 0:t}function j8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const L8={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},k8=ze.INFO,U8={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},F8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=U8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mg{constructor(e){this.name=e,this._logLevel=k8,this._logHandler=F8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const B8=(t,e)=>e.some(n=>t instanceof n);let kA,UA;function z8(){return kA||(kA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H8(){return UA||(UA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P2=new WeakMap,ub=new WeakMap,M2=new WeakMap,pv=new WeakMap,P_=new WeakMap;function q8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Wa(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&P2.set(n,t)}).catch(()=>{}),P_.set(e,t),e}function G8(t){if(ub.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ub.set(t,e)}let db={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ub.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $8(t){db=t(db)}function K8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gv(this),e,...n);return M2.set(r,e.sort?e.sort():[e]),Wa(r)}:H8().includes(t)?function(...e){return t.apply(gv(this),e),Wa(P2.get(this))}:function(...e){return Wa(t.apply(gv(this),e))}}function Y8(t){return typeof t=="function"?K8(t):(t instanceof IDBTransaction&&G8(t),B8(t,z8())?new Proxy(t,db):t)}function Wa(t){if(t instanceof IDBRequest)return q8(t);if(pv.has(t))return pv.get(t);const e=Y8(t);return e!==t&&(pv.set(t,e),P_.set(e,t)),e}const gv=t=>P_.get(t);function O2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Wa(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Wa(a.result),l.oldVersion,l.newVersion,Wa(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const W8=["get","getKey","getAll","getAllKeys","count"],Q8=["put","add","delete","clear"],yv=new Map;function FA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yv.get(e))return yv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Q8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W8.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return yv.set(e,s),s}$8(t=>({...t,get:(e,n,r)=>FA(e,n)||t.get(e,n,r),has:(e,n)=>!!FA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fb="@firebase/app",BA="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Mg("@firebase/app"),J8="@firebase/app-compat",e7="@firebase/analytics-compat",t7="@firebase/analytics",n7="@firebase/app-check-compat",r7="@firebase/app-check",i7="@firebase/auth",s7="@firebase/auth-compat",a7="@firebase/database",o7="@firebase/data-connect",l7="@firebase/database-compat",c7="@firebase/functions",u7="@firebase/functions-compat",d7="@firebase/installations",f7="@firebase/installations-compat",h7="@firebase/messaging",m7="@firebase/messaging-compat",p7="@firebase/performance",g7="@firebase/performance-compat",y7="@firebase/remote-config",v7="@firebase/remote-config-compat",b7="@firebase/storage",w7="@firebase/storage-compat",_7="@firebase/firestore",E7="@firebase/ai",T7="@firebase/firestore-compat",x7="firebase",S7="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="[DEFAULT]",A7={[fb]:"fire-core",[J8]:"fire-core-compat",[t7]:"fire-analytics",[e7]:"fire-analytics-compat",[r7]:"fire-app-check",[n7]:"fire-app-check-compat",[i7]:"fire-auth",[s7]:"fire-auth-compat",[a7]:"fire-rtdb",[o7]:"fire-data-connect",[l7]:"fire-rtdb-compat",[c7]:"fire-fn",[u7]:"fire-fn-compat",[d7]:"fire-iid",[f7]:"fire-iid-compat",[h7]:"fire-fcm",[m7]:"fire-fcm-compat",[p7]:"fire-perf",[g7]:"fire-perf-compat",[y7]:"fire-rc",[v7]:"fire-rc-compat",[b7]:"fire-gcs",[w7]:"fire-gcs-compat",[_7]:"fire-fst",[T7]:"fire-fst-compat",[E7]:"fire-vertex","fire-js":"fire-js",[x7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new Map,C7=new Map,mb=new Map;function zA(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(mb.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;mb.set(e,t);for(const n of Tp.values())zA(n,t);for(const n of C7.values())zA(n,t);return!0}function jl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Ol("app","Firebase",R7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=S7;function j2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=S2()),!n)throw Qa.create("no-options");const s=Tp.get(i);if(s){if(ao(n,s.options)&&ao(r,s.config))return s;throw Qa.create("duplicate-app",{appName:i})}const a=new V8(i);for(const l of mb.values())a.addComponent(l);const o=new I7(n,r,a);return Tp.set(i,o),o}function M_(t=hb){const e=Tp.get(t);if(!e&&t===hb&&S2())return j2();if(!e)throw Qa.create("no-app",{appName:t});return e}function ri(t,e,n){let r=A7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(a.join(" "));return}ns(new Ei(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="firebase-heartbeat-database",D7=1,pf="firebase-heartbeat-store";let vv=null;function V2(){return vv||(vv=O2(N7,D7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),vv}async function P7(t){try{const n=(await V2()).transaction(pf),r=await n.objectStore(pf).get(L2(t));return await n.done,r}catch(e){if(e instanceof Ri)Gs.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gs.warn(n.message)}}}async function HA(t,e){try{const r=(await V2()).transaction(pf,"readwrite");await r.objectStore(pf).put(e,L2(t)),await r.done}catch(n){if(n instanceof Ri)Gs.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gs.warn(r.message)}}}function L2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=1024,O7=30;class j7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>O7){const a=k7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qA(),{heartbeatsToSend:r,unsentEntries:i}=V7(this._heartbeatsCache.heartbeats),s=Ep(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gs.warn(n),""}}}function qA(){return new Date().toISOString().substring(0,10)}function V7(t,e=M7){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),GA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N2()?D2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GA(t){return Ep(JSON.stringify({version:2,heartbeats:t})).length}function k7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t){ns(new Ei("platform-logger",e=>new X8(e),"PRIVATE")),ns(new Ei("heartbeat",e=>new j7(e),"PRIVATE")),ri(fb,BA,t),ri(fb,BA,"esm2020"),ri("fire-js","")}U7("");function k2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F7=k2,U2=new Ol("auth","Firebase",k2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new Mg("@firebase/auth");function B7(t,...e){xp.logLevel<=ze.WARN&&xp.warn(`Auth (${Iu}): ${t}`,...e)}function Tm(t,...e){xp.logLevel<=ze.ERROR&&xp.error(`Auth (${Iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw O_(t,...e)}function Ki(t,...e){return O_(t,...e)}function F2(t,e,n){const r={...F7(),[e]:n};return new Ol("auth","Firebase",r).create(e,{appName:t.name})}function Os(t){return F2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return U2.create(t,...e)}function _e(t,e,...n){if(!t)throw O_(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tm(e),new Error(e)}function $s(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function z7(){return $A()==="http:"||$A()==="https:"}function $A(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z7()||I2()||"connection"in navigator)?navigator.onLine:!0}function q7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=p8()||v8()}get(){return H7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K7=new Wf(3e4,6e4);function bo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wo(t,e,n,r,i={}){return z2(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Yf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return y8()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ru(t.emulatorConfig.host)&&(c.credentials="include"),B2.fetch()(await H2(t,t.config.apiHost,n,o),c)})}async function z2(t,e,n){t._canInitEmulator=!1;const r={...G7,...e};try{const i=new W7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw $h(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw $h(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw F2(t,u,c);Ti(t,u)}}catch(i){if(i instanceof Ri)throw i;Ti(t,"network-request-failed",{message:String(i)})}}async function Qf(t,e,n,r,i={}){const s=await wo(t,e,n,r,i);return"mfaPendingCredential"in s&&Ti(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function H2(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?j_(t.config,i):`${t.config.apiScheme}://${i}`;return $7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Y7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ki(this.auth,"network-request-failed")),K7.get())})}}function $h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ki(t,e,r);return i.customData._tokenResponse=n,i}function KA(t){return t!==void 0&&t.enterprise!==void 0}class Q7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X7(t,e){return wo(t,"GET","/v2/recaptchaConfig",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7(t,e){return wo(t,"POST","/v1/accounts:delete",e)}async function Sp(t,e){return wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J7(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=V_(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ud(bv(i.auth_time)),issuedAtTime:Ud(bv(i.iat)),expirationTime:Ud(bv(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bv(t){return Number(t)*1e3}function V_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=T2(n);return i?JSON.parse(i):(Tm("Failed to decode base64 JWT payload"),null)}catch(i){return Tm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YA(t){const e=V_(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&eH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ud(this.lastLoginAt),this.creationTime=Ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t){var f;const e=t.auth,n=await t.getIdToken(),r=await gf(t,Sp(e,{idToken:n}));_e(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?q2(i.providerUserInfo):[],a=rH(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gb(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function nH(t){const e=Dt(t);await Ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(t,e){const n=await z2(t,{},async()=>{const r=Yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await H2(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Ru(t.emulatorConfig.host)&&(l.credentials="include"),B2.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sH(t,e){return wo(t,"POST","/v2/accounts:revokeToken",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=YA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await iH(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Dc;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dc,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new tH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await gf(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J7(this,e)}reload(){return nH(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await gf(this,Z7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:w,stsTokenManager:g}=n;_e(f&&g,e,"internal-error");const E=Dc.fromJSON(this.name,g);_e(typeof f=="string",e,"internal-error"),ua(r,e.name),ua(i,e.name),_e(typeof h=="boolean",e,"internal-error"),_e(typeof m=="boolean",e,"internal-error"),ua(s,e.name),ua(a,e.name),ua(o,e.name),ua(l,e.name),ua(c,e.name),ua(u,e.name);const b=new bi({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:E,createdAt:c,lastLoginAt:u});return w&&Array.isArray(w)&&(b.providerData=w.map(_=>({..._}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dc;i.updateFromServerResponse(n);const s=new bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ap(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?q2(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Dc;o.updateFromIdToken(r);const l=new bi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new Map;function Rs(t){$s(t instanceof Function,"Expected a class definition");let e=WA.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}G2.type="NONE";const QA=G2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e,n){return`firebase:${t}:${e}:${n}`}class Pc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xm(this.userKey,i.apiKey,s),this.fullPersistenceKey=xm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sp(this.auth,{idToken:e}).catch(()=>{});return n?bi._fromGetAccountInfoResponse(this.auth,n,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pc(Rs(QA),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Rs(QA);const a=xm(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let f;if(typeof u=="string"){const h=await Sp(e,{idToken:u}).catch(()=>{});if(!h)break;f=await bi._fromGetAccountInfoResponse(e,h,u)}else f=bi._fromJSON(e,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Pc(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Pc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X2(e))return"Blackberry";if(Z2(e))return"Webos";if(K2(e))return"Safari";if((e.includes("chrome/")||Y2(e))&&!e.includes("edge/"))return"Chrome";if(Q2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $2(t=Bn()){return/firefox\//i.test(t)}function K2(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y2(t=Bn()){return/crios\//i.test(t)}function W2(t=Bn()){return/iemobile/i.test(t)}function Q2(t=Bn()){return/android/i.test(t)}function X2(t=Bn()){return/blackberry/i.test(t)}function Z2(t=Bn()){return/webos/i.test(t)}function L_(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aH(t=Bn()){var e;return L_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function oH(){return b8()&&document.documentMode===10}function J2(t=Bn()){return L_(t)||Q2(t)||Z2(t)||X2(t)||/windows phone/i.test(t)||W2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e=[]){let n;switch(t){case"Browser":n=XA(Bn());break;case"Worker":n=`${XA(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Iu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(t,e={}){return wo(t,"GET","/v2/passwordPolicy",bo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=6;class dH{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZA(this),this.idTokenSubscription=new ZA(this),this.beforeStateQueue=new lH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Pc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sp(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Jr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ap(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Os(this));const n=e?Dt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cH(this),n=new dH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Pc.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&B7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vl(t){return Dt(t)}class ZA{constructor(e){this.auth=e,this.observer=null,this.addObserver=A8(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hH(t){Og=t}function tM(t){return Og.loadJS(t)}function mH(){return Og.recaptchaEnterpriseScript}function pH(){return Og.gapiScript}function gH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yH{constructor(){this.enterprise=new vH}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vH{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bH="recaptcha-enterprise",nM="NO_RECAPTCHA";class wH{constructor(e){this.type=bH,this.auth=Vl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{X7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Q7(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;KA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(nM)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yH().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&KA(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=mH();l.length!==0&&(l+=o),tM(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function JA(t,e,n,r=!1,i=!1){const s=new wH(t);let a;if(i)a=nM;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function yb(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await JA(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await JA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(t,e){const n=jl(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ao(s,e??{}))return i;Ti(i,"already-initialized")}return n.initialize({options:e})}function EH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TH(t,e,n){const r=Vl(t);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rM(e),{host:a,port:o}=xH(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(ao(c,r.config.emulator)&&ao(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ru(a)?(C2(`${s}//${a}${l}`),R2("Auth",!0)):SH()}function rM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xH(t){const e=rM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:e1(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:e1(a)}}}function e1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function AH(t,e){return wo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CH(t,e){return Qf(t,"POST","/v1/accounts:signInWithPassword",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e){return Qf(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,e))}async function IH(t,e){return Qf(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends k_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yb(e,n,"signInWithPassword",CH);case"emailLink":return RH(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yb(e,r,"signUpPassword",AH);case"emailLink":return IH(e,{idToken:n,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e){return Qf(t,"POST","/v1/accounts:signInWithIdp",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH="http://localhost";class bl extends k_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new bl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Mc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mc(e,n)}buildRequest(){const e={requestUri:NH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PH(t){const e=md(pd(t)).link,n=e?md(pd(e)).deep_link_id:null,r=md(pd(t)).deep_link_id;return(r?md(pd(r)).link:null)||r||n||e||t}class U_{constructor(e){const n=md(pd(e)),r=n.apiKey??null,i=n.oobCode??null,s=DH(n.mode??null);_e(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=PH(e);try{return new U_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.providerId=Nu.PROVIDER_ID}static credential(e,n){return yf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=U_.parseLink(n);return _e(r,"argument-error"),yf._fromEmailAndCode(e,r.code,r.tenantId)}}Nu.PROVIDER_ID="password";Nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends iM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Xf{constructor(){super("facebook.com")}static credential(e){return bl._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.FACEBOOK_SIGN_IN_METHOD="facebook.com";_a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bl._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ea.credential(n,r)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Xf{constructor(){super("github.com")}static credential(e){return bl._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Xf{constructor(){super("twitter.com")}static credential(e,n){return bl._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xa.credential(n,r)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MH(t,e){return Qf(t,"POST","/v1/accounts:signUp",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bi._fromIdTokenResponse(e,r,i),a=t1(r);return new wl({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=t1(r);return new wl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function t1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends Ri{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cp(e,n,r,i)}}function sM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(t,s,e,r):s})}async function OH(t,e,n=!1){const r=await gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jH(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(Os(r));const i="reauthenticate";try{const s=await gf(t,sM(r,i,e,t),n);_e(s.idToken,r,"internal-error");const a=V_(s.idToken);_e(a,r,"internal-error");const{sub:o}=a;return _e(t.uid===o,r,"user-mismatch"),wl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ti(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e,n=!1){if(Jr(t.app))return Promise.reject(Os(t));const r="signIn",i=await sM(t,r,e),s=await wl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function VH(t,e){return aM(Vl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t){const e=Vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LH(t,e,n){if(Jr(t.app))return Promise.reject(Os(t));const r=Vl(t),a=await yb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oM(t),l}),o=await wl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function kH(t,e,n){return Jr(t.app)?Promise.reject(Os(t)):VH(Dt(t),Nu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oM(t),r})}function UH(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function FH(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function BH(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function n1(t){return Dt(t).signOut()}const Rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rp,"1"),this.storage.removeItem(Rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=1e3,HH=10;class cM extends lM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);oH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cM.type="LOCAL";const qH=cM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM extends lM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uM.type="SESSION";const dM=uM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await GH(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=F_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function KH(t){Yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function YH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function QH(){return fM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="firebaseLocalStorageDb",XH=1,Ip="firebaseLocalStorage",mM="fbase_key";class Zf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vg(t,e){return t.transaction([Ip],e?"readwrite":"readonly").objectStore(Ip)}function ZH(){const t=indexedDB.deleteDatabase(hM);return new Zf(t).toPromise()}function vb(){const t=indexedDB.open(hM,XH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ip,{keyPath:mM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ip)?e(r):(r.close(),await ZH(),e(await vb()))})})}async function r1(t,e,n){const r=Vg(t,!0).put({[mM]:e,value:n});return new Zf(r).toPromise()}async function JH(t,e){const n=Vg(t,!1).get(e),r=await new Zf(n).toPromise();return r===void 0?null:r.value}function i1(t,e){const n=Vg(t,!0).delete(e);return new Zf(n).toPromise()}const eq=800,tq=3;class pM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jg._getInstance(QH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await YH(),!this.activeServiceWorker)return;this.sender=new $H(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vb();return await r1(e,Rp,"1"),await i1(e,Rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vg(i,!1).getAll();return new Zf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pM.type="LOCAL";const nq=pM;new Wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t,e){return e?Rs(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends k_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iq(t){return aM(t.auth,new B_(t),t.bypassAuthState)}function sq(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),jH(n,new B_(t),t.bypassAuthState)}async function aq(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),OH(n,new B_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iq;case"linkViaPopup":case"linkViaRedirect":return aq;case"reauthViaPopup":case"reauthViaRedirect":return sq;default:Ti(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=new Wf(2e3,1e4);class pc extends gM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,pc.currentPopupAction&&pc.currentPopupAction.cancel(),pc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=F_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oq.get())};e()}}pc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq="pendingRedirect",Sm=new Map;class cq extends gM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sm.get(this.auth._key());if(!e){try{const r=await uq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sm.set(this.auth._key(),e)}return this.bypassAuthState||Sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uq(t,e){const n=hq(e),r=fq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dq(t,e){Sm.set(t._key(),e)}function fq(t){return Rs(t._redirectPersistence)}function hq(t){return xm(lq,t.config.apiKey,t.name)}async function mq(t,e,n=!1){if(Jr(t.app))return Promise.reject(Os(t));const r=Vl(t),i=rq(r,e),a=await new cq(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=10*60*1e3;class gq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pq&&this.cachedEventUids.clear(),this.cachedEventUids.has(s1(e))}saveEventToCache(e){this.cachedEventUids.add(s1(e)),this.lastProcessedEventTime=Date.now()}}function s1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq(t,e={}){return wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wq=/^https?/;async function _q(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vq(t);for(const n of e)try{if(Eq(n))return}catch{}Ti(t,"unauthorized-domain")}function Eq(t){const e=pb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!wq.test(n))return!1;if(bq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=new Wf(3e4,6e4);function a1(){const t=Yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xq(t){return new Promise((e,n)=>{var i,s,a;function r(){a1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a1(),n(Ki(t,"network-request-failed"))},timeout:Tq.get()})}if((s=(i=Yi().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Yi().gapi)!=null&&a.load)r();else{const o=gH("iframefcb");return Yi()[o]=()=>{gapi.load?r():n(Ki(t,"network-request-failed"))},tM(`${pH()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Am=null,e})}let Am=null;function Sq(t){return Am=Am||xq(t),Am}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=new Wf(5e3,15e3),Cq="__/auth/iframe",Rq="emulator/auth/iframe",Iq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dq(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j_(e,Rq):`https://${t.config.authDomain}/${Cq}`,r={apiKey:e.apiKey,appName:t.name,v:Iu},i=Nq.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yf(r).slice(1)}`}async function Pq(t){const e=await Sq(t),n=Yi().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:Dq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iq,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ki(t,"network-request-failed"),o=Yi().setTimeout(()=>{s(a)},Aq.get());function l(){Yi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oq=500,jq=600,Vq="_blank",Lq="http://localhost";class o1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kq(t,e,n,r=Oq,i=jq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Mq,width:r.toString(),height:i.toString(),top:s,left:a},c=Bn().toLowerCase();n&&(o=Y2(c)?Vq:n),$2(c)&&(e=e||Lq,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,w])=>`${h}${m}=${w},`,"");if(aH(c)&&o!=="_self")return Uq(e||"",o),new o1(null);const f=window.open(e||"",o,u);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new o1(f)}function Uq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="__/auth/handler",Bq="emulator/auth/handler",zq=encodeURIComponent("fac");async function l1(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Iu,eventId:i};if(e instanceof iM){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",S8(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))a[u]=f}if(e instanceof Xf){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${zq}=${encodeURIComponent(l)}`:"";return`${Hq(t)}?${Yf(o).slice(1)}${c}`}function Hq({config:t}){return t.emulator?j_(t,Bq):`https://${t.authDomain}/${Fq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="webStorageSupport";class qq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dM,this._completeRedirectFn=mq,this._overrideRedirectResult=dq}async _openPopup(e,n,r,i){var a;$s((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await l1(e,n,r,pb(),i);return kq(e,s,F_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await l1(e,n,r,pb(),i);return KH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Pq(e),r=new gq(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wv,{type:wv},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[wv];s!==void 0&&n(!!s),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_q(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return J2()||K2()||L_()}}const Gq=qq;var c1="@firebase/auth",u1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yq(t){ns(new Ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eM(t)},c=new fH(r,i,s,l);return EH(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ns(new Ei("auth-internal",e=>{const n=Vl(e.getProvider("auth").getImmediate());return(r=>new $q(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(c1,u1,Kq(t)),ri(c1,u1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=5*60,Qq=A2("authIdTokenMaxAge")||Wq;let d1=null;const Xq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Qq)return;const i=n==null?void 0:n.token;d1!==i&&(d1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zq(t=M_()){const e=jl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_H(t,{popupRedirectResolver:Gq,persistence:[nq,qH,dM]}),r=A2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Xq(s.toString());FH(n,a,()=>a(n.currentUser)),UH(n,o=>a(o))}}const i=x2("auth");return i&&TH(n,`http://${i}`),n}function Jq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}hH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ki("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Jq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yq("Browser");var f1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,vM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function C(){}C.prototype=A.prototype,x.F=A.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(I,D,O){for(var M=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)M[ee-2]=arguments[ee];return A.prototype[D].apply(I,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,A,C){C||(C=0);const I=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)I[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)I[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=x.g[0],C=x.g[1],D=x.g[2];let O=x.g[3],M;M=A+(O^C&(D^O))+I[0]+3614090360&4294967295,A=C+(M<<7&4294967295|M>>>25),M=O+(D^A&(C^D))+I[1]+3905402710&4294967295,O=A+(M<<12&4294967295|M>>>20),M=D+(C^O&(A^C))+I[2]+606105819&4294967295,D=O+(M<<17&4294967295|M>>>15),M=C+(A^D&(O^A))+I[3]+3250441966&4294967295,C=D+(M<<22&4294967295|M>>>10),M=A+(O^C&(D^O))+I[4]+4118548399&4294967295,A=C+(M<<7&4294967295|M>>>25),M=O+(D^A&(C^D))+I[5]+1200080426&4294967295,O=A+(M<<12&4294967295|M>>>20),M=D+(C^O&(A^C))+I[6]+2821735955&4294967295,D=O+(M<<17&4294967295|M>>>15),M=C+(A^D&(O^A))+I[7]+4249261313&4294967295,C=D+(M<<22&4294967295|M>>>10),M=A+(O^C&(D^O))+I[8]+1770035416&4294967295,A=C+(M<<7&4294967295|M>>>25),M=O+(D^A&(C^D))+I[9]+2336552879&4294967295,O=A+(M<<12&4294967295|M>>>20),M=D+(C^O&(A^C))+I[10]+4294925233&4294967295,D=O+(M<<17&4294967295|M>>>15),M=C+(A^D&(O^A))+I[11]+2304563134&4294967295,C=D+(M<<22&4294967295|M>>>10),M=A+(O^C&(D^O))+I[12]+1804603682&4294967295,A=C+(M<<7&4294967295|M>>>25),M=O+(D^A&(C^D))+I[13]+4254626195&4294967295,O=A+(M<<12&4294967295|M>>>20),M=D+(C^O&(A^C))+I[14]+2792965006&4294967295,D=O+(M<<17&4294967295|M>>>15),M=C+(A^D&(O^A))+I[15]+1236535329&4294967295,C=D+(M<<22&4294967295|M>>>10),M=A+(D^O&(C^D))+I[1]+4129170786&4294967295,A=C+(M<<5&4294967295|M>>>27),M=O+(C^D&(A^C))+I[6]+3225465664&4294967295,O=A+(M<<9&4294967295|M>>>23),M=D+(A^C&(O^A))+I[11]+643717713&4294967295,D=O+(M<<14&4294967295|M>>>18),M=C+(O^A&(D^O))+I[0]+3921069994&4294967295,C=D+(M<<20&4294967295|M>>>12),M=A+(D^O&(C^D))+I[5]+3593408605&4294967295,A=C+(M<<5&4294967295|M>>>27),M=O+(C^D&(A^C))+I[10]+38016083&4294967295,O=A+(M<<9&4294967295|M>>>23),M=D+(A^C&(O^A))+I[15]+3634488961&4294967295,D=O+(M<<14&4294967295|M>>>18),M=C+(O^A&(D^O))+I[4]+3889429448&4294967295,C=D+(M<<20&4294967295|M>>>12),M=A+(D^O&(C^D))+I[9]+568446438&4294967295,A=C+(M<<5&4294967295|M>>>27),M=O+(C^D&(A^C))+I[14]+3275163606&4294967295,O=A+(M<<9&4294967295|M>>>23),M=D+(A^C&(O^A))+I[3]+4107603335&4294967295,D=O+(M<<14&4294967295|M>>>18),M=C+(O^A&(D^O))+I[8]+1163531501&4294967295,C=D+(M<<20&4294967295|M>>>12),M=A+(D^O&(C^D))+I[13]+2850285829&4294967295,A=C+(M<<5&4294967295|M>>>27),M=O+(C^D&(A^C))+I[2]+4243563512&4294967295,O=A+(M<<9&4294967295|M>>>23),M=D+(A^C&(O^A))+I[7]+1735328473&4294967295,D=O+(M<<14&4294967295|M>>>18),M=C+(O^A&(D^O))+I[12]+2368359562&4294967295,C=D+(M<<20&4294967295|M>>>12),M=A+(C^D^O)+I[5]+4294588738&4294967295,A=C+(M<<4&4294967295|M>>>28),M=O+(A^C^D)+I[8]+2272392833&4294967295,O=A+(M<<11&4294967295|M>>>21),M=D+(O^A^C)+I[11]+1839030562&4294967295,D=O+(M<<16&4294967295|M>>>16),M=C+(D^O^A)+I[14]+4259657740&4294967295,C=D+(M<<23&4294967295|M>>>9),M=A+(C^D^O)+I[1]+2763975236&4294967295,A=C+(M<<4&4294967295|M>>>28),M=O+(A^C^D)+I[4]+1272893353&4294967295,O=A+(M<<11&4294967295|M>>>21),M=D+(O^A^C)+I[7]+4139469664&4294967295,D=O+(M<<16&4294967295|M>>>16),M=C+(D^O^A)+I[10]+3200236656&4294967295,C=D+(M<<23&4294967295|M>>>9),M=A+(C^D^O)+I[13]+681279174&4294967295,A=C+(M<<4&4294967295|M>>>28),M=O+(A^C^D)+I[0]+3936430074&4294967295,O=A+(M<<11&4294967295|M>>>21),M=D+(O^A^C)+I[3]+3572445317&4294967295,D=O+(M<<16&4294967295|M>>>16),M=C+(D^O^A)+I[6]+76029189&4294967295,C=D+(M<<23&4294967295|M>>>9),M=A+(C^D^O)+I[9]+3654602809&4294967295,A=C+(M<<4&4294967295|M>>>28),M=O+(A^C^D)+I[12]+3873151461&4294967295,O=A+(M<<11&4294967295|M>>>21),M=D+(O^A^C)+I[15]+530742520&4294967295,D=O+(M<<16&4294967295|M>>>16),M=C+(D^O^A)+I[2]+3299628645&4294967295,C=D+(M<<23&4294967295|M>>>9),M=A+(D^(C|~O))+I[0]+4096336452&4294967295,A=C+(M<<6&4294967295|M>>>26),M=O+(C^(A|~D))+I[7]+1126891415&4294967295,O=A+(M<<10&4294967295|M>>>22),M=D+(A^(O|~C))+I[14]+2878612391&4294967295,D=O+(M<<15&4294967295|M>>>17),M=C+(O^(D|~A))+I[5]+4237533241&4294967295,C=D+(M<<21&4294967295|M>>>11),M=A+(D^(C|~O))+I[12]+1700485571&4294967295,A=C+(M<<6&4294967295|M>>>26),M=O+(C^(A|~D))+I[3]+2399980690&4294967295,O=A+(M<<10&4294967295|M>>>22),M=D+(A^(O|~C))+I[10]+4293915773&4294967295,D=O+(M<<15&4294967295|M>>>17),M=C+(O^(D|~A))+I[1]+2240044497&4294967295,C=D+(M<<21&4294967295|M>>>11),M=A+(D^(C|~O))+I[8]+1873313359&4294967295,A=C+(M<<6&4294967295|M>>>26),M=O+(C^(A|~D))+I[15]+4264355552&4294967295,O=A+(M<<10&4294967295|M>>>22),M=D+(A^(O|~C))+I[6]+2734768916&4294967295,D=O+(M<<15&4294967295|M>>>17),M=C+(O^(D|~A))+I[13]+1309151649&4294967295,C=D+(M<<21&4294967295|M>>>11),M=A+(D^(C|~O))+I[4]+4149444226&4294967295,A=C+(M<<6&4294967295|M>>>26),M=O+(C^(A|~D))+I[11]+3174756917&4294967295,O=A+(M<<10&4294967295|M>>>22),M=D+(A^(O|~C))+I[2]+718787259&4294967295,D=O+(M<<15&4294967295|M>>>17),M=C+(O^(D|~A))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const C=A-this.blockSize,I=this.C;let D=this.h,O=0;for(;O<A;){if(D==0)for(;O<=C;)i(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<A;)if(I[D++]=x.charCodeAt(O++),D==this.blockSize){i(this,I),D=0;break}}else for(;O<A;)if(I[D++]=x[O++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)x[A++]=this.g[C]>>>I&255;return x};function s(x,A){var C=o;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=A(x)}function a(x,A){this.h=A;const C=[];let I=!0;for(let D=x.length-1;D>=0;D--){const O=x[D]|0;I&&O==A||(C[D]=O,I=!1)}this.g=C}var o={};function l(x){return-128<=x&&x<128?s(x,function(A){return new a([A|0],A<0?-1:0)}):new a([x|0],x<0?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(x<0)return E(c(-x));const A=[];let C=1;for(let I=0;x>=C;I++)A[I]=x/C|0,C*=4294967296;return new a(A,0)}function u(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return E(u(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(A,8));let I=f;for(let O=0;O<x.length;O+=8){var D=Math.min(8,x.length-O);const M=parseInt(x.substring(O,O+D),A);D<8?(D=c(Math.pow(A,D)),I=I.j(D).add(c(M))):(I=I.j(C),I=I.add(c(M)))}return I}var f=l(0),h=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-E(this).m();let x=0,A=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);x+=(I>=0?I:4294967296+I)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(w(this))return"0";if(g(this))return"-"+E(this).toString(x);const A=c(Math.pow(x,6));var C=this;let I="";for(;;){const D=R(C,A).g;C=b(C,D.j(A));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,w(C))return O+I;for(;O.length<6;)O="0"+O;I=O+I}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function w(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function g(x){return x.h==-1}t.l=function(x){return x=b(this,x),g(x)?-1:w(x)?0:1};function E(x){const A=x.g.length,C=[];for(let I=0;I<A;I++)C[I]=~x.g[I];return new a(C,~x.h).add(h)}t.abs=function(){return g(this)?E(this):this},t.add=function(x){const A=Math.max(this.g.length,x.g.length),C=[];let I=0;for(let D=0;D<=A;D++){let O=I+(this.i(D)&65535)+(x.i(D)&65535),M=(O>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);I=M>>>16,O&=65535,M&=65535,C[D]=M<<16|O}return new a(C,C[C.length-1]&-2147483648?-1:0)};function b(x,A){return x.add(E(A))}t.j=function(x){if(w(this)||w(x))return f;if(g(this))return g(x)?E(this).j(E(x)):E(E(this).j(x));if(g(x))return E(this.j(E(x)));if(this.l(m)<0&&x.l(m)<0)return c(this.m()*x.m());const A=this.g.length+x.g.length,C=[];for(var I=0;I<2*A;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<x.g.length;D++){const O=this.i(I)>>>16,M=this.i(I)&65535,ee=x.i(D)>>>16,ue=x.i(D)&65535;C[2*I+2*D]+=M*ue,_(C,2*I+2*D),C[2*I+2*D+1]+=O*ue,_(C,2*I+2*D+1),C[2*I+2*D+1]+=M*ee,_(C,2*I+2*D+1),C[2*I+2*D+2]+=O*ee,_(C,2*I+2*D+2)}for(x=0;x<A;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=A;x<2*A;x++)C[x]=0;return new a(C,0)};function _(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function T(x,A){this.g=x,this.h=A}function R(x,A){if(w(A))throw Error("division by zero");if(w(x))return new T(f,f);if(g(x))return A=R(E(x),A),new T(E(A.g),E(A.h));if(g(A))return A=R(x,E(A)),new T(E(A.g),A.h);if(x.g.length>30){if(g(x)||g(A))throw Error("slowDivide_ only works with positive integers.");for(var C=h,I=A;I.l(x)<=0;)C=P(C),I=P(I);var D=k(C,1),O=k(I,1);for(I=k(I,2),C=k(C,2);!w(I);){var M=O.add(I);M.l(x)<=0&&(D=D.add(C),O=M),I=k(I,1),C=k(C,1)}return A=b(x,D.j(A)),new T(D,A)}for(D=f;x.l(A)>=0;){for(C=Math.max(1,Math.floor(x.m()/A.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),O=c(C),M=O.j(A);g(M)||M.l(x)>0;)C-=I,O=c(C),M=O.j(A);w(O)&&(O=h),D=D.add(O),x=b(x,M)}return new T(D,x)}t.B=function(x){return R(this,x).h},t.and=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)&x.i(I);return new a(C,this.h&x.h)},t.or=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)|x.i(I);return new a(C,this.h|x.h)},t.xor=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)^x.i(I);return new a(C,this.h^x.h)};function P(x){const A=x.g.length+1,C=[];for(let I=0;I<A;I++)C[I]=x.i(I)<<1|x.i(I-1)>>>31;return new a(C,x.h)}function k(x,A){const C=A>>5;A%=32;const I=x.g.length-C,D=[];for(let O=0;O<I;O++)D[O]=A>0?x.i(O+C)>>>A|x.i(O+C+1)<<32-A:x.i(O+C);return new a(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vM=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Xa=a}).apply(typeof f1<"u"?f1:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bM,gd,wM,Cm,bb,_M,EM,TM;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var y=0;y<d.length;++y){var S=d[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var S=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var F=d[N];if(!(F in S))break e;S=S[F]}d=d[d.length-1],N=S[d],y=y(N),y!=N&&y!=null&&e(S,d,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(y){var S=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&S.push([N,y[N]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function l(d,y,S){return d.call.apply(d.bind,arguments)}function c(d,y,S){return c=l,c.apply(null,arguments)}function u(d,y){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function f(d,y){function S(){}S.prototype=y.prototype,d.Z=y.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(N,F,z){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return y.prototype[F].apply(N,ie)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function m(d){const y=d.length;if(y>0){const S=Array(y);for(let N=0;N<y;N++)S[N]=d[N];return S}return[]}function w(d,y){for(let N=1;N<arguments.length;N++){const F=arguments[N];var S=typeof F;if(S=S!="object"?S:F?Array.isArray(F)?"array":S:"null",S=="array"||S=="object"&&typeof F.length=="number"){S=d.length||0;const z=F.length||0;d.length=S+z;for(let ie=0;ie<z;ie++)d[S+ie]=F[ie]}else d.push(F)}}class g{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function E(d){a.setTimeout(()=>{throw d},0)}function b(){var d=x;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class _{constructor(){this.h=this.g=null}add(y,S){const N=T.get();N.set(y,S),this.h?this.h.next=N:this.g=N,this.h=N}}var T=new g(()=>new R,d=>d.reset());class R{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let P,k=!1,x=new _,A=()=>{const d=Promise.resolve(void 0);P=()=>{d.then(C)}};function C(){for(var d;d=b();){try{d.h.call(d.g)}catch(S){E(S)}var y=T;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}k=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};a.addEventListener("test",S,y),a.removeEventListener("test",S,y)}catch{}return d}();function M(d){return/^[\s\xa0]*$/.test(d)}function ee(d,y){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}f(ee,D),ee.prototype.init=function(d,y){const S=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(S=="mouseover"?y=d.fromElement:S=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(d,y,S,N,F){this.listener=d,this.proxy=null,this.src=y,this.type=S,this.capture=!!N,this.ha=F,this.key=++H,this.da=this.fa=!1}function q(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function V(d,y,S){for(const N in d)y.call(S,d[N],N,d)}function L(d,y){for(const S in d)y.call(void 0,d[S],S,d)}function J(d){const y={};for(const S in d)y[S]=d[S];return y}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(d,y){let S,N;for(let F=1;F<arguments.length;F++){N=arguments[F];for(S in N)d[S]=N[S];for(let z=0;z<Q.length;z++)S=Q[z],Object.prototype.hasOwnProperty.call(N,S)&&(d[S]=N[S])}}function le(d){this.src=d,this.g={},this.h=0}le.prototype.add=function(d,y,S,N,F){const z=d.toString();d=this.g[z],d||(d=this.g[z]=[],this.h++);const ie=tt(d,y,N,F);return ie>-1?(y=d[ie],S||(y.fa=!1)):(y=new W(y,this.src,z,!!N,F),y.fa=S,d.push(y)),y};function be(d,y){const S=y.type;if(S in d.g){var N=d.g[S],F=Array.prototype.indexOf.call(N,y,void 0),z;(z=F>=0)&&Array.prototype.splice.call(N,F,1),z&&(q(y),d.g[S].length==0&&(delete d.g[S],d.h--))}}function tt(d,y,S,N){for(let F=0;F<d.length;++F){const z=d[F];if(!z.da&&z.listener==y&&z.capture==!!S&&z.ha==N)return F}return-1}var te="closure_lm_"+(Math.random()*1e6|0),Oe={};function ht(d,y,S,N,F){if(Array.isArray(y)){for(let z=0;z<y.length;z++)ht(d,y[z],S,N,F);return null}return S=Ni(S),d&&d[ue]?d.J(y,S,o(N)?!!N.capture:!1,F):Ke(d,y,S,!1,N,F)}function Ke(d,y,S,N,F,z){if(!y)throw Error("Invalid event type");const ie=o(F)?!!F.capture:!!F;let Pe=Qt(d);if(Pe||(d[te]=Pe=new le(d)),S=Pe.add(y,S,N,ie,z),S.proxy)return S;if(N=je(),S.proxy=N,N.src=d,N.listener=S,d.addEventListener)O||(F=ie),F===void 0&&(F=!1),d.addEventListener(y.toString(),N,F);else if(d.attachEvent)d.attachEvent(fn(y.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function je(){function d(S){return y.call(d.src,d.listener,S)}const y=ai;return d}function ge(d,y,S,N,F){if(Array.isArray(y))for(var z=0;z<y.length;z++)ge(d,y[z],S,N,F);else N=o(N)?!!N.capture:!!N,S=Ni(S),d&&d[ue]?(d=d.i,z=String(y).toString(),z in d.g&&(y=d.g[z],S=tt(y,S,N,F),S>-1&&(q(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete d.g[z],d.h--)))):d&&(d=Qt(d))&&(y=d.g[y.toString()],d=-1,y&&(d=tt(y,S,N,F)),(S=d>-1?y[d]:null)&&mt(S))}function mt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ue])be(y.i,d);else{var S=d.type,N=d.proxy;y.removeEventListener?y.removeEventListener(S,N,d.capture):y.detachEvent?y.detachEvent(fn(S),N):y.addListener&&y.removeListener&&y.removeListener(N),(S=Qt(y))?(be(S,d),S.h==0&&(S.src=null,y[te]=null)):q(d)}}}function fn(d){return d in Oe?Oe[d]:Oe[d]="on"+d}function ai(d,y){if(d.da)d=!0;else{y=new ee(y,this);const S=d.listener,N=d.ha||d.src;d.fa&&mt(d),d=S.call(N,y)}return d}function Qt(d){return d=d[te],d instanceof le?d:null}var mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ni(d){return typeof d=="function"?d:(d[mr]||(d[mr]=function(y){return d.handleEvent(y)}),d[mr])}function yt(){I.call(this),this.i=new le(this),this.M=this,this.G=null}f(yt,I),yt.prototype[ue]=!0,yt.prototype.removeEventListener=function(d,y,S,N){ge(this,d,y,S,N)};function Xt(d,y){var S,N=d.G;if(N)for(S=[];N;N=N.G)S.push(N);if(d=d.M,N=y.type||y,typeof y=="string")y=new D(y,d);else if(y instanceof D)y.target=y.target||d;else{var F=y;y=new D(N,d),Z(y,F)}F=!0;let z,ie;if(S)for(ie=S.length-1;ie>=0;ie--)z=y.g=S[ie],F=Fr(z,N,!0,y)&&F;if(z=y.g=d,F=Fr(z,N,!0,y)&&F,F=Fr(z,N,!1,y)&&F,S)for(ie=0;ie<S.length;ie++)z=y.g=S[ie],F=Fr(z,N,!1,y)&&F}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const S=d.g[y];for(let N=0;N<S.length;N++)q(S[N]);delete d.g[y],d.h--}}this.G=null},yt.prototype.J=function(d,y,S,N){return this.i.add(String(d),y,!1,S,N)},yt.prototype.K=function(d,y,S,N){return this.i.add(String(d),y,!0,S,N)};function Fr(d,y,S,N){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let z=0;z<y.length;++z){const ie=y[z];if(ie&&!ie.da&&ie.capture==S){const Pe=ie.listener,ln=ie.ha||ie.src;ie.fa&&be(d.i,ie),F=Pe.call(ln,N)!==!1&&F}}return F&&!N.defaultPrevented}function Fl(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=c(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:a.setTimeout(d,y||0)}function Br(d){d.g=Fl(()=>{d.g=null,d.i&&(d.i=!1,Br(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class oi extends I{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(d){I.call(this),this.h=d,this.g={}}f(pr,I);var hn=[];function gr(d){V(d.g,function(y,S){this.g.hasOwnProperty(S)&&mt(y)},d),d.g={}}pr.prototype.N=function(){pr.Z.N.call(this),gr(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=a.JSON.stringify,yr=a.JSON.parse,cs=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function us(){}function Co(){}var mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vr(){D.call(this,"d")}f(vr,D);function ds(){D.call(this,"c")}f(ds,D);var En={},Bl=null;function fs(){return Bl=Bl||new yt}En.Ia="serverreachability";function Di(d){D.call(this,En.Ia,d)}f(Di,D);function li(d){const y=fs();Xt(y,new Di(y))}En.STAT_EVENT="statevent";function Js(d,y){D.call(this,En.STAT_EVENT,d),this.stat=y}f(Js,D);function Pt(d){const y=fs();Xt(y,new Js(y,d))}En.Ja="timingevent";function br(d,y){D.call(this,En.Ja,d),this.size=y}f(br,D);function Pi(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function ye(){this.g=!0}ye.prototype.ua=function(){this.g=!1};function Je(d,y,S,N,F,z){d.info(function(){if(d.g)if(z){var ie="",Pe=z.split("&");for(let pt=0;pt<Pe.length;pt++){var ln=Pe[pt].split("=");if(ln.length>1){const pn=ln[0];ln=ln[1];const ji=pn.split("_");ie=ji.length>=2&&ji[1]=="type"?ie+(pn+"="+ln+"&"):ie+(pn+"=redacted&")}}}else ie=null;else ie=z;return"XMLHTTP REQ ("+N+") [attempt "+F+"]: "+y+`
`+S+`
`+ie})}function nt(d,y,S,N,F,z,ie){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+F+"]: "+y+`
`+S+`
`+z+" "+ie})}function Mt(d,y,S,N){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+zr(d,S)+(N?" "+N:"")})}function zn(d,y){d.info(function(){return"TIMEOUT: "+y})}ye.prototype.info=function(){};function zr(d,y){if(!d.g)return y;if(!y)return null;try{const z=JSON.parse(y);if(z){for(d=0;d<z.length;d++)if(Array.isArray(z[d])){var S=z[d];if(!(S.length<2)){var N=S[1];if(Array.isArray(N)&&!(N.length<1)){var F=N[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ie=1;ie<N.length;ie++)N[ie]=""}}}}return Jn(z)}catch{return y}}var j={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},U={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},B;function X(){}f(X,us),X.prototype.g=function(){return new XMLHttpRequest},B=new X;function re(d){return encodeURIComponent(String(d))}function he(d){var y=1;d=d.split(":");const S=[];for(;y>0&&d.length;)S.push(d.shift()),y--;return d.length&&S.push(d.join(":")),S}function me(d,y,S,N){this.j=d,this.i=y,this.l=S,this.S=N||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var de={},ae={};function fe(d,y,S){d.M=1,d.A=gh(wr(y)),d.u=S,d.R=!0,Ce(d,null)}function Ce(d,y){d.F=Date.now(),Fe(d),d.B=wr(d.A);var S=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),HT(S.i,"t",N),d.C=0,S=d.j.L,d.h=new ce,d.g=ox(d.j,S?y:null,!d.u),d.P>0&&(d.O=new oi(c(d.Y,d,d.g),d.P)),y=d.V,S=d.g,N=d.ba;var F="readystatechange";Array.isArray(F)||(F&&(hn[0]=F.toString()),F=hn);for(let z=0;z<F.length;z++){const ie=ht(S,F[z],N||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=d.J?J(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),li(),Je(d.i,d.v,d.B,d.l,d.S,d.u)}me.prototype.ba=function(d){d=d.target;const y=this.O;y&&ia(d)==3?y.j():this.Y(d)},me.prototype.Y=function(d){try{if(d==this.g)e:{const Pe=ia(this.g),ln=this.g.ya(),pt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||QT(this.g)))){this.K||Pe!=4||ln==7||(ln==8||pt<=0?li(3):li(2)),Mi(this);var y=this.g.ca();this.X=y;var S=Ue(this);if(this.o=y==200,nt(this.i,this.v,this.B,this.l,this.S,Pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,F=this.g;if((N=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(N)){var z=N;break t}}z=null}if(d=z)Mt(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,er(this,d);else{this.o=!1,this.m=3,Pt(12),Tn(this),ci(this);break e}}if(this.R){d=!0;let pn;for(;!this.K&&this.C<S.length;)if(pn=ut(this,S),pn==ae){Pe==4&&(this.m=4,Pt(14),d=!1),Mt(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==de){this.m=4,Pt(15),Mt(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Mt(this.i,this.l,pn,null),er(this,pn);if(Zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||S.length!=0||this.h.h||(this.m=1,Pt(16),d=!1),this.o=this.o&&d,!d)Mt(this.i,this.l,S,"[Invalid Chunked Response]"),Tn(this),ci(this);else if(S.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Ey(ie),ie.P=!0,Pt(11))}}else Mt(this.i,this.l,S,null),er(this,S);Pe==4&&Tn(this),this.o&&!this.K&&(Pe==4?rx(this.j,this):(this.o=!1,Fe(this)))}else M4(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Tn(this),ci(this)}}}catch{}finally{}};function Ue(d){if(!Zt(d))return d.g.la();const y=QT(d.g);if(y==="")return"";let S="";const N=y.length,F=ia(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Tn(d),ci(d),"";d.h.i=new a.TextDecoder}for(let z=0;z<N;z++)d.h.h=!0,S+=d.h.i.decode(y[z],{stream:!(F&&z==N-1)});return y.length=0,d.h.g+=S,d.C=0,d.h.g}function Zt(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function ut(d,y){var S=d.C,N=y.indexOf(`
`,S);return N==-1?ae:(S=Number(y.substring(S,N)),isNaN(S)?de:(N+=1,N+S>y.length?ae:(y=y.slice(N,N+S),d.C=N+S,y)))}me.prototype.cancel=function(){this.K=!0,Tn(this)};function Fe(d){d.T=Date.now()+d.H,wt(d,d.H)}function wt(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Pi(c(d.aa,d),y)}function Mi(d){d.D&&(a.clearTimeout(d.D),d.D=null)}me.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(zn(this.i,this.B),this.M!=2&&(li(),Pt(17)),Tn(this),this.m=2,ci(this)):wt(this,this.T-d)};function ci(d){d.j.I==0||d.K||rx(d.j,d)}function Tn(d){Mi(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,gr(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function er(d,y){try{var S=d.j;if(S.I!=0&&(S.g==d||ta(S.h,d))){if(!d.L&&ta(S.h,d)&&S.I==3){try{var N=S.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var F=N;if(F[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)_h(S),bh(S);else break e;_y(S),Pt(18)}}else S.xa=F[1],0<S.xa-S.K&&F[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Pi(c(S.Va,S),6e3));Ro(S.h)<=1&&S.ta&&(S.ta=void 0)}else Do(S,11)}else if((d.L||S.g==d)&&_h(S),!M(y))for(F=S.Ba.g.parse(y),y=0;y<F.length;y++){let pt=F[y];const pn=pt[0];if(!(pn<=S.K))if(S.K=pn,pt=pt[1],S.I==2)if(pt[0]=="c"){S.M=pt[1],S.ba=pt[2];const ji=pt[3];ji!=null&&(S.ka=ji,S.j.info("VER="+S.ka));const Po=pt[4];Po!=null&&(S.za=Po,S.j.info("SVER="+S.za));const sa=pt[5];sa!=null&&typeof sa=="number"&&sa>0&&(N=1.5*sa,S.O=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const aa=d.g;if(aa){const Th=aa.g?aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Th){var z=N.h;z.g||Th.indexOf("spdy")==-1&&Th.indexOf("quic")==-1&&Th.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Be(z,z.h),z.h=null))}if(N.G){const Ty=aa.g?aa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ty&&(N.wa=Ty,Et(N.J,N.G,Ty))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),N=S;var ie=d;if(N.na=ax(N,N.L?N.ba:null,N.W),ie.L){_t(N.h,ie);var Pe=ie,ln=N.O;ln&&(Pe.H=ln),Pe.D&&(Mi(Pe),Fe(Pe)),N.g=ie}else tx(N);S.i.length>0&&wh(S)}else pt[0]!="stop"&&pt[0]!="close"||Do(S,7);else S.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Do(S,7):wy(S):pt[0]!="noop"&&S.l&&S.l.qa(pt),S.A=0)}}li(4)}catch{}}var Uu=class{constructor(d,y){this.g=d,this.map=y}};function ea(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oi(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ro(d){return d.h?1:d.g?d.g.size:0}function ta(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Be(d,y){d.g?d.g.add(y):d.h=y}function _t(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}ea.prototype.cancel=function(){if(this.i=hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function hs(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const S of d.g.values())y=y.concat(S.G);return y}return m(d.i)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lt(d,y){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const N=d[S].indexOf("=");let F,z=null;N>=0?(F=d[S].substring(0,N),z=d[S].substring(N+1)):F=d[S],y(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Hn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof Hn?(this.l=d.l,Io(this,d.j),this.o=d.o,this.g=d.g,Fu(this,d.u),this.h=d.h,yy(this,qT(d.i)),this.m=d.m):d&&(y=String(d).match(na))?(this.l=!1,Io(this,y[1]||"",!0),this.o=Bu(y[2]||""),this.g=Bu(y[3]||"",!0),Fu(this,y[4]),this.h=Bu(y[5]||"",!0),yy(this,y[6]||"",!0),this.m=Bu(y[7]||"")):(this.l=!1,this.i=new Hu(null,this.l))}Hn.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(zu(y,UT,!0),":");var S=this.g;return(S||y=="file")&&(d.push("//"),(y=this.o)&&d.push(zu(y,UT,!0),"@"),d.push(re(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(zu(S,S.charAt(0)=="/"?x4:T4,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",zu(S,A4)),d.join("")},Hn.prototype.resolve=function(d){const y=wr(this);let S=!!d.j;S?Io(y,d.j):S=!!d.o,S?y.o=d.o:S=!!d.g,S?y.g=d.g:S=d.u!=null;var N=d.h;if(S)Fu(y,d.u);else if(S=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var F=y.h.lastIndexOf("/");F!=-1&&(N=y.h.slice(0,F+1)+N)}if(F=N,F==".."||F==".")N="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){N=F.lastIndexOf("/",0)==0,F=F.split("/");const z=[];for(let ie=0;ie<F.length;){const Pe=F[ie++];Pe=="."?N&&ie==F.length&&z.push(""):Pe==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),N&&ie==F.length&&z.push("")):(z.push(Pe),N=!0)}N=z.join("/")}else N=F}return S?y.h=N:S=d.i.toString()!=="",S?yy(y,qT(d.i)):S=!!d.m,S&&(y.m=d.m),y};function wr(d){return new Hn(d)}function Io(d,y,S){d.j=S?Bu(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Fu(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function yy(d,y,S){y instanceof Hu?(d.i=y,C4(d.i,d.l)):(S||(y=zu(y,S4)),d.i=new Hu(y,d.l))}function Et(d,y,S){d.i.set(y,S)}function gh(d){return Et(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Bu(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function zu(d,y,S){return typeof d=="string"?(d=encodeURI(d).replace(y,E4),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function E4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var UT=/[#\/\?@]/g,T4=/[#\?:]/g,x4=/[#\?]/g,S4=/[#\?@]/g,A4=/#/g;function Hu(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function No(d){d.g||(d.g=new Map,d.h=0,d.i&&Lt(d.i,function(y,S){d.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}t=Hu.prototype,t.add=function(d,y){No(this),this.i=null,d=zl(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(y),this.h+=1,this};function FT(d,y){No(d),y=zl(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function BT(d,y){return No(d),y=zl(d,y),d.g.has(y)}t.forEach=function(d,y){No(this),this.g.forEach(function(S,N){S.forEach(function(F){d.call(y,F,N,this)},this)},this)};function zT(d,y){No(d);let S=[];if(typeof y=="string")BT(d,y)&&(S=S.concat(d.g.get(zl(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)S=S.concat(d[y]);return S}t.set=function(d,y){return No(this),this.i=null,d=zl(this,d),BT(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=zT(this,d),d.length>0?String(d[0]):y):y};function HT(d,y,S){FT(d,y),S.length>0&&(d.i=null,d.g.set(zl(d,y),m(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var S=y[N];const F=re(S);S=zT(this,S);for(let z=0;z<S.length;z++){let ie=F;S[z]!==""&&(ie+="="+re(S[z])),d.push(ie)}}return this.i=d.join("&")};function qT(d){const y=new Hu;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function zl(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function C4(d,y){y&&!d.j&&(No(d),d.i=null,d.g.forEach(function(S,N){const F=N.toLowerCase();N!=F&&(FT(this,N),HT(this,F,S))},d)),d.j=y}function R4(d,y){const S=new ye;if(a.Image){const N=new Image;N.onload=u(ra,S,"TestLoadImage: loaded",!0,y,N),N.onerror=u(ra,S,"TestLoadImage: error",!1,y,N),N.onabort=u(ra,S,"TestLoadImage: abort",!1,y,N),N.ontimeout=u(ra,S,"TestLoadImage: timeout",!1,y,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else y(!1)}function I4(d,y){const S=new ye,N=new AbortController,F=setTimeout(()=>{N.abort(),ra(S,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:N.signal}).then(z=>{clearTimeout(F),z.ok?ra(S,"TestPingServer: ok",!0,y):ra(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),ra(S,"TestPingServer: error",!1,y)})}function ra(d,y,S,N,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),N(S)}catch{}}function N4(){this.g=new cs}function vy(d){this.i=d.Sb||null,this.h=d.ab||!1}f(vy,us),vy.prototype.g=function(){return new yh(this.i,this.h)};function yh(d,y){yt.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(yh,yt),t=yh.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,Gu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||a).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qu(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gu(this)),this.g&&(this.readyState=3,Gu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;GT(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function GT(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?qu(this):Gu(this),this.readyState==3&&GT(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,qu(this))},t.Na=function(d){this.g&&(this.response=d,qu(this))},t.ga=function(){this.g&&qu(this)};function qu(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Gu(d)}t.setRequestHeader=function(d,y){this.A.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=y.next();return d.join(`\r
`)};function Gu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(yh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $T(d){let y="";return V(d,function(S,N){y+=N,y+=":",y+=S,y+=`\r
`}),y}function by(d,y,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=$T(S),typeof d=="string"?S!=null&&re(S):Et(d,y,S))}function kt(d){yt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(kt,yt);var D4=/^https?$/i,P4=["POST","PUT"];t=kt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,y,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():B.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(z){KT(this,z);return}if(d=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var F in N)S.set(F,N[F]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const z of N.keys())S.set(z,N.get(z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(z=>z.toLowerCase()=="content-type"),F=a.FormData&&d instanceof a.FormData,!(Array.prototype.indexOf.call(P4,y,void 0)>=0)||N||F||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ie]of S)this.g.setRequestHeader(z,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(z){KT(this,z)}};function KT(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,YT(d),vh(d)}function YT(d){d.A||(d.A=!0,Xt(d,"complete"),Xt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Xt(this,"complete"),Xt(this,"abort"),vh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vh(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?WT(this):this.Xa())},t.Xa=function(){WT(this)};function WT(d){if(d.h&&typeof s<"u"){if(d.v&&ia(d)==4)setTimeout(d.Ca.bind(d),0);else if(Xt(d,"readystatechange"),ia(d)==4){d.h=!1;try{const z=d.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var N;if(N=z===0){let ie=String(d.D).match(na)[1]||null;!ie&&a.self&&a.self.location&&(ie=a.self.location.protocol.slice(0,-1)),N=!D4.test(ie?ie.toLowerCase():"")}S=N}if(S)Xt(d,"complete"),Xt(d,"success");else{d.o=6;try{var F=ia(d)>2?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.ca()+"]",YT(d)}}finally{vh(d)}}}}function vh(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,y||Xt(d,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ia(d){return d.g?d.g.readyState:0}t.ca=function(){try{return ia(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),yr(y)}};function QT(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function M4(d){const y={};d=(d.g&&ia(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(M(d[N]))continue;var S=he(d[N]);const F=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const z=y[F]||[];y[F]=z,z.push(S)}L(y,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $u(d,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||y}function XT(d){this.za=0,this.i=[],this.j=new ye,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$u("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$u("baseRetryDelayMs",5e3,d),this.Za=$u("retryDelaySeedMs",1e4,d),this.Ta=$u("forwardChannelMaxRetries",2,d),this.va=$u("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ea(d&&d.concurrentRequestLimit),this.Ba=new N4,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=XT.prototype,t.ka=8,t.I=1,t.connect=function(d,y,S,N){Pt(0),this.W=d,this.H=y||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.J=ax(this,null,this.W),wh(this)};function wy(d){if(ZT(d),d.I==3){var y=d.V++,S=wr(d.J);if(Et(S,"SID",d.M),Et(S,"RID",y),Et(S,"TYPE","terminate"),Ku(d,S),y=new me(d,d.j,y),y.M=2,y.A=gh(wr(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&a.Image&&(new Image().src=y.A,S=!0),S||(y.g=ox(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Fe(y)}sx(d)}function bh(d){d.g&&(Ey(d),d.g.cancel(),d.g=null)}function ZT(d){bh(d),d.v&&(a.clearTimeout(d.v),d.v=null),_h(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&a.clearTimeout(d.m),d.m=null)}function wh(d){if(!Oi(d.h)&&!d.m){d.m=!0;var y=d.Ea;P||A(),k||(P(),k=!0),x.add(y,d),d.D=0}}function O4(d,y){return Ro(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Pi(c(d.Ea,d,y),ix(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const F=new me(this,this.j,d);let z=this.o;if(this.U&&(z?(z=J(z),Z(z,this.U)):z=this.U),this.u!==null||this.R||(F.J=z,z=null),this.S)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=ex(this,F,y),S=wr(this.J),Et(S,"RID",d),Et(S,"CVER",22),this.G&&Et(S,"X-HTTP-Session-Id",this.G),Ku(this,S),z&&(this.R?y="headers="+re($T(z))+"&"+y:this.u&&by(S,this.u,z)),Be(this.h,F),this.Ra&&Et(S,"TYPE","init"),this.S?(Et(S,"$req",y),Et(S,"SID","null"),F.U=!0,fe(F,S,null)):fe(F,S,y),this.I=2}}else this.I==3&&(d?JT(this,d):this.i.length==0||Oi(this.h)||JT(this))};function JT(d,y){var S;y?S=y.l:S=d.V++;const N=wr(d.J);Et(N,"SID",d.M),Et(N,"RID",S),Et(N,"AID",d.K),Ku(d,N),d.u&&d.o&&by(N,d.u,d.o),S=new me(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),y&&(d.i=y.G.concat(d.i)),y=ex(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Be(d.h,S),fe(S,N,y)}function Ku(d,y){d.H&&V(d.H,function(S,N){Et(y,N,S)}),d.l&&V({},function(S,N){Et(y,N,S)})}function ex(d,y,S){S=Math.min(d.i.length,S);const N=d.l?c(d.l.Ka,d.l,d):null;e:{var F=d.i;let Pe=-1;for(;;){const ln=["count="+S];Pe==-1?S>0?(Pe=F[0].g,ln.push("ofs="+Pe)):Pe=0:ln.push("ofs="+Pe);let pt=!0;for(let pn=0;pn<S;pn++){var z=F[pn].g;const ji=F[pn].map;if(z-=Pe,z<0)Pe=Math.max(0,F[pn].g-100),pt=!1;else try{z="req"+z+"_"||"";try{var ie=ji instanceof Map?ji:Object.entries(ji);for(const[Po,sa]of ie){let aa=sa;o(sa)&&(aa=Jn(sa)),ln.push(z+Po+"="+encodeURIComponent(aa))}}catch(Po){throw ln.push(z+"type="+encodeURIComponent("_badmap")),Po}}catch{N&&N(ji)}}if(pt){ie=ln.join("&");break e}}ie=void 0}return d=d.i.splice(0,S),y.G=d,ie}function tx(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;P||A(),k||(P(),k=!0),x.add(y,d),d.A=0}}function _y(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Pi(c(d.Da,d),ix(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,nx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Pi(c(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),bh(this),nx(this))};function Ey(d){d.B!=null&&(a.clearTimeout(d.B),d.B=null)}function nx(d){d.g=new me(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=wr(d.na);Et(y,"RID","rpc"),Et(y,"SID",d.M),Et(y,"AID",d.K),Et(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&Et(y,"TO",d.ia),Et(y,"TYPE","xmlhttp"),Ku(d,y),d.u&&d.o&&by(y,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=gh(wr(y)),S.u=null,S.R=!0,Ce(S,d)}t.Va=function(){this.C!=null&&(this.C=null,bh(this),_y(this),Pt(19))};function _h(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function rx(d,y){var S=null;if(d.g==y){_h(d),Ey(d),d.g=null;var N=2}else if(ta(d.h,y))S=y.G,_t(d.h,y),N=1;else return;if(d.I!=0){if(y.o)if(N==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var F=d.D;N=fs(),Xt(N,new br(N,S)),wh(d)}else tx(d);else if(F=y.m,F==3||F==0&&y.X>0||!(N==1&&O4(d,y)||N==2&&_y(d)))switch(S&&S.length>0&&(y=d.h,y.i=y.i.concat(S)),F){case 1:Do(d,5);break;case 4:Do(d,10);break;case 3:Do(d,6);break;default:Do(d,2)}}}function ix(d,y){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*y}function Do(d,y){if(d.j.info("Error code "+y),y==2){var S=c(d.bb,d),N=d.Ua;const F=!N;N=new Hn(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Io(N,"https"),gh(N),F?R4(N.toString(),S):I4(N.toString(),S)}else Pt(2);d.I=0,d.l&&d.l.pa(y),sx(d),ZT(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function sx(d){if(d.I=0,d.ja=[],d.l){const y=hs(d.h);(y.length!=0||d.i.length!=0)&&(w(d.ja,y),w(d.ja,d.i),d.h.i.length=0,m(d.i),d.i.length=0),d.l.oa()}}function ax(d,y,S){var N=S instanceof Hn?wr(S):new Hn(S);if(N.g!="")y&&(N.g=y+"."+N.g),Fu(N,N.u);else{var F=a.location;N=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const z=new Hn(null);N&&Io(z,N),y&&(z.g=y),F&&Fu(z,F),S&&(z.h=S),N=z}return S=d.G,y=d.wa,S&&y&&Et(N,S,y),Et(N,"VER",d.ka),Ku(d,N),N}function ox(d,y,S){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new kt(new vy({ab:S})):new kt(d.ma),y.Fa(d.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lx(){}t=lx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Eh(){}Eh.prototype.g=function(d,y){return new _r(d,y)};function _r(d,y){yt.call(this),this.g=new XT(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!M(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Hl(this)}f(_r,yt),_r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){wy(this.g)},_r.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=Jn(d),d=S);y.i.push(new Uu(y.Ya++,d)),y.I==3&&wh(y)},_r.prototype.N=function(){this.g.l=null,delete this.j,wy(this.g),delete this.g,_r.Z.N.call(this)};function cx(d){vr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const S in y){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}f(cx,vr);function ux(){ds.call(this),this.status=1}f(ux,ds);function Hl(d){this.g=d}f(Hl,lx),Hl.prototype.ra=function(){Xt(this.g,"a")},Hl.prototype.qa=function(d){Xt(this.g,new cx(d))},Hl.prototype.pa=function(d){Xt(this.g,new ux)},Hl.prototype.oa=function(){Xt(this.g,"b")},Eh.prototype.createWebChannel=Eh.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,TM=function(){return new Eh},EM=function(){return fs()},_M=En,bb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},j.NO_ERROR=0,j.TIMEOUT=8,j.HTTP_ERROR=6,Cm=j,U.COMPLETE="complete",wM=U,Co.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,gd=Co,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,bM=kt}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const h1="@firebase/firestore",m1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new Mg("@firebase/firestore");function Jl(){return _l.logLevel}function oe(t,...e){if(_l.logLevel<=ze.DEBUG){const n=e.map(z_);_l.debug(`Firestore (${Du}): ${t}`,...n)}}function Ks(t,...e){if(_l.logLevel<=ze.ERROR){const n=e.map(z_);_l.error(`Firestore (${Du}): ${t}`,...n)}}function au(t,...e){if(_l.logLevel<=ze.WARN){const n=e.map(z_);_l.warn(`Firestore (${Du}): ${t}`,...n)}}function z_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xM(t,r,n)}function xM(t,e,n){let r=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ks(r),new Error(r)}function at(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xM(e,i,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class tG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nG{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new js;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new js,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new js)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new SM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class rG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new p1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=aG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function wb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return _v(i)===_v(s)?He(i,s):_v(i)?1:-1}return He(t.length,e.length)}const oG=55296,lG=57343;function _v(t){const e=t.charCodeAt(0);return e>=oG&&e<=lG}function ou(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__name__";class Vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Vi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return He(e.length,n.length)}static compareSegments(e,n){const r=Vi.isNumericId(e),i=Vi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):wb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xa.fromString(e.substring(4,e.length-2))}}class vt extends Vi{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const cG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Vi{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return cG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g1}static keyField(){return new In([g1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new se($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new se($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(vt.fromString(e))}static fromName(e){return new pe(vt.fromString(e).popFirst(5))}static empty(){return new pe(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e,n){if(!n)throw new se($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uG(t,e,n,r){if(e===!0&&r===!0)throw new se($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function y1(t){if(!pe.isDocumentKey(t))throw new se($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function v1(t){if(pe.isDocumentKey(t))throw new se($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lg(t);throw new se($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jf(t,e){if(!CM(t))throw new se($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new se($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=-62135596800,w1=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*w1);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<b1)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w1}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jf(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:an("string",rt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new rt(0,0))}static max(){return new Se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=-1;function dG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new oo(i,pe.empty(),e)}function fG(t){return new oo(t.readTime,t.key,vf)}class oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oo(Se.min(),pe.empty(),vf)}static max(){return new oo(Se.max(),pe.empty(),vf)}}function hG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==mG)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{a[c]=u,++o,o===s&&r(a)},u=>i(u))}})}static doWhile(e,n){return new Y((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function gG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-1;function Ug(t){return t==null}function Np(t){return t===0&&1/t==-1/0}function yG(t){return typeof t=="number"&&Number.isInteger(t)&&!Np(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="";function vG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_1(e)),e=bG(t.get(n),e);return _1(e)}function bG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case RM:n+="";break;default:n+=s}}return n}function _1(t){return t+RM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=s??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new An(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T1(this.data.getIterator())}getIteratorFrom(e){return new T1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class T1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new un(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new NM("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const wG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=wG.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="server_timestamp",PM="__type__",MM="__previous_value__",OM="__local_write_time__";function G_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PM])==null?void 0:r.stringValue)===DM}function Fg(t){const e=t.mapValue.fields[MM];return G_(e)?Fg(e):e}function bf(t){const e=lo(t.mapValue.fields[OM].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Dp="(default)";class wf{constructor(e,n){this.projectId=e,this.database=n||Dp}static empty(){return new wf("","")}get isDefaultDatabase(){return this.database===Dp}isEqual(e){return e instanceof wf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="__type__",EG="__max__",Wh={mapValue:{}},VM="__vector__",Pp="value";function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G_(t)?4:xG(t)?9007199254740991:TG(t)?10:11:Ee(28295,{value:t})}function rs(t,e){if(t===e)return!0;const n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bf(t).isEqual(bf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=lo(i.timestampValue),o=lo(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return co(i.bytesValue).isEqual(co(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $t(i.geoPointValue.latitude)===$t(s.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $t(i.integerValue)===$t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=$t(i.doubleValue),o=$t(s.doubleValue);return a===o?Np(a)===Np(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return ou(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(E1(a)!==E1(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!rs(a[l],o[l])))return!1;return!0}(t,e);default:return Ee(52216,{left:t})}}function _f(t,e){return(t.values||[]).find(n=>rs(n,e))!==void 0}function lu(t,e){if(t===e)return 0;const n=uo(t),r=uo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=$t(s.integerValue||s.doubleValue),l=$t(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return x1(t.timestampValue,e.timestampValue);case 4:return x1(bf(t),bf(e));case 5:return wb(t.stringValue,e.stringValue);case 6:return function(s,a){const o=co(s),l=co(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=He(o[c],l[c]);if(u!==0)return u}return He(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=He($t(s.latitude),$t(a.latitude));return o!==0?o:He($t(s.longitude),$t(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return S1(t.arrayValue,e.arrayValue);case 10:return function(s,a){var h,m,w,g;const o=s.fields||{},l=a.fields||{},c=(h=o[Pp])==null?void 0:h.arrayValue,u=(m=l[Pp])==null?void 0:m.arrayValue,f=He(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:S1(c,u)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Wh.mapValue&&a===Wh.mapValue)return 0;if(s===Wh.mapValue)return 1;if(a===Wh.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=wb(l[f],u[f]);if(h!==0)return h;const m=lu(o[l[f]],c[u[f]]);if(m!==0)return m}return He(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function x1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=lo(t),r=lo(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function S1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=lu(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function cu(t){return _b(t)}function _b(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_b(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${_b(n.fields[a])}`;return i+"}"}(t.mapValue):Ee(61005,{value:t})}function Rm(t){switch(uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fg(t);return e?16+Rm(e):16;case 5:return 2*t.stringValue.length;case 6:return co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Rm(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return _o(r.fields,(s,a)=>{i+=s.length+Rm(a)}),i}(t.mapValue);default:throw Ee(13486,{value:t})}}function A1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Eb(t){return!!t&&"integerValue"in t}function $_(t){return!!t&&"arrayValue"in t}function C1(t){return!!t&&"nullValue"in t}function R1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Im(t){return!!t&&"mapValue"in t}function TG(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jM])==null?void 0:r.stringValue)===VM}function Fd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fd(t.arrayValue.values[n]);return e}return{...t}}function xG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Im(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fd(n)}setAll(e){let n=In.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Fd(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Im(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Im(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new lr(Fd(this.value))}}function LM(t){const e=[];return _o(t.fields,(n,r)=>{const i=new In([n]);if(Im(r)){const s=LM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Un(e,0,Se.min(),Se.min(),Se.min(),lr.empty(),0)}static newFoundDocument(e,n,r,i){return new Un(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Un(e,2,n,Se.min(),Se.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Se.min(),Se.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.position=e,this.inclusive=n}}function I1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(a.referenceValue),n.key):r=lu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function N1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function SG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{}class rn extends kM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CG(e,n,r):n==="array-contains"?new NG(e,r):n==="in"?new DG(e,r):n==="not-in"?new PG(e,r):n==="array-contains-any"?new MG(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RG(e,r):new IG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lu(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends kM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xi(e,n)}matches(e){return UM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UM(t){return t.op==="and"}function FM(t){return AG(t)&&UM(t)}function AG(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function Tb(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+cu(t.value);if(FM(t))return t.filters.map(e=>Tb(e)).join(",");{const e=t.filters.map(n=>Tb(n)).join(",");return`${t.op}(${e})`}}function BM(t,e){return t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&rs(r.value,i.value)}(t,e):t instanceof xi?function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&BM(a,i.filters[o]),!0):!1}(t,e):void Ee(19439)}function zM(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${cu(n.value)}`}(t):t instanceof xi?function(n){return n.op.toString()+" {"+n.getFilters().map(zM).join(" ,")+"}"}(t):"Filter"}class CG extends rn{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class RG extends rn{constructor(e,n){super(e,"in",n),this.keys=HM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IG extends rn{constructor(e,n){super(e,"not-in",n),this.keys=HM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class NG extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $_(n)&&_f(n.arrayValue,this.value)}}class DG extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_f(this.value.arrayValue,n)}}class PG extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_f(this.value.arrayValue,n)}}class MG extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_f(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function D1(t,e=null,n=[],r=[],i=null,s=null,a=null){return new OG(t,e,n,r,i,s,a)}function K_(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ug(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cu(r)).join(",")),e.Te=n}return e.Te}function Y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N1(t.startAt,e.startAt)&&N1(t.endAt,e.endAt)}function xb(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jG(t,e,n,r,i,s,a,o){return new Ou(t,e,n,r,i,s,a,o)}function Bg(t){return new Ou(t)}function P1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qM(t){return t.collectionGroup!==null}function Bd(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new un(In.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ef(s,r))}),n.has(In.keyField().canonicalString())||e.Ie.push(new Ef(In.keyField(),r))}return e.Ie}function Wi(t){const e=Re(t);return e.Ee||(e.Ee=VG(e,Bd(t))),e.Ee}function VG(t,e){if(t.limitType==="F")return D1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ef(i.field,s)});const n=t.endAt?new Mp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mp(t.startAt.position,t.startAt.inclusive):null;return D1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sb(t,e){const n=t.filters.concat([e]);return new Ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ab(t,e,n){return new Ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zg(t,e){return Y_(Wi(t),Wi(e))&&t.limitType===e.limitType}function GM(t){return`${K_(Wi(t))}|lt:${t.limitType}`}function ec(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zM(i)).join(", ")}]`),Ug(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>cu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>cu(i)).join(",")),`Target(${r})`}(Wi(t))}; limitType=${t.limitType})`}function Hg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Bd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=I1(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,Bd(r),i)||r.endAt&&!function(a,o,l){const c=I1(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,Bd(r),i))}(t,e)}function LG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $M(t){return(e,n)=>{let r=!1;for(const i of Bd(t)){const s=kG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kG(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?lu(l,c):Ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return IM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new Vt(pe.comparator);function Ys(){return UG}const KM=new Vt(pe.comparator);function yd(...t){let e=KM;for(const n of t)e=e.insert(n.key,n);return e}function YM(t){let e=KM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Go(){return zd()}function WM(){return zd()}function zd(){return new Ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const FG=new Vt(pe.comparator),BG=new un(pe.comparator);function qe(...t){let e=BG;for(const n of t)e=e.add(n);return e}const zG=new un(He);function HG(){return zG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Np(e)?"-0":e}}function QM(t){return{integerValue:""+t}}function qG(t,e){return yG(e)?QM(e):W_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this._=void 0}}function GG(t,e,n){return t instanceof Op?function(i,s){const a={fields:{[PM]:{stringValue:DM},[OM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&G_(s)&&(s=Fg(s)),s&&(a.fields[MM]=s),{mapValue:a}}(n,e):t instanceof Tf?ZM(t,e):t instanceof xf?JM(t,e):function(i,s){const a=XM(i,s),o=M1(a)+M1(i.Ae);return Eb(a)&&Eb(i.Ae)?QM(o):W_(i.serializer,o)}(t,e)}function $G(t,e,n){return t instanceof Tf?ZM(t,e):t instanceof xf?JM(t,e):n}function XM(t,e){return t instanceof jp?function(r){return Eb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Op extends qg{}class Tf extends qg{constructor(e){super(),this.elements=e}}function ZM(t,e){const n=eO(e);for(const r of t.elements)n.some(i=>rs(i,r))||n.push(r);return{arrayValue:{values:n}}}class xf extends qg{constructor(e){super(),this.elements=e}}function JM(t,e){let n=eO(e);for(const r of t.elements)n=n.filter(i=>!rs(i,r));return{arrayValue:{values:n}}}class jp extends qg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function M1(t){return $t(t.integerValue||t.doubleValue)}function eO(t){return $_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Tf&&i instanceof Tf||r instanceof xf&&i instanceof xf?ou(r.elements,i.elements,rs):r instanceof jp&&i instanceof jp?rs(r.Ae,i.Ae):r instanceof Op&&i instanceof Op}(t.transform,e.transform)}class YG{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function tO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $g(t.key,Qn.none()):new eh(t.key,t.data,Qn.none());{const n=t.data,r=lr.empty();let i=new un(In.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Eo(t.key,r,new Rr(i.toArray()),Qn.none())}}function WG(t,e,n){t instanceof eh?function(i,s,a){const o=i.value.clone(),l=j1(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Eo?function(i,s,a){if(!Nm(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=j1(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(nO(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Hd(t,e,n,r){return t instanceof eh?function(s,a,o,l){if(!Nm(s.precondition,a))return o;const c=s.value.clone(),u=V1(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Eo?function(s,a,o,l){if(!Nm(s.precondition,a))return o;const c=V1(s.fieldTransforms,l,a),u=a.data;return u.setAll(nO(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,a,o){return Nm(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function QG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=XM(r.transform,i||null);s!=null&&(n===null&&(n=lr.empty()),n.set(r.field,s))}return n||null}function O1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ou(r,i,(s,a)=>KG(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class eh extends Gg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Eo extends Gg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j1(t,e,n){const r=new Map;at(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,$G(a,o,n[i]))}return r}function V1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,GG(s,a,e))}return r}class $g extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XG extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&WG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WM();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=tO(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(n,r)=>O1(n,r))&&ou(this.baseMutations,e.baseMutations,(n,r)=>O1(n,r))}}class Q_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return FG}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Q_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JG=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,Xe;function t$(t){switch(t){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function rO(t){if(t===void 0)return Ks("GRPC error has no .code"),$.UNKNOWN;switch(t){case Jt.OK:return $.OK;case Jt.CANCELLED:return $.CANCELLED;case Jt.UNKNOWN:return $.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return $.INTERNAL;case Jt.UNAVAILABLE:return $.UNAVAILABLE;case Jt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Jt.NOT_FOUND:return $.NOT_FOUND;case Jt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Jt.ABORTED:return $.ABORTED;case Jt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Jt.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:t})}}(Xe=Jt||(Jt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=new Xa([4294967295,4294967295],0);function L1(t){const e=n$().encode(t),n=new vM;return n.update(e),new Uint8Array(n.digest())}function k1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xa([n,r],0),new Xa([i,s],0)]}class X_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vd(`Invalid padding: ${n}`);if(r<0)throw new vd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xa.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Xa.fromNumber(r)));return i.compare(r$)===1&&(i=new Xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=L1(e),[r,i]=k1(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new X_(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=L1(e),[r,i]=k1(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kg(Se.min(),i,new Vt(He),Ys(),qe())}}class th{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new th(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class iO{constructor(e,n){this.targetId=e,this.Ce=n}}class sO{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class U1{constructor(){this.ve=0,this.Fe=F1(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:s})}}),new th(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=F1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i${constructor(e){this.Ge=e,this.ze=new Map,this.je=Ys(),this.Je=Qh(),this.He=Qh(),this.Ye=new Vt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(xb(s))if(r===0){const a=new pe(s.path);this.et(n,a,Un.newNoDocument(a,Se.min()))}else at(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=co(r).toUint8Array()}catch(l){if(l instanceof NM)return au("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new X_(a,i,s)}catch(l){return au(l instanceof vd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&xb(o.target)){const l=new pe(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Un.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=qe();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new Kg(e,n,this.Ye,this.je,r);return this.je=Ys(),this.Je=Qh(),this.He=Qh(),this.Ye=new Vt(He),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new U1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qh(){return new Vt(pe.comparator)}function F1(){return new Vt(pe.comparator)}const s$={asc:"ASCENDING",desc:"DESCENDING"},a$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o$={and:"AND",or:"OR"};class l${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cb(t,e){return t.useProto3Json||Ug(e)?e:{value:e}}function Vp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c$(t,e){return Vp(t,e.toTimestamp())}function Qi(t){return at(!!t,49232),Se.fromTimestamp(function(n){const r=lo(n);return new rt(r.seconds,r.nanos)}(t))}function Z_(t,e){return Rb(t,e).canonicalString()}function Rb(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oO(t){const e=vt.fromString(t);return at(fO(e),10190,{key:e.toString()}),e}function Ib(t,e){return Z_(t.databaseId,e.path)}function Ev(t,e){const n=oO(e);if(n.get(1)!==t.databaseId.projectId)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(cO(n))}function lO(t,e){return Z_(t.databaseId,e)}function u$(t){const e=oO(t);return e.length===4?vt.emptyPath():cO(e)}function Nb(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cO(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function B1(t,e,n){return{name:Ib(t,e),fields:n.value.mapValue.fields}}function d$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(at(u===void 0||typeof u=="string",58123),Mn.fromBase64String(u||"")):(at(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Mn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?$.UNKNOWN:rO(c.code);return new se(u,c.message||"")}(a);n=new sO(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ev(t,r.document.name),s=Qi(r.document.updateTime),a=r.document.createTime?Qi(r.document.createTime):Se.min(),o=new lr({mapValue:{fields:r.document.fields}}),l=Un.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Dm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ev(t,r.document),s=r.readTime?Qi(r.readTime):Se.min(),a=Un.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Dm([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ev(t,r.document),s=r.removedTargetIds||[];n=new Dm([],s,i,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new e$(i,s),o=r.targetId;n=new iO(o,a)}}return n}function f$(t,e){let n;if(e instanceof eh)n={update:B1(t,e.key,e.value)};else if(e instanceof $g)n={delete:Ib(t,e.key)};else if(e instanceof Eo)n={update:B1(t,e.key,e.data),updateMask:_$(e.fieldMask)};else{if(!(e instanceof XG))return Ee(16599,{Vt:e.type});n={verify:Ib(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Op)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Tf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof xf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jp)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Ee(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:c$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee(27497)}(t,e.precondition)),n}function h$(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Qi(i.updateTime):Qi(s);return a.isEqual(Se.min())&&(a=Qi(s)),new YG(a,i.transformResults||[])}(n,e))):[]}function m$(t,e){return{documents:[lO(t,e.path)]}}function p$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lO(t,i);const s=function(c){if(c.length!==0)return dO(xi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:tc(h.field),direction:v$(h.dir)}}(u))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Cb(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function g$(t){let e=u$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(f){const h=uO(f);return h instanceof xi&&FM(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(w){return new Ef(nc(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Ug(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Mp(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new Mp(m,h)}(n.endAt)),jG(e,i,a,s,o,"F",l,c)}function y$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nc(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nc(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nc(n.unaryFilter.field);return rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nc(n.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return rn.create(nc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xi.create(n.compositeFilter.filters.map(r=>uO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(t):Ee(30097,{filter:t})}function v$(t){return s$[t]}function b$(t){return a$[t]}function w$(t){return o$[t]}function tc(t){return{fieldPath:t.canonicalString()}}function nc(t){return In.fromServerFormat(t.fieldPath)}function dO(t){return t instanceof rn?function(n){if(n.op==="=="){if(R1(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NAN"}};if(C1(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R1(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NOT_NAN"}};if(C1(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(n.field),op:b$(n.op),value:n.value}}}(t):t instanceof xi?function(n){const r=n.getFilters().map(i=>dO(i));return r.length===1?r[0]:{compositeFilter:{op:w$(n.op),filters:r}}}(t):Ee(54877,{filter:t})}function _$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,r,i,s=Se.min(),a=Se.min(),o=Mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.yt=e}}function T$(t){const e=g$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ab(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.Cn=new S$}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(oo.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class S${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new un(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hO=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(hO,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uu(0)}static cr(){return new uu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="LruGarbageCollector",A$=1048576;function q1([t,e],[n,r]){const i=He(t,n);return i===0?He(e,r):i}class C${constructor(e){this.Ir=e,this.buffer=new un(q1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();q1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(H1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mu(n)?oe(H1,"Ignoring IndexedDB error during garbage collection: ",n):await Pu(n)}await this.Vr(3e5)})}}class I${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(kg.ce);const r=new C$(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(z1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Jl()<=ze.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function N$(t,e){return new I$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.changes=new Ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hd(r.mutation,i,Rr.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const i=Go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=yd();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Ys();const a=zd(),o=function(){return zd()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Eo)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),Hd(u.mutation,c,u.mutation.getFieldMask(),rt.now())):a.set(c.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),n.forEach((c,u)=>o.set(c,new P$(u,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=zd();let i=new Vt((a,o)=>a-o),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Rr.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||qe()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=WM();u.forEach(h=>{if(!s.has(h)){const m=tO(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Y.resolve(Go());let o=vf,l=s;return a.next(c=>Y.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?Y.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,qe())).next(u=>({batchId:o,changes:YM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=yd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=yd();return this.indexManager.getCollectionParents(e,s).next(o=>Y.forEach(o,l=>{const c=function(f,h){return new Ou(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Un.newInvalidDocument(u)))});let o=yd();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Hd(u.mutation,c,Rr.empty(),rt.now()),Hg(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qi(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:T$(i.bundledQuery),readTime:Qi(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.overlays=new Vt(pe.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return Y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Go(),s=n.length+1,a=new pe(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Go(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Go(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return Y.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new JG(n,r));let s=this.qr.get(n);s===void 0&&(s=qe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.Qr=new un(yn.$r),this.Ur=new un(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new pe(new vt([])),r=new yn(n,e),i=new yn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new vt([])),r=new yn(n,e),i=new yn(n,e+1);let s=qe();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(yn.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ZG(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new yn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?q_:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(He);return n.forEach(i=>{const s=new yn(i,0),a=new yn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const a=new yn(new pe(s),0);let o=new un(He);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},a),Y.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,i=>{const s=new yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new yn(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.ri=e,this.docs=function(){return new Vt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let r=Ys();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Un.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ys();const a=n.path,o=new pe(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||hG(fG(u),r)<=0||(i.has(u.key)||Hg(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee(9500)}ii(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U$(this)}getSize(e){return Y.resolve(this.size)}}class U$ extends D${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.persistence=e,this.si=new Ll(n=>K_(n),Y_),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new J_,this.targetCount=0,this.ai=uu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Y.waitFor(s).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.ui={},this.overlays={},this.ci=new kg(0),this.li=!1,this.li=!0,this.hi=new V$,this.referenceDelegate=e(this),this.Pi=new F$(this),this.indexManager=new x$,this.remoteDocumentCache=function(i){return new k$(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new E$(n),this.Ii=new O$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new L$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new B$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class B$ extends pG{constructor(e){super(),this.currentSequenceNumber=e}}class eE{constructor(e){this.persistence=e,this.Ri=new J_,this.Vi=null}static mi(e){return new eE(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const i=pe.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lp{constructor(e,n){this.persistence=e,this.pi=new Ll(r=>vG(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=N$(this,n)}static mi(e,n){return new Lp(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Y.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?Y.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,Se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rm(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=qe(),i=qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return w8()?8:gG(Bn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new z$;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Jl()<=ze.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Jl()<=ze.DEBUG&&oe("QueryEngine","Query:",ec(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Jl()<=ze.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):Y.resolve())}ys(e,n){if(P1(n))return Y.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ab(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=qe(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,Ab(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return P1(n)||i.isEqual(Se.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?Y.resolve(null):(Jl()<=ze.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ec(n)),this.vs(e,a,n,dG(i,vf)).next(o=>o))})}Ds(e,n){let r=new un($M(e));return n.forEach((i,s)=>{Hg(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Jl()<=ze.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ec(n)),this.ps.getDocumentsMatchingQuery(e,n,oo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="LocalStore",q$=3e8;class G${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Vt(He),this.xs=new Ll(s=>K_(s),Y_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function $$(t,e,n,r){return new G$(t,e,n,r)}async function pO(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=qe();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function K$(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let m=Y.resolve();return h.forEach(w=>{m=m.next(()=>u.getEntry(l,w)).next(g=>{const E=c.docVersions.get(w);at(E!==null,48541),g.version.compareTo(E)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=qe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gO(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Y$(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,u.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Mn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(f,m),function(g,E,b){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=q$?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,u)&&o.push(n.Pi.updateTargetData(s,m))});let l=Ys(),c=qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(W$(s,a,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(Se.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return Y.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function W$(t,e,n){let r=qe(),i=qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ys();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):oe(nE,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:i}})}function Q$(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=q_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X$(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,Y.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new La(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Db(t,e,n){const r=Re(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Mu(a))throw a;oe(nE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function G1(t,e,n){const r=Re(t);let i=Se.min(),s=qe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const f=Re(l),h=f.xs.get(u);return h!==void 0?Y.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(r,a,Wi(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Se.min(),n?s:qe())).next(o=>(Z$(r,LG(e),o),{documents:o,Qs:s})))}function Z$(t,e,n){let r=t.Os.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class $1{constructor(){this.activeTargetIds=HG()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J${constructor(){this.Mo=new $1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="ConnectivityMonitor";class Y1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(K1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(K1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh=null;function Pb(){return Xh===null?Xh=function(){return 268435456+Math.round(2147483648*Math.random())}():Xh++,"0x"+Xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="RestConnection",tK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Dp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=Pb(),o=this.zo(e,n.toUriEncodedString());oe(Tv,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=Ru(c);return this.Jo(e,o,l,r,u).then(f=>(oe(Tv,`Received RPC '${e}' ${a}: `,f),f),f=>{throw au(Tv,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Du}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=tK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class iK extends nK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=Pb();return new Promise((o,l)=>{const c=new bM;c.setWithCredentials(!0),c.listenOnce(wM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Cm.NO_ERROR:const f=c.getResponseJson();oe(jn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case Cm.TIMEOUT:oe(jn,`RPC '${e}' ${a} timed out`),l(new se($.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:const h=c.getStatus();if(oe(jn,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const g=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(w.status);l(new se(g,w.message))}else l(new se($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new se($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{oe(jn,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);oe(jn,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=Pb(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=TM(),o=EM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");oe(jn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);this.I_(f);let h=!1,m=!1;const w=new rK({Yo:E=>{m?oe(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(oe(jn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(jn,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Zo:()=>f.close()}),g=(E,b,_)=>{E.listen(b,T=>{try{_(T)}catch(R){setTimeout(()=>{throw R},0)}})};return g(f,gd.EventType.OPEN,()=>{m||(oe(jn,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),g(f,gd.EventType.CLOSE,()=>{m||(m=!0,oe(jn,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(f))}),g(f,gd.EventType.ERROR,E=>{m||(m=!0,au(jn,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new se($.UNAVAILABLE,"The operation could not be completed")))}),g(f,gd.EventType.MESSAGE,E=>{var b;if(!m){const _=E.data[0];at(!!_,16349);const T=_,R=(T==null?void 0:T.error)||((b=T[0])==null?void 0:b.error);if(R){oe(jn,`RPC '${e}' stream ${i} received error:`,R);const P=R.status;let k=function(C){const I=Jt[C];if(I!==void 0)return rO(I)}(P),x=R.message;k===void 0&&(k=$.INTERNAL,x="Unknown error status: "+P+" with message "+R.message),m=!0,w.a_(new se(k,x)),f.close()}else oe(jn,`RPC '${e}' stream ${i} received:`,_),w.u_(_)}}),g(o,_M.STAT_EVENT,E=>{E.stat===bb.PROXY?oe(jn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===bb.NOPROXY&&oe(jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){return new l$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="PersistentStream";class vO{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ks(n.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new se($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(W1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(W1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sK extends vO{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=d$(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Se.min():a.readTime?Qi(a.readTime):Se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Nb(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=xb(l)?{documents:m$(s,l)}:{query:p$(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=aO(s,a.resumeToken);const c=Cb(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Se.min())>0){o.readTime=Vp(s,a.snapshotVersion.toTimestamp());const c=Cb(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=y$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Nb(this.serializer),n.removeTarget=e,this.q_(n)}}class aK extends vO{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=h$(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Nb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>f$(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{}class lK extends oK{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,Rb(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se($.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Rb(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se($.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ks(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class uK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{kl(this)&&(oe(El,"Restarting streams for network reachability change."),await async function(l){const c=Re(l);c.Ea.add(4),await nh(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Wg(c)}(this))})}),this.Ra=new cK(r,i)}}async function Wg(t){if(kl(t))for(const e of t.da)await e(!0)}async function nh(t){for(const e of t.da)await e(!1)}function bO(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),aE(n)?sE(n):ju(n).O_()&&iE(n,e))}function rE(t,e){const n=Re(t),r=ju(n);n.Ia.delete(e),r.O_()&&wO(n,e),n.Ia.size===0&&(r.O_()?r.L_():kl(n)&&n.Ra.set("Unknown"))}function iE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ju(t).Y_(e)}function wO(t,e){t.Va.Ue(e),ju(t).Z_(e)}function sE(t){t.Va=new i$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ju(t).start(),t.Ra.ua()}function aE(t){return kl(t)&&!ju(t).x_()&&t.Ia.size>0}function kl(t){return Re(t).Ea.size===0}function _O(t){t.Va=void 0}async function dK(t){t.Ra.set("Online")}async function fK(t){t.Ia.forEach((e,n)=>{iE(t,e)})}async function hK(t,e){_O(t),aE(t)?(t.Ra.ha(e),sE(t)):t.Ra.set("Unknown")}async function mK(t,e,n){if(t.Ra.set("Online"),e instanceof sO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){oe(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kp(t,r)}else if(e instanceof Dm?t.Va.Ze(e):e instanceof iO?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const r=await gO(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Mn.EMPTY_BYTE_STRING,u.snapshotVersion)),wO(s,l);const f=new La(u.target,l,c,u.sequenceNumber);iE(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){oe(El,"Failed to raise snapshot:",r),await kp(t,r)}}async function kp(t,e,n){if(!Mu(e))throw e;t.Ea.add(1),await nh(t),t.Ra.set("Offline"),n||(n=()=>gO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(El,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wg(t)})}function EO(t,e){return e().catch(n=>kp(t,n,e))}async function Qg(t){const e=Re(t),n=fo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:q_;for(;pK(e);)try{const i=await Q$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,gK(e,i)}catch(i){await kp(e,i)}TO(e)&&xO(e)}function pK(t){return kl(t)&&t.Ta.length<10}function gK(t,e){t.Ta.push(e);const n=fo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function TO(t){return kl(t)&&!fo(t).x_()&&t.Ta.length>0}function xO(t){fo(t).start()}async function yK(t){fo(t).ra()}async function vK(t){const e=fo(t);for(const n of t.Ta)e.ea(n.mutations)}async function bK(t,e,n){const r=t.Ta.shift(),i=Q_.from(r,e,n);await EO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qg(t)}async function wK(t,e){e&&fo(t).X_&&await async function(r,i){if(function(a){return t$(a)&&a!==$.ABORTED}(i.code)){const s=r.Ta.shift();fo(r).B_(),await EO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qg(r)}}(t,e),TO(t)&&xO(t)}async function Q1(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),oe(El,"RemoteStore received new credentials");const r=kl(n);n.Ea.add(3),await nh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wg(n)}async function _K(t,e){const n=Re(t);e?(n.Ea.delete(2),await Wg(n)):e||(n.Ea.add(2),await nh(n),n.Ra.set("Unknown"))}function ju(t){return t.ma||(t.ma=function(n,r,i){const s=Re(n);return s.sa(),new sK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:dK.bind(null,t),t_:fK.bind(null,t),r_:hK.bind(null,t),H_:mK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),aE(t)?sE(t):t.Ra.set("Unknown")):(await t.ma.stop(),_O(t))})),t.ma}function fo(t){return t.fa||(t.fa=function(n,r,i){const s=Re(n);return s.sa(),new aK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:yK.bind(null,t),r_:wK.bind(null,t),ta:vK.bind(null,t),na:bK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Qg(t)):(await t.fa.stop(),t.Ta.length>0&&(oe(El,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new oE(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lE(t,e){if(Ks("AsyncQueue",`${e}: ${t}`),Mu(t))return new se($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static emptySet(e){return new Oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=yd(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.ga=new Vt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class du{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new du(e,n,Oc.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class TK{constructor(){this.queries=Z1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Re(n),s=i.queries;i.queries=Z1(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new se($.ABORTED,"Firestore shutting down"))}}function Z1(){return new Ll(t=>GM(t),zg)}async function cE(t,e){const n=Re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new EK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=lE(a,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&dE(n)}async function uE(t,e){const n=Re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xK(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&dE(n)}function SK(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function dE(t){t.Ca.forEach(e=>{e.next()})}var Mb,J1;(J1=Mb||(Mb={})).Ma="default",J1.Cache="cache";class fE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.key=e}}class AO{constructor(e){this.key=e}}class AK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=$M(e),this.tu=new Oc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new X1,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),m=Hg(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?w!==g&&(r.track({type:3,doc:m}),E=!0):this.su(h,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(o=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(o=!0)),E&&(m?(a=a.add(m),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((u,f)=>function(m,w){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:E})}};return g(m)-g(w)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new du(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new AO(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new SO(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hE="SyncEngine";class CK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RK{constructor(e){this.key=e,this.hu=!1}}class IK{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ll(o=>GM(o),zg),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(pe.comparator),this.Au=new Map,this.Ru=new J_,this.Vu={},this.mu=new Map,this.fu=uu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NK(t,e,n=!0){const r=PO(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await CO(r,e,n,!0),i}async function DK(t,e){const n=PO(t);await CO(n,e,!0,!1)}async function CO(t,e,n,r){const i=await X$(t.localStore,Wi(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await PK(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&bO(t.remoteStore,i),o}async function PK(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,E,b,_){let T=E.view.ru(b);T.Cs&&(T=await G1(g.localStore,E.query,!1).then(({documents:x})=>E.view.ru(x,T)));const R=_&&_.targetChanges.get(E.targetId),P=_&&_.targetMismatches.get(E.targetId)!=null,k=E.view.applyChanges(T,g.isPrimaryClient,R,P);return tC(g,E.targetId,k.au),k.snapshot}(t,f,h,m);const s=await G1(t.localStore,e,!0),a=new AK(e,s.Qs),o=a.ru(s.documents),l=th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);tC(t,n,c.au);const u=new CK(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function MK(t,e,n){const r=Re(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!zg(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Db(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rE(r.remoteStore,i.targetId),Ob(r,i.targetId)}).catch(Pu)):(Ob(r,i.targetId),await Db(r.localStore,i.targetId,!0))}async function OK(t,e){const n=Re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rE(n.remoteStore,r.targetId))}async function jK(t,e,n){const r=zK(t);try{const i=await function(a,o){const l=Re(a),c=rt.now(),u=o.reduce((m,w)=>m.add(w.key),qe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Ys(),g=qe();return l.Ns.getEntries(m,u).next(E=>{w=E,w.forEach((b,_)=>{_.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(E=>{f=E;const b=[];for(const _ of o){const T=QG(_,f.get(_.key).overlayedDocument);T!=null&&b.push(new Eo(_.key,T,LM(T.value.mapValue),Qn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,o)}).next(E=>{h=E;const b=E.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,E.batchId,b)})}).then(()=>({batchId:h.batchId,changes:YM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Vt(He)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(r,i.batchId,n),await rh(r,i.changes),await Qg(r.remoteStore)}catch(i){const s=lE(i,"Failed to persist write");n.reject(s)}}async function RO(t,e){const n=Re(t);try{const r=await Y$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?at(a.hu,14607):i.removedDocuments.size>0&&(at(a.hu,42227),a.hu=!1))}),await rh(n,r,e)}catch(r){await Pu(r)}}function eC(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Re(a);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)}),c&&dE(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VK(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Vt(pe.comparator);a=a.insert(s,Un.newNoDocument(s,Se.min()));const o=qe().add(s),l=new Kg(Se.min(),new Map,new Vt(He),a,o);await RO(r,l),r.du=r.du.remove(s),r.Au.delete(e),mE(r)}else await Db(r.localStore,e,!1).then(()=>Ob(r,e,n)).catch(Pu)}async function LK(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await K$(n.localStore,e);NO(n,r,null),IO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rh(n,i)}catch(i){await Pu(i)}}async function kK(t,e,n){const r=Re(t);try{const i=await function(a,o){const l=Re(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(at(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);NO(r,e,n),IO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rh(r,i)}catch(i){await Pu(i)}}function IO(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function NO(t,e,n){const r=Re(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ob(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||DO(t,r)})}function DO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),mE(t))}function tC(t,e,n){for(const r of n)r instanceof SO?(t.Ru.addReference(r.key,e),UK(t,r)):r instanceof AO?(oe(hE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||DO(t,r.key)):Ee(19791,{wu:r})}function UK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(oe(hE,"New document in limbo: "+n),t.Eu.add(r),mE(t))}function mE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(vt.fromString(e)),r=t.fu.next();t.Au.set(r,new RK(n)),t.du=t.du.insert(n,r),bO(t.remoteStore,new La(Wi(Bg(n.path)),r,"TargetPurposeLimboResolution",kg.ce))}}async function rh(t,e,n){const r=Re(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=tE.As(l.targetId,c);s.push(f)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,c){const u=Re(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(c,h=>Y.forEach(h.Es,m=>u.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>Y.forEach(h.ds,m=>u.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Mu(f))throw f;oe(nE,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=u.Ms.get(h),w=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(w);u.Ms=u.Ms.insert(h,g)}}}(r.localStore,s))}async function FK(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){oe(hE,"User change. New user:",e.toKey());const r=await pO(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new se($.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rh(n,r.Ls)}}function BK(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let i=qe();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function PO(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VK.bind(null,e),e.Pu.H_=xK.bind(null,e.eventManager),e.Pu.yu=SK.bind(null,e.eventManager),e}function zK(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kK.bind(null,e),e}class Up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $$(this.persistence,new H$,e.initialUser,this.serializer)}Cu(e){return new mO(eE.mi,this.serializer)}Du(e){return new J$}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Up.provider={build:()=>new Up};class HK extends Up{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof Lp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new mO(r=>Lp.mi(r,n),this.serializer)}}class jb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FK.bind(null,this.syncEngine),await _K(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TK}()}createDatastore(e){const n=Yg(e.databaseInfo.databaseId),r=function(s){return new iK(s)}(e.databaseInfo);return function(s,a,o,l){return new lK(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new uK(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>eC(this.syncEngine,n,0),function(){return Y1.v()?new Y1:new eK}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,u){const f=new IK(i,s,a,o,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Re(i);oe(El,"RemoteStore shutting down."),s.Ea.add(5),await nh(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jb.provider={build:()=>new jb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="FirestoreClient";class qK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=H_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{oe(ho,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(oe(ho,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sv(t,e){t.asyncQueue.verifyOperationInProgress(),oe(ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GK(t);oe(ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Q1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Q1(e.remoteStore,i)),t._onlineComponents=e}async function GK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(ho,"Using user provided OfflineComponentProvider");try{await Sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await Sv(t,new Up)}}else oe(ho,"Using default OfflineComponentProvider"),await Sv(t,new HK(void 0));return t._offlineComponents}async function MO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(ho,"Using user provided OnlineComponentProvider"),await nC(t,t._uninitializedComponentsProvider._online)):(oe(ho,"Using default OnlineComponentProvider"),await nC(t,new jb))),t._onlineComponents}function $K(t){return MO(t).then(e=>e.syncEngine)}async function Fp(t){const e=await MO(t),n=e.eventManager;return n.onListen=NK.bind(null,e.syncEngine),n.onUnlisten=MK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OK.bind(null,e.syncEngine),n}function KK(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new pE({next:h=>{u.Nu(),a.enqueueAndForget(()=>uE(s,f));const m=h.docs.has(o);!m&&h.fromCache?c.reject(new se($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new se($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new fE(Bg(o.path),u,{includeMetadataChanges:!0,qa:!0});return cE(s,f)}(await Fp(t),t.asyncQueue,e,n,r)),r.promise}function YK(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new pE({next:h=>{u.Nu(),a.enqueueAndForget(()=>uE(s,f)),h.fromCache&&l.source==="server"?c.reject(new se($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new fE(o,u,{includeMetadataChanges:!0,qa:!0});return cE(s,f)}(await Fp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="firestore.googleapis.com",iC=!0;class sC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jO,this.ssl=iC}else this.host=e.host,this.ssl=e.ssl??iC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A$)throw new se($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OO(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eG;switch(r.type){case"firstParty":return new iG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rC.get(n);r&&(oe("ComponentProvider","Removing Datastore"),rC.delete(n),r.terminate())}(this),Promise.resolve()}}function WK(t,e,n,r={}){var c;t=Wn(t,Xg);const i=Ru(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(C2(`https://${o}`),R2("Firestore",!0)),s.host!==jO&&s.host!==o&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!ao(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Ln.MOCK_USER;else{u=f8(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new se($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ln(h)}t._authCredentials=new tG(new SM(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jf(n,Ht._jsonSchema))return new Ht(e,r||null,new pe(vt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:an("string",Ht._jsonSchemaVersion),referencePath:an("string")};class Za extends To{constructor(e,n,r){super(e,n,Bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new pe(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function mo(t,e,...n){if(t=Dt(t),AM("collection","path",e),t instanceof Xg){const r=vt.fromString(e,...n);return v1(r),new Za(t,null,r)}{if(!(t instanceof Ht||t instanceof Za))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return v1(r),new Za(t.firestore,null,r)}}function Or(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=H_.newId()),AM("doc","path",e),t instanceof Xg){const r=vt.fromString(e,...n);return y1(r),new Ht(t,null,new pe(r))}{if(!(t instanceof Ht||t instanceof Za))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return y1(r),new Ht(t.firestore,t instanceof Za?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="AsyncQueue";class oC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yO(this,"async_queue_retry"),this._c=()=>{const r=xv();r&&oe(aC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=xv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new js;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mu(e))throw e;oe(aC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ks("INTERNAL UNHANDLED ERROR: ",lC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=oE.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:lC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class is extends Xg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oC(e),this._firestoreClient=void 0,await e}}}function QK(t,e){const n=typeof t=="object"?t:M_(),r=typeof t=="string"?t:Dp,i=jl(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=u8("firestore");s&&WK(i,...s)}return i}function ih(t){if(t._terminated)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XK(t),t._firestoreClient}function XK(t){var r,i,s;const e=t._freezeSettings(),n=function(o,l,c,u){return new _G(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,OO(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Mn.fromBase64String(e))}catch(n){throw new se($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jf(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:an("string",ei._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Jf(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:an("string",Xi._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jf(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zi(e.vectorValues);throw new se($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:an("string",Zi._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK=/^__.*__$/;class JK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new eh(e,this.data,n,this.fieldTransforms)}}class VO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class yE{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LO(this.Ac)&&ZK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yg(e)}Cc(e,n,r,i=!1){return new yE({Ac:e,methodName:n,Dc:r,path:In.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ah(t){const e=t._freezeSettings(),n=Yg(t._databaseId);return new eY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vE(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);bE("Data must be an object, but it was:",a,r);const o=FO(r,a);let l,c;if(s.merge)l=new Rr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=Vb(e,f,n);if(!a.contains(h))throw new se($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zO(u,h)||u.push(h)}l=new Rr(u),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new JK(new lr(o),l,c)}class Zg extends gE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zg}}function kO(t,e,n,r){const i=t.Cc(1,e,n);bE("Data must be an object, but it was:",i,r);const s=[],a=lr.empty();_o(r,(l,c)=>{const u=wE(e,l,n);c=Dt(c);const f=i.yc(u);if(c instanceof Zg)s.push(u);else{const h=oh(c,f);h!=null&&(s.push(u),a.set(u,h))}});const o=new Rr(s);return new VO(a,o,i.fieldTransforms)}function UO(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[Vb(e,r,n)],l=[i];if(s.length%2!=0)throw new se($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Vb(e,s[h])),l.push(s[h+1]);const c=[],u=lr.empty();for(let h=o.length-1;h>=0;--h)if(!zO(c,o[h])){const m=o[h];let w=l[h];w=Dt(w);const g=a.yc(m);if(w instanceof Zg)c.push(m);else{const E=oh(w,g);E!=null&&(c.push(m),u.set(m,E))}}const f=new Rr(c);return new VO(u,f,a.fieldTransforms)}function tY(t,e,n,r=!1){return oh(n,t.Cc(r?4:3,e))}function oh(t,e){if(BO(t=Dt(t)))return bE("Unsupported field value:",e,t),FO(t,e);if(t instanceof gE)return function(r,i){if(!LO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=oh(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rt.fromDate(r);return{timestampValue:Vp(i.serializer,s)}}if(r instanceof rt){const s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vp(i.serializer,s)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:aO(i.serializer,r._byteString)};if(r instanceof Ht){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Z_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zi)return function(a,o){return{mapValue:{fields:{[jM]:{stringValue:VM},[Pp]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return W_(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Lg(r)}`)}(t,e)}function FO(t,e){const n={};return IM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{const s=oh(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Xi||t instanceof ei||t instanceof Ht||t instanceof gE||t instanceof Zi)}function bE(t,e,n){if(!BO(n)||!CM(n)){const r=Lg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vb(t,e,n){if((e=Dt(e))instanceof sh)return e._internalPath;if(typeof e=="string")return wE(t,e);throw Bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const nY=new RegExp("[~\\*/\\[\\]]");function wE(t,e,n){if(e.search(nY)>=0)throw Bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sh(...e.split("."))._internalPath}catch{throw Bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bp(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new se($.INVALID_ARGUMENT,o+t+l)}function zO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_E("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rY extends HO{data(){return super.data()}}function _E(t,e){return typeof e=="string"?wE(t,e):e instanceof sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EE{}class GO extends EE{}function TE(t,e,...n){let r=[];e instanceof EE&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof SE).length,o=s.filter(l=>l instanceof xE).length;if(a>1||a>0&&o>0)throw new se($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xE extends GO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xE(e,n,r)}_apply(e){const n=this._parse(e);return KO(e._query,n),new To(e.firestore,e.converter,Sb(e._query,n))}_parse(e){const n=ah(e.firestore);return function(s,a,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new se($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){dC(f,u);const w=[];for(const g of f)w.push(uC(l,s,g));h={arrayValue:{values:w}}}else h=uC(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||dC(f,u),h=tY(o,a,f,u==="in"||u==="not-in");return rn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class SE extends EE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new SE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)KO(a,l),a=Sb(a,l)}(e._query,n),new To(e.firestore,e.converter,Sb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AE extends GO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new AE(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new se($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new se($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ef(s,a)}(e._query,this._field,this._direction);return new To(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Ou(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function $O(t,e="asc"){const n=e,r=_E("orderBy",t);return AE._create(r,n)}function uC(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new se($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qM(e)&&n.indexOf("/")!==-1)throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!pe.isDocumentKey(r))throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A1(t,new pe(r))}if(n instanceof Ht)return A1(t,n._key);throw new se($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lg(n)}.`)}function dC(t,e){if(!Array.isArray(t)||t.length===0)throw new se($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KO(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iY{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Pp].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>$t(a.doubleValue));return new Zi(n)}convertGeoPoint(e){return new Xi($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const n=lo(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);at(fO(r),9688,{name:e});const i=new wf(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||Ks(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class bd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ll extends HO{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_E("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",ll._jsonSchema={type:an("string",ll._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Pm extends ll{data(e={}){return super.data(e)}}class cl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pm(this._firestore,this._userDataWriter,r.key,r,new bd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Pm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new bd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Pm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new bd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:sY(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){t=Wn(t,Ht);const e=Wn(t.firestore,is);return KK(ih(e),t._key).then(n=>QO(e,t,n))}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:an("string",cl._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class RE extends iY{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function YO(t){t=Wn(t,To);const e=Wn(t.firestore,is),n=ih(e),r=new RE(e);return qO(t._query),YK(n,t._query).then(i=>new cl(e,r,t,i))}function aY(t,e,n){t=Wn(t,Ht);const r=Wn(t.firestore,is),i=CE(t.converter,e,n);return lh(r,[vE(ah(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qn.none())])}function fu(t,e,n,...r){t=Wn(t,Ht);const i=Wn(t.firestore,is),s=ah(i);let a;return a=typeof(e=Dt(e))=="string"||e instanceof sh?UO(s,"updateDoc",t._key,e,n,r):kO(s,"updateDoc",t._key,e),lh(i,[a.toMutation(t._key,Qn.exists(!0))])}function WO(t){return lh(Wn(t.firestore,is),[new $g(t._key,Qn.none())])}function IE(t,e){const n=Wn(t.firestore,is),r=Or(t),i=CE(t.converter,e);return lh(n,[vE(ah(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function NE(t,...e){var l,c,u;t=Dt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||cC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cC(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(u=f.complete)==null?void 0:u.bind(f)}let s,a,o;if(t instanceof Ht)a=Wn(t.firestore,is),o=Bg(t._key.path),s={next:f=>{e[r]&&e[r](QO(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Wn(t,To);a=Wn(f.firestore,is),o=f._query;const h=new RE(a);s={next:m=>{e[r]&&e[r](new cl(a,h,f,m))},error:e[r+1],complete:e[r+2]},qO(t._query)}return function(h,m,w,g){const E=new pE(g),b=new fE(m,E,w);return h.asyncQueue.enqueueAndForget(async()=>cE(await Fp(h),b)),()=>{E.Nu(),h.asyncQueue.enqueueAndForget(async()=>uE(await Fp(h),b))}}(ih(a),o,i,s)}function lh(t,e){return function(r,i){const s=new js;return r.asyncQueue.enqueueAndForget(async()=>jK(await $K(r),i,s)),s.promise}(ih(t),e)}function QO(t,e,n){const r=n.docs.get(e._key),i=new RE(t);return new ll(t,i,e._key,r,new bd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ah(e)}set(e,n,r){this._verifyNotCommitted();const i=Av(e,this._firestore),s=CE(i.converter,n,r),a=vE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Qn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Av(e,this._firestore);let a;return a=typeof(n=Dt(n))=="string"||n instanceof sh?UO(this._dataReader,"WriteBatch.update",s._key,n,r,i):kO(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Av(e,this._firestore);return this._mutations=this._mutations.concat(new $g(n._key,Qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Av(t,e){if((t=Dt(t)).firestore!==e)throw new se($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lY(t){return ih(t=Wn(t,is)),new oY(t,e=>lh(t,e))}(function(e,n=!0){(function(i){Du=i})(Iu),ns(new Ei("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new is(new nG(r.getProvider("auth-internal")),new sG(a,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(c.options.projectId,u)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ri(h1,m1,e),ri(h1,m1,"esm2020")})();var cY="firebase",uY="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(cY,uY,"app");const XO="@firebase/installations",DE="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=1e4,JO=`w:${DE}`,ej="FIS_v2",dY="https://firebaseinstallations.googleapis.com/v1",fY=60*60*1e3,hY="installations",mY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Tl=new Ol(hY,mY,pY);function tj(t){return t instanceof Ri&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj({projectId:t}){return`${dY}/projects/${t}/installations`}function rj(t){return{token:t.token,requestStatus:2,expiresIn:yY(t.expiresIn),creationTime:Date.now()}}async function ij(t,e){const r=(await e.json()).error;return Tl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sj({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gY(t,{refreshToken:e}){const n=sj(t);return n.append("Authorization",vY(e)),n}async function aj(t){const e=await t();return e.status>=500&&e.status<600?t():e}function yY(t){return Number(t.replace("s","000"))}function vY(t){return`${ej} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nj(t),i=sj(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={fid:n,authVersion:ej,appId:t.appId,sdkVersion:JO},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await aj(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:rj(c.authToken)}}else throw await ij("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y=/^[cdef][\w-]{21}$/,Lb="";function EY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=TY(t);return _Y.test(n)?n:Lb}catch{return Lb}}function TY(t){return wY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new Map;function cj(t,e){const n=Jg(t);uj(n,e),xY(n,e)}function uj(t,e){const n=lj.get(t);if(n)for(const r of n)r(e)}function xY(t,e){const n=SY();n&&n.postMessage({key:t,fid:e}),AY()}let $o=null;function SY(){return!$o&&"BroadcastChannel"in self&&($o=new BroadcastChannel("[Firebase] FID Change"),$o.onmessage=t=>{uj(t.data.key,t.data.fid)}),$o}function AY(){lj.size===0&&$o&&($o.close(),$o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY="firebase-installations-database",RY=1,xl="firebase-installations-store";let Cv=null;function PE(){return Cv||(Cv=O2(CY,RY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xl)}}})),Cv}async function zp(t,e){const n=Jg(t),i=(await PE()).transaction(xl,"readwrite"),s=i.objectStore(xl),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&cj(t,e.fid),e}async function dj(t){const e=Jg(t),r=(await PE()).transaction(xl,"readwrite");await r.objectStore(xl).delete(e),await r.done}async function ey(t,e){const n=Jg(t),i=(await PE()).transaction(xl,"readwrite"),s=i.objectStore(xl),a=await s.get(n),o=e(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&cj(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(t){let e;const n=await ey(t.appConfig,r=>{const i=IY(r),s=NY(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Lb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function IY(t){const e=t||{fid:EY(),registrationStatus:0};return fj(e)}function NY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Tl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:PY(t)}:{installationEntry:e}}async function DY(t,e){try{const n=await bY(t,e);return zp(t.appConfig,n)}catch(n){throw tj(n)&&n.customData.serverCode===409?await dj(t.appConfig):await zp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function PY(t){let e=await hC(t.appConfig);for(;e.registrationStatus===1;)await oj(100),e=await hC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ME(t);return r||n}return e}function hC(t){return ey(t,e=>{if(!e)throw Tl.create("installation-not-found");return fj(e)})}function fj(t){return MY(t)?{fid:t.fid,registrationStatus:0}:t}function MY(t){return t.registrationStatus===1&&t.registrationTime+ZO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OY({appConfig:t,heartbeatServiceProvider:e},n){const r=jY(t,n),i=gY(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={installation:{sdkVersion:JO,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await aj(()=>fetch(r,o));if(l.ok){const c=await l.json();return rj(c)}else throw await ij("Generate Auth Token",l)}function jY(t,{fid:e}){return`${nj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(t,e=!1){let n;const r=await ey(t.appConfig,s=>{if(!hj(s))throw Tl.create("not-registered");const a=s.authToken;if(!e&&kY(a))return s;if(a.requestStatus===1)return n=VY(t,e),s;{if(!navigator.onLine)throw Tl.create("app-offline");const o=FY(s);return n=LY(t,o),o}});return n?await n:r.authToken}async function VY(t,e){let n=await mC(t.appConfig);for(;n.authToken.requestStatus===1;)await oj(100),n=await mC(t.appConfig);const r=n.authToken;return r.requestStatus===0?OE(t,e):r}function mC(t){return ey(t,e=>{if(!hj(e))throw Tl.create("not-registered");const n=e.authToken;return BY(n)?{...e,authToken:{requestStatus:0}}:e})}async function LY(t,e){try{const n=await OY(t,e),r={...e,authToken:n};return await zp(t.appConfig,r),n}catch(n){if(tj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dj(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await zp(t.appConfig,r)}throw n}}function hj(t){return t!==void 0&&t.registrationStatus===2}function kY(t){return t.requestStatus===2&&!UY(t)}function UY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fY}function FY(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function BY(t){return t.requestStatus===1&&t.requestTime+ZO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zY(t){const e=t,{installationEntry:n,registrationPromise:r}=await ME(e);return r?r.catch(console.error):OE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HY(t,e=!1){const n=t;return await qY(n),(await OE(n,e)).token}async function qY(t){const{registrationPromise:e}=await ME(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(t){if(!t||!t.options)throw Rv("App Configuration");if(!t.name)throw Rv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Rv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Rv(t){return Tl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="installations",$Y="installations-internal",KY=t=>{const e=t.getProvider("app").getImmediate(),n=GY(e),r=jl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},YY=t=>{const e=t.getProvider("app").getImmediate(),n=jl(e,mj).getImmediate();return{getId:()=>zY(n),getToken:i=>HY(n,i)}};function WY(){ns(new Ei(mj,KY,"PUBLIC")),ns(new Ei($Y,YY,"PRIVATE"))}WY();ri(XO,DE);ri(XO,DE,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="analytics",QY="firebase_id",XY="origin",ZY=60*1e3,JY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Mg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jr=new Ol("analytics","Analytics",eW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t){if(!t.startsWith(jE)){const e=jr.create("invalid-gtag-resource",{gtagURL:t});return Xn.warn(e.message),""}return t}function pj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nW(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function rW(t,e){const n=nW("firebase-js-sdk-policy",{createScriptURL:tW}),r=document.createElement("script"),i=`${jE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function iW(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sW(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const l=(await pj(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){Xn.error(o)}t("config",i,s)}async function aW(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await pj(n);for(const l of a){const c=o.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Xn.error(s)}}function oW(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await aW(t,e,n,o,l)}else if(s==="config"){const[o,l]=a;await sW(t,e,n,r,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,c]=a;t("get",o,l,c)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){Xn.error(o)}}return i}function lW(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=oW(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function cW(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=30,dW=1e3;class fW{constructor(e={},n=dW){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gj=new fW;function hW(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function mW(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:hW(n)},i=JY.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let o="";try{const l=await s.json();(a=l.error)!=null&&a.message&&(o=l.error.message)}catch{}throw jr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function pW(t,e=gj,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw jr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw jr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new vW;return setTimeout(async()=>{o.abort()},ZY),yj({appId:r,apiKey:i,measurementId:s},a,o,e)}async function yj(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=gj){var o;const{appId:s,measurementId:a}=t;try{await gW(r,e)}catch(l){if(a)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await mW(t);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!yW(c)){if(i.deleteThrottleMetadata(s),a)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?LA(n,i.intervalMillis,uW):LA(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,f),Xn.debug(`Calling attemptFetch again in ${u} millis`),yj(t,f,r,i)}}function gW(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yW(t){if(!(t instanceof Ri)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vW{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bW(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a={...r,send_to:s};t("event",n,a)}}async function wW(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(){if(N2())try{await D2()}catch(t){return Xn.warn(jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xn.warn(jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EW(t,e,n,r,i,s,a){const o=pW(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Xn.error(h)),e.push(o);const l=_W().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([o,l]);cW(s)||rW(s,c.measurementId),i("js",new Date);const f=(a==null?void 0:a.config)??{};return f[XY]="firebase",f.update=!0,u!=null&&(f[QY]=u),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e){this.app=e}_delete(){return delete jc[this.app.options.appId],Promise.resolve()}}let jc={},pC=[];const gC={};let Iv="dataLayer",xW="gtag",yC,VE,vC=!1;function SW(){const t=[];if(I2()&&t.push("This is a browser extension environment."),_8()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jr.create("invalid-analytics-context",{errorInfo:e});Xn.warn(n.message)}}function AW(t,e,n){SW();const r=t.options.appId;if(!r)throw jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jr.create("no-api-key");if(jc[r]!=null)throw jr.create("already-exists",{id:r});if(!vC){iW(Iv);const{wrappedGtag:s,gtagCore:a}=lW(jc,pC,gC,Iv,xW);VE=s,yC=a,vC=!0}return jc[r]=EW(t,pC,gC,e,yC,Iv,n),new TW(t)}function CW(t=M_()){t=Dt(t);const e=jl(t,Hp);return e.isInitialized()?e.getImmediate():RW(t)}function RW(t,e={}){const n=jl(t,Hp);if(n.isInitialized()){const i=n.getImmediate();if(ao(e,n.getOptions()))return i;throw jr.create("already-initialized")}return n.initialize({options:e})}function IW(t,e,n){t=Dt(t),wW(VE,jc[t.app.options.appId],e,n).catch(r=>Xn.error(r))}function NW(t,e,n,r){t=Dt(t),bW(VE,jc[t.app.options.appId],e,n,r).catch(i=>Xn.error(i))}const bC="@firebase/analytics",wC="0.10.19";function DW(){ns(new Ei(Hp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return AW(r,i,n)},"PUBLIC")),ns(new Ei("analytics-internal",t,"PRIVATE")),ri(bC,wC),ri(bC,wC,"esm2020");function t(e){try{const n=e.getProvider(Hp).getImmediate();return{logEvent:(r,i,s)=>NW(n,r,i,s),setUserProperties:(r,i)=>IW(n,r,i)}}catch(n){throw jr.create("interop-component-reg-failed",{reason:n})}}}DW();const PW={apiKey:"AIzaSyARwmtRZVPMt5OrM9_fgh3QEcUvz9hcX4s",authDomain:"el-fundo-pedidos.firebaseapp.com",projectId:"el-fundo-pedidos",storageBucket:"el-fundo-pedidos.firebasestorage.app",messagingSenderId:"436737582661",appId:"1:436737582661:web:6e253124372522ad49e52c",measurementId:"G-3MSPLW5NXX"},LE=j2(PW),ad=Zq(LE),Yt=QK(LE);CW(LE);const vj=v.createContext(void 0),MW=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(null),[s,a]=v.useState(!0);v.useEffect(()=>{const f=BH(ad,async h=>{if(h){const m=await fC(Or(Yt,"users",h.uid));if(m.exists()){const w=m.data();n({id:h.uid,email:h.email,name:w.name,role:w.role})}i(h)}else n(null),i(null);a(!1)});return()=>f()},[]);const o=async(f,h)=>{try{const m=await kH(ad,f,h),w=await fC(Or(Yt,"users",m.user.uid));if(w.exists()){const g=w.data();return n({id:m.user.uid,email:m.user.email,name:g.name,role:g.role}),!0}else return kn.error("Usuario no encontrado en la base de datos"),await n1(ad),!1}catch(m){const w=m;console.error("Error logging in:",w.code,w.message);const g=w.code||"";let E="Error al iniciar sesin";switch(g){case"auth/invalid-credential":case"auth/wrong-password":case"auth/invalid-password":E="Credenciales invlidas. Revisa tu email y contrasea.";break;case"auth/user-not-found":E="Usuario no encontrado. Verifica el email.";break;case"auth/too-many-requests":E="Demasiados intentos fallidos. Intenta ms tarde.";break;case"auth/network-request-failed":E="Error de red. Revisa tu conexin o extensiones que bloqueen solicitudes.";break;default:E=w.message||E}return kn.error(E),!1}},l=async(f,h,m,w)=>{try{const g=await LH(ad,f,h);return await aY(Or(Yt,"users",g.user.uid),{name:m,email:f,role:w,createdAt:new Date}),n({id:g.user.uid,email:g.user.email,name:m,role:w}),!0}catch(g){const E=g;console.error("Error registering:",E.code,E.message);const b=E.code||"";let _="Error al registrar";switch(b){case"auth/email-already-in-use":_="El email ya est en uso.";break;case"auth/weak-password":_="La contrasea es muy dbil.";break;default:_=E.message||_}return kn.error(_),!1}},c=async()=>{try{await n1(ad),n(null),i(null)}catch(f){console.error("Error logging out:",f),kn.error("Error al cerrar sesin")}},u=!!e;return p.jsx(vj.Provider,{value:{user:e,firebaseUser:r,login:o,register:l,logout:c,isAuthenticated:u,loading:s},children:t})},ch=()=>{const t=v.useContext(vj);if(t===void 0)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t},_C=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,EC=c2,kE=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return EC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=s==null?void 0:s[c];if(u===null)return null;const h=_C(u)||_C(f);return i[c][h]}),o=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(w=>{let[g,E]=w;return Array.isArray(E)?E.includes({...s,...o}[g]):{...s,...o}[g]===E})?[...c,f,h]:c},[]);return EC(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},OW=kE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?UF:"button";return p.jsx(a,{className:$e(OW({variant:e,size:n,className:t})),ref:s,...i})});Me.displayName="Button";const Ot=v.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ot.displayName="Input";var jW="Label",bj=v.forwardRef((t,e)=>p.jsx(Ae.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bj.displayName=jW;var wj=bj;const VW=kE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wn=v.forwardRef(({className:t,...e},n)=>p.jsx(wj,{ref:n,className:$e(VW(),t),...e}));wn.displayName=wj.displayName;const Ze=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ze.displayName="Card";const cr=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",t),...e}));cr.displayName="CardHeader";const ur=v.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",t),...e}));ur.displayName="CardTitle";const Ja=v.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));Ja.displayName="CardDescription";const et=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("p-6 pt-0",t),...e}));et.displayName="CardContent";const LW=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",t),...e}));LW.displayName="CardFooter";const Zs=()=>{const t=v.useCallback(()=>{if(document.visibilityState==="visible")try{const i=new Audio("/assets/notification.mp3");i.volume=.5;const s=i.play();s!==void 0&&s.catch(a=>{a.name!=="NotAllowedError"&&console.warn("Error al reproducir sonido:",a)})}catch(i){console.warn("Error al cargar el sonido:",i)}},[]),e=v.useCallback(i=>{switch(t(),i.variant){case"success":kn.success(i.title,{description:i.description});break;case"error":kn.error(i.title,{description:i.description});break;case"warning":kn.warning(i.title,{description:i.description});break;default:kn.info(i.title,{description:i.description})}typeof window<"u"&&"Notification"in window&&Notification.permission==="granted"&&new Notification(i.title,{body:i.description,icon:"/assets/logo.png",badge:"/assets/logo.png"})},[t]),n=v.useCallback((i,s,a="info")=>{e({title:i,description:s,variant:a})},[e]),r=v.useCallback(async()=>typeof window<"u"&&"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":typeof window<"u"&&"Notification"in window&&Notification.permission==="granted",[]);return{playNotificationSound:t,showToast:e,showNotification:n,requestNotificationPermission:r}};function TC(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(!1),[a,o]=v.useState(!1),[l,c]=v.useState(""),[u,f]=v.useState(""),[h,m]=v.useState(""),{login:w,register:g,loading:E}=ch(),{requestNotificationPermission:b}=Zs();v.useEffect(()=>{b()},[b]);const _=async R=>{R.preventDefault(),s(!0),await w(t,n)&&kn.success("Bienvenido a El Fundo Fast Food!"),s(!1)},T=async R=>{R.preventDefault(),s(!0);const P=await g(u,h,l,"waiter");s(!1),P&&(kn.success("Usuario registrado correctamente. Espera que el administrador asigne tu rol si es necesario."),o(!1),c(""),f(""),m(""))};return E?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"glass-card p-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),p.jsx("p",{className:"text-center mt-4 text-gray-600",children:"Cargando..."})]})}):p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md space-y-6",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsxs("div",{className:"glass-card p-6 inline-block",children:[p.jsx("img",{src:"/assets/logo.png",alt:"El Fundo Fast Food",className:"w-16 h-16 mx-auto mb-3 rounded-xl",onError:R=>{const P=R.currentTarget;P.style.display="none",P.nextElementSibling&&P.nextElementSibling instanceof HTMLElement&&(P.nextElementSibling.style.display="block")}}),p.jsx("div",{style:{display:"none"},className:"text-4xl mb-3",children:""}),p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-500 to-yellow-500 bg-clip-text text-transparent",children:"El Fundo Fast Food"})]}),p.jsx("p",{className:"text-gray-600 font-medium",children:"Sistema de Gestin de Restaurante"})]}),p.jsxs(Ze,{className:"glass-card border-0",children:[p.jsxs(cr,{className:"text-center",children:[p.jsx(ur,{className:"text-2xl font-bold text-gray-800",children:a?"Registrarse":"Iniciar Sesin"}),p.jsx(Ja,{children:a?'Completa los datos para crear tu cuenta. El rol ser "mesero" por defecto.':"Ingresa tus credenciales para continuar"})]}),p.jsx(et,{children:a?p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(wn,{htmlFor:"registerName",className:"text-gray-700 font-medium",children:"Nombre"}),p.jsx(Ot,{id:"registerName",value:l,onChange:R=>c(R.target.value),className:"rounded-xl border-orange-200 focus:border-orange-400 focus:ring-orange-400",placeholder:"Tu nombre completo",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(wn,{htmlFor:"registerEmail",className:"text-gray-700 font-medium",children:"Email"}),p.jsx(Ot,{id:"registerEmail",type:"email",value:u,onChange:R=>f(R.target.value),className:"rounded-xl border-orange-200 focus:border-orange-400 focus:ring-orange-400",placeholder:"tu@email.com",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(wn,{htmlFor:"registerPassword",className:"text-gray-700 font-medium",children:"Contrasea"}),p.jsx(Ot,{id:"registerPassword",type:"password",value:h,onChange:R=>m(R.target.value),className:"rounded-xl border-orange-200 focus:border-orange-400 focus:ring-orange-400",placeholder:"Crea una contrasea",required:!0})]}),p.jsx(Me,{type:"submit",className:"w-full btn-fundo text-white font-semibold py-3 text-lg",disabled:i,children:i?"Registrando...":"Registrarse"}),p.jsx(Me,{type:"button",variant:"outline",className:"w-full mt-2",onClick:()=>o(!1),children:"Ya tienes cuenta? Inicia sesin"})]}):p.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(wn,{htmlFor:"email",className:"text-gray-700 font-medium",children:"Email"}),p.jsx(Ot,{id:"email",type:"email",value:t,onChange:R=>e(R.target.value),className:"rounded-xl border-orange-200 focus:border-orange-400 focus:ring-orange-400",placeholder:"tu@email.com",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(wn,{htmlFor:"password",className:"text-gray-700 font-medium",children:"Contrasea"}),p.jsx(Ot,{id:"password",type:"password",value:n,onChange:R=>r(R.target.value),className:"rounded-xl border-orange-200 focus:border-orange-400 focus:ring-orange-400",placeholder:"Ingresa tu contrasea",required:!0})]}),p.jsx(Me,{type:"submit",className:"w-full btn-fundo text-white font-semibold py-3 text-lg",disabled:i,children:i?"Iniciando sesin...":"Iniciar Sesin"}),p.jsx(Me,{type:"button",variant:"outline",className:"w-full mt-2",onClick:()=>o(!0),children:"No tienes cuenta? Regstrate"})]})})]})]})})}function _j(t){const e=t+"CollectionProvider",[n,r]=Ai(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:E,children:b}=g,_=ne.useRef(null),T=ne.useRef(new Map).current;return p.jsx(i,{scope:E,itemMap:T,collectionRef:_,children:b})};a.displayName=e;const o=t+"CollectionSlot",l=ru(o),c=ne.forwardRef((g,E)=>{const{scope:b,children:_}=g,T=s(o,b),R=Qe(E,T.collectionRef);return p.jsx(l,{ref:R,children:_})});c.displayName=o;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=ru(u),m=ne.forwardRef((g,E)=>{const{scope:b,children:_,...T}=g,R=ne.useRef(null),P=Qe(E,R),k=s(u,b);return ne.useEffect(()=>(k.itemMap.set(R,{ref:R,...T}),()=>void k.itemMap.delete(R))),p.jsx(h,{[f]:"",ref:P,children:_})});m.displayName=u;function w(g){const E=s(t+"CollectionConsumer",g);return ne.useCallback(()=>{const _=E.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((k,x)=>T.indexOf(k.ref.current)-T.indexOf(x.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},w,r]}var kW=v.createContext(void 0);function uh(t){const e=v.useContext(kW);return t||e||"ltr"}var Nv="rovingFocusGroup.onEntryFocus",UW={bubbles:!1,cancelable:!0},dh="RovingFocusGroup",[kb,Ej,FW]=_j(dh),[BW,ty]=Ai(dh,[FW]),[zW,HW]=BW(dh),Tj=v.forwardRef((t,e)=>p.jsx(kb.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(kb.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(qW,{...t,ref:e})})}));Tj.displayName=dh;var qW=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,h=v.useRef(null),m=Qe(e,h),w=uh(s),[g,E]=vl({prop:a,defaultProp:o??null,onChange:l,caller:dh}),[b,_]=v.useState(!1),T=Kn(c),R=Ej(n),P=v.useRef(!1),[k,x]=v.useState(0);return v.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(Nv,T),()=>A.removeEventListener(Nv,T)},[T]),p.jsx(zW,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:g,onItemFocus:v.useCallback(A=>E(A),[E]),onItemShiftTab:v.useCallback(()=>_(!0),[]),onFocusableItemAdd:v.useCallback(()=>x(A=>A+1),[]),onFocusableItemRemove:v.useCallback(()=>x(A=>A-1),[]),children:p.jsx(Ae.div,{tabIndex:b||k===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:ve(t.onMouseDown,()=>{P.current=!0}),onFocus:ve(t.onFocus,A=>{const C=!P.current;if(A.target===A.currentTarget&&C&&!b){const I=new CustomEvent(Nv,UW);if(A.currentTarget.dispatchEvent(I),!I.defaultPrevented){const D=R().filter(H=>H.focusable),O=D.find(H=>H.active),M=D.find(H=>H.id===g),ue=[O,M,...D].filter(Boolean).map(H=>H.ref.current);Aj(ue,u)}}P.current=!1}),onBlur:ve(t.onBlur,()=>_(!1))})})}),xj="RovingFocusGroupItem",Sj=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=Ya(),c=s||l,u=HW(xj,n),f=u.currentTabStopId===c,h=Ej(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:g}=u;return v.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),p.jsx(kb.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:p.jsx(Ae.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ve(t.onMouseDown,E=>{r?u.onItemFocus(c):E.preventDefault()}),onFocus:ve(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ve(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){u.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const b=KW(E,u.orientation,u.dir);if(b!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=h().filter(R=>R.focusable).map(R=>R.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const R=T.indexOf(E.currentTarget);T=u.loop?YW(T,R+1):T.slice(R+1)}setTimeout(()=>Aj(T))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:g!=null}):a})})});Sj.displayName=xj;var GW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $W(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KW(t,e,n){const r=$W(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return GW[r]}function Aj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function YW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Cj=Tj,Rj=Sj,ny="Tabs",[WW]=Ai(ny,[ty]),Ij=ty(),[QW,UE]=WW(ny),Nj=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,u=uh(o),[f,h]=vl({prop:r,onChange:i,defaultProp:s??"",caller:ny});return p.jsx(QW,{scope:n,baseId:Ya(),value:f,onValueChange:h,orientation:a,dir:u,activationMode:l,children:p.jsx(Ae.div,{dir:u,"data-orientation":a,...c,ref:e})})});Nj.displayName=ny;var Dj="TabsList",Pj=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=UE(Dj,n),a=Ij(n);return p.jsx(Cj,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(Ae.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Pj.displayName=Dj;var Mj="TabsTrigger",Oj=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=UE(Mj,n),o=Ij(n),l=Lj(a.baseId,r),c=kj(a.baseId,r),u=r===a.value;return p.jsx(Rj,{asChild:!0,...o,focusable:!i,active:u,children:p.jsx(Ae.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:ve(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ve(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ve(t.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!i&&f&&a.onValueChange(r)})})})});Oj.displayName=Mj;var jj="TabsContent",Vj=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=UE(jj,n),l=Lj(o.baseId,r),c=kj(o.baseId,r),u=r===o.value,f=v.useRef(u);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(Ci,{present:i||u,children:({present:h})=>p.jsx(Ae.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});Vj.displayName=jj;function Lj(t,e){return`${t}-trigger-${e}`}function kj(t,e){return`${t}-content-${e}`}var XW=Nj,Uj=Pj,Fj=Oj,Bj=Vj;const zj=XW,FE=v.forwardRef(({className:t,...e},n)=>p.jsx(Uj,{ref:n,className:$e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));FE.displayName=Uj.displayName;const Is=v.forwardRef(({className:t,...e},n)=>p.jsx(Fj,{ref:n,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Is.displayName=Fj.displayName;const Ns=v.forwardRef(({className:t,...e},n)=>p.jsx(Bj,{ref:n,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ns.displayName=Bj.displayName;const ZW=kE("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ko({className:t,variant:e,...n}){return p.jsx("div",{className:$e(ZW({variant:e}),t),...n})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>v.createElement("svg",{ref:l,...eQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Hj("lucide",i),...o},[...a.map(([c,u])=>v.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(tQ,{ref:s,iconNode:e,className:Hj(`lucide-${JW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=on("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=on("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=on("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=on("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=on("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=on("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=on("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=on("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=on("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=on("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=on("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=on("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=on("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=on("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=on("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=on("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=on("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=on("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=on("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=on("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kj=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),{showToast:i}=Zs();return v.useEffect(()=>{const l=TE(mo(Yt,"menu"),$O("name")),c=NE(l,u=>{const f=[];u.forEach(h=>{const m=h.data();f.push({id:h.id,name:m.name,description:m.description,price:m.price,category:m.category,image:m.image,available:m.available??!0,sabores:m.sabores,alitasPrecios:m.alitasPrecios,jugosOpciones:m.jugosOpciones})}),e(f),r(!1)},u=>{console.error("Error al obtener men:",u),i({title:"Error",description:"No se pudo cargar el men",variant:"error"}),r(!1)});return()=>c()},[]),{menu:t,loading:n,addMenuItem:async l=>{try{return await IE(mo(Yt,"menu"),l),i({title:"xito",description:"Plato agregado al men",variant:"success"}),!0}catch(c){return console.error("Error al agregar item de men:",c),i({title:"Error",description:"No se pudo agregar el plato",variant:"error"}),!1}},updateMenuItem:async(l,c)=>{try{const u=h=>{if(h!==void 0){if(h===null)return null;if(Array.isArray(h))return h.map(u).filter(w=>w!==void 0);if(typeof h=="object"){const m={};return Object.entries(h).forEach(([w,g])=>{const E=u(g);E!==void 0&&(m[w]=E)}),Object.keys(m).length>0?m:void 0}return h}},f=u(c);return!f||Object.keys(f).length===0?(i({title:"Aviso",description:"No hay cambios para guardar",variant:"info"}),!0):(await fu(Or(Yt,"menu",l),f),i({title:"xito",description:"Plato actualizado",variant:"success"}),!0)}catch(u){return console.error("Error al actualizar item de men:",u),i({title:"Error",description:"No se pudo actualizar el plato",variant:"error"}),!1}},deleteMenuItem:async l=>{try{return await WO(Or(Yt,"menu",l)),i({title:"xito",description:"Plato eliminado",variant:"success"}),!0}catch(c){return console.error("Error al eliminar item de men:",c),i({title:"Error",description:"No se pudo eliminar el plato",variant:"error"}),!1}}}},zE=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),{showToast:i}=Zs();return v.useEffect(()=>{const l=TE(mo(Yt,"orders"),$O("timestamp","desc")),c=NE(l,u=>{const f=[];u.forEach(h=>{var g;const m=h.data(),w=m.status;if(w&&["pending","preparing","ready","delivered"].includes(w)){const E=((g=m.items)==null?void 0:g.map(b=>{var _,T;return{...b,menuItem:b.menuItem||{id:b.id||"",name:"Producto no encontrado",price:0,category:"",description:""},options:{...b.options,flavor:Array.isArray((_=b.options)==null?void 0:_.flavor)?b.options.flavor:typeof((T=b.options)==null?void 0:T.flavor)=="string"?b.options.flavor.split(",").map(R=>R.trim()):[]}}}))||[];f.push({id:h.id,...m,items:E,timestamp:m.timestamp&&typeof m.timestamp.toMillis=="function"?m.timestamp.toMillis():m.timestamp})}}),e(f),r(!1)},u=>{console.error("Error al obtener rdenes (listener):",u),i({title:"Error",description:"No se pudieron cargar los pedidos",variant:"error"}),r(!1)});return()=>c()},[]),{orders:t,loading:n,addOrder:async l=>{try{if(!l.items||l.items.length===0)return i({title:"Error",description:"El pedido debe tener al menos un item",variant:"error"}),!1;const c=l.items.map(g=>{var _,T,R,P,k,x,A;const E=(_=g.options)==null?void 0:_.flavor,b=Array.isArray(E)?E:typeof E=="string"?E.split(",").map(C=>C.trim()).filter(Boolean):[];return{menuItem:{id:((T=g.menuItem)==null?void 0:T.id)||"",name:((R=g.menuItem)==null?void 0:R.name)||"Producto no encontrado",price:((P=g.menuItem)==null?void 0:P.price)??0,category:((k=g.menuItem)==null?void 0:k.category)||"",description:((x=g.menuItem)==null?void 0:x.description)||""},quantity:g.quantity||1,notes:g.notes||"",options:{type:((A=g.options)==null?void 0:A.type)||"",flavor:b}}}),u=l.timestamp,f=g=>typeof g=="object"&&g!==null&&typeof g.toMillis=="function",h=g=>Object.prototype.toString.call(g)==="[object Date]";let m;f(u)?m=u:u&&(typeof u=="number"||typeof u=="string")?m=rt.fromMillis(Number(u)):h(u)?m=rt.fromMillis(u.getTime()):m=rt.now();const w={...l,items:c,timestamp:m};return await IE(mo(Yt,"orders"),w),i({title:"xito",description:"Pedido enviado correctamente",variant:"success"}),!0}catch(c){return console.error("Error al agregar orden:",c),i({title:"Error",description:"No se pudo enviar el pedido",variant:"error"}),!1}},updateOrderStatus:async(l,c)=>{try{return await fu(Or(Yt,"orders",l),{status:c}),i({title:"xito",description:"Estado del pedido actualizado",variant:"success"}),!0}catch(u){return console.error("Error al actualizar estado de orden:",u),i({title:"Error",description:"No se pudo actualizar el pedido",variant:"error"}),!1}},markOrderAsDelivered:async l=>{try{return await fu(Or(Yt,"orders",l),{status:"delivered",deliveredAt:rt.now()}),i({title:"xito",description:"Pedido marcado como entregado",variant:"success"}),!0}catch(c){return console.error("Error al actualizar orden:",c),i({title:"Error",description:"No se pudo actualizar el pedido",variant:"error"}),!1}}}},mQ=()=>{const t=Kj(),e=zE(),n=async()=>e.orders;return{menuItems:t.menu,orders:e.orders,loading:t.loading||e.loading,addOrder:e.addOrder,getWaiterOrders:n,markOrderAsDelivered:e.markOrderAsDelivered,addMenuItem:t.addMenuItem,updateMenuItem:t.updateMenuItem,deleteMenuItem:t.deleteMenuItem,updateOrderStatus:e.updateOrderStatus}},Yj=v.createContext({});function pQ(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const HE=v.createContext(null),Wj=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function gQ(t=!0){const e=v.useContext(HE);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=v.useId();v.useEffect(()=>{t&&i(s)},[t]);const a=v.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const qE=typeof window<"u",yQ=qE?v.useLayoutEffect:v.useEffect,Vr=t=>t;let Qj=Vr;function GE(t){let e;return()=>(e===void 0&&(e=t()),e)}const hu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Vs=t=>t*1e3,Ls=t=>t/1e3,vQ={useManualTiming:!1};function bQ(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,u=!1,f=!1)=>{const m=f&&r?e:n;return u&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(a=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Jh=["read","resolveKeyframes","update","preRender","render","postRender"],wQ=40;function Xj(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Jh.reduce((b,_)=>(b[_]=bQ(s),b),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:h}=a,m=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,wQ),1),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},w=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Jh.reduce((b,_)=>{const T=a[_];return b[_]=(R,P=!1,k=!1)=>(n||w(),T.schedule(R,P,k)),b},{}),cancel:b=>{for(let _=0;_<Jh.length;_++)a[Jh[_]].cancel(b)},state:i,steps:a}}const{schedule:Ct,cancel:po,state:xn,steps:Dv}=Xj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0),Zj=v.createContext({strict:!1}),xC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mu={};for(const t in xC)mu[t]={isEnabled:e=>xC[t].some(n=>!!e[n])};function _Q(t){for(const e in t)mu[e]={...mu[e],...t[e]}}const EQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EQ.has(t)}let Jj=t=>!qp(t);function TQ(t){t&&(Jj=e=>e.startsWith("on")?!qp(e):t(e))}try{TQ(require("@emotion/is-prop-valid").default)}catch{}function xQ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Jj(i)||n===!0&&qp(i)||!e&&!qp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function SQ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ry=v.createContext({});function Sf(t){return typeof t=="string"||Array.isArray(t)}function iy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $E=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KE=["initial",...$E];function sy(t){return iy(t.animate)||KE.some(e=>Sf(t[e]))}function eV(t){return!!(sy(t)||t.variants)}function AQ(t,e){if(sy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Sf(n)?n:void 0,animate:Sf(r)?r:void 0}}return t.inherit!==!1?e:{}}function CQ(t){const{initial:e,animate:n}=AQ(t,v.useContext(ry));return v.useMemo(()=>({initial:e,animate:n}),[SC(e),SC(n)])}function SC(t){return Array.isArray(t)?t.join(" "):t}const RQ=Symbol.for("motionComponentSymbol");function yc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function IQ(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yc(n)&&(n.current=r))},[e])}const YE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NQ="framerAppearId",tV="data-"+YE(NQ),{schedule:WE}=Xj(queueMicrotask,!1),nV=v.createContext({});function DQ(t,e,n,r,i){var s,a;const{visualElement:o}=v.useContext(ry),l=v.useContext(Zj),c=v.useContext(HE),u=v.useContext(Wj).reducedMotion,f=v.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,m=v.useContext(nV);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&PQ(f.current,n,i,m);const w=v.useRef(!1);v.useInsertionEffect(()=>{h&&w.current&&h.update(n,c)});const g=n[tV],E=v.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,g)));return yQ(()=>{h&&(w.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),WE.render(h.render),E.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!E.current&&h.animationState&&h.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,g)}),E.current=!1))}),h}function PQ(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rV(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&yc(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function rV(t){if(t)return t.options.allowProjection!==!1?t.projection:rV(t.parent)}function MQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,a;t&&_Q(t);function o(c,u){let f;const h={...v.useContext(Wj),...c,layoutId:OQ(c)},{isStatic:m}=h,w=CQ(c),g=r(c,m);if(!m&&qE){jQ();const E=VQ(h);f=E.MeasureLayout,w.visualElement=DQ(i,g,h,e,E.ProjectionNode)}return p.jsxs(ry.Provider,{value:w,children:[f&&w.visualElement?p.jsx(f,{visualElement:w.visualElement,...h}):null,n(i,c,IQ(g,w.visualElement,u),g,m,w.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=v.forwardRef(o);return l[RQ]=i,l}function OQ({layoutId:t}){const e=v.useContext(Yj).id;return e&&t!==void 0?e+"-"+t:t}function jQ(t,e){v.useContext(Zj).strict}function VQ(t){const{drag:e,layout:n}=mu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const LQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QE(t){return typeof t!="string"||t.includes("-")?!1:!!(LQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function AC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function XE(t,e,n,r){if(typeof e=="function"){const[i,s]=AC(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=AC(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const Ub=t=>Array.isArray(t),kQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),UQ=t=>Ub(t)?t[t.length-1]||0:t,Fn=t=>!!(t&&t.getVelocity);function Mm(t){const e=Fn(t)?t.get():t;return kQ(e)?e.toValue():e}function FQ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const a={latestValues:BQ(r,i,s,t),renderState:e()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const iV=t=>(e,n)=>{const r=v.useContext(ry),i=v.useContext(HE),s=()=>FQ(t,e,r,i);return n?s():pQ(s)};function BQ(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Mm(s[h]);let{initial:a,animate:o}=t;const l=sy(t),c=eV(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const f=u?o:a;if(f&&typeof f!="boolean"&&!iy(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const w=XE(t,h[m]);if(w){const{transitionEnd:g,transition:E,...b}=w;for(const _ in b){let T=b[_];if(Array.isArray(T)){const R=u?T.length-1:0;T=T[R]}T!==null&&(i[_]=T)}for(const _ in g)i[_]=g[_]}}}return i}const Vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ul=new Set(Vu),sV=t=>e=>typeof e=="string"&&e.startsWith(t),aV=sV("--"),zQ=sV("var(--"),ZE=t=>zQ(t)?HQ.test(t.split("/*")[0].trim()):!1,HQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ws=(t,e,n)=>n>e?e:n<t?t:n,Lu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Af={...Lu,transform:t=>Ws(0,1,t)},em={...Lu,default:1},fh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ha=fh("deg"),Ji=fh("%"),we=fh("px"),qQ=fh("vh"),GQ=fh("vw"),CC={...Ji,parse:t=>Ji.parse(t)/100,transform:t=>Ji.transform(t*100)},$Q={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},KQ={rotate:ha,rotateX:ha,rotateY:ha,rotateZ:ha,scale:em,scaleX:em,scaleY:em,scaleZ:em,skew:ha,skewX:ha,skewY:ha,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Af,originX:CC,originY:CC,originZ:we},RC={...Lu,transform:Math.round},JE={...$Q,...KQ,zIndex:RC,size:we,fillOpacity:Af,strokeOpacity:Af,numOctaves:RC},YQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WQ=Vu.length;function QQ(t,e,n){let r="",i=!0;for(let s=0;s<WQ;s++){const a=Vu[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=oV(o,JE[a]);if(!l){i=!1;const u=YQ[a]||a;r+=`${u}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function eT(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(Ul.has(l)){a=!0;continue}else if(aV(l)){i[l]=c;continue}else{const u=oV(c,JE[l]);l.startsWith("origin")?(o=!0,s[l]=u):r[l]=u}}if(e.transform||(a||n?r.transform=QQ(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const XQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZQ={offset:"strokeDashoffset",array:"strokeDasharray"};function JQ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?XQ:ZQ;t[s.offset]=we.transform(-r);const a=we.transform(e),o=we.transform(n);t[s.array]=`${a} ${o}`}function IC(t,e,n){return typeof t=="string"?t:we.transform(e+n*t)}function eX(t,e,n){const r=IC(e,t.x,t.width),i=IC(n,t.y,t.height);return`${r} ${i}`}function tT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,f){if(eT(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m,dimensions:w}=t;h.transform&&(w&&(m.transform=h.transform),delete h.transform),w&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=eX(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&JQ(h,a,o,l,!1)}const nT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lV=()=>({...nT(),attrs:{}}),rT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cV(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const uV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dV(t,e,n,r){cV(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(uV.has(i)?i:YE(i),e.attrs[i])}const Gp={};function tX(t){Object.assign(Gp,t)}function fV(t,{layout:e,layoutId:n}){return Ul.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gp[t]||t==="opacity")}function iT(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(Fn(i[a])||e.style&&Fn(e.style[a])||fV(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function hV(t,e,n){const r=iT(t,e,n);for(const i in t)if(Fn(t[i])||Fn(e[i])){const s=Vu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function nX(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const NC=["x","y","width","height","cx","cy","r"],rX={useVisualState:iV({scrapeMotionValuesFromProps:hV,createRenderState:lV,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const o in i)if(Ul.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<NC.length;o++){const l=NC[o];t[l]!==e[l]&&(a=!0)}a&&Ct.read(()=>{nX(n,r),Ct.render(()=>{tT(r,i,rT(n.tagName),t.transformTemplate),dV(n,r)})})}})},iX={useVisualState:iV({scrapeMotionValuesFromProps:iT,createRenderState:nT})};function mV(t,e,n){for(const r in e)!Fn(e[r])&&!fV(r,n)&&(t[r]=e[r])}function sX({transformTemplate:t},e){return v.useMemo(()=>{const n=nT();return eT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aX(t,e){const n=t.style||{},r={};return mV(r,n,t),Object.assign(r,sX(t,e)),r}function oX(t,e){const n={},r=aX(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function lX(t,e,n,r){const i=v.useMemo(()=>{const s=lV();return tT(s,e,rT(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};mV(s,t.style,t),i.style={...s,...i.style}}return i}function cX(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(QE(n)?lX:oX)(r,s,a,n),c=xQ(r,typeof n=="string",t),u=n!==v.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=v.useMemo(()=>Fn(f)?f.get():f,[f]);return v.createElement(n,{...u,children:h})}}function uX(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...QE(r)?rX:iX,preloadedFeatures:t,useRender:cX(i),createVisualElement:e,Component:r};return MQ(a)}}function pV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ay(t,e,n){const r=t.getProps();return XE(r,e,n!==void 0?n:r.custom,t)}const dX=GE(()=>window.ScrollTimeline!==void 0);class fX{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(dX()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hX extends fX{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function sT(t,e){return t?t[e]||t.default||t:void 0}const Fb=2e4;function gV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fb;)e+=n,r=t.next(e);return e>=Fb?1/0:e}function aT(t){return typeof t=="function"}function DC(t,e){t.timeline=e,t.onfinish=null}const oT=t=>Array.isArray(t)&&typeof t[0]=="number",mX={linearEasing:void 0};function pX(t,e){const n=GE(t);return()=>{var r;return(r=mX[e])!==null&&r!==void 0?r:n()}}const $p=pX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yV=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(hu(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function vV(t){return!!(typeof t=="function"&&$p()||!t||typeof t=="string"&&(t in Bb||$p())||oT(t)||Array.isArray(t)&&t.every(vV))}const wd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Bb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wd([0,.65,.55,1]),circOut:wd([.55,0,1,.45]),backIn:wd([.31,.01,.66,-.59]),backOut:wd([.33,1.53,.69,.99])};function bV(t,e){if(t)return typeof t=="function"&&$p()?yV(t,e):oT(t)?wd(t):Array.isArray(t)?t.map(n=>bV(n,e)||Bb.easeOut):Bb[t]}const fi={x:!1,y:!1};function wV(){return fi.x||fi.y}function gX(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function _V(t,e){const n=gX(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function PC(t){return e=>{e.pointerType==="touch"||wV()||t(e)}}function yX(t,e,n={}){const[r,i,s]=_V(t,n),a=PC(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const u=PC(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const EV=(t,e)=>e?t===e?!0:EV(t,e.parentElement):!1,lT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bX(t){return vX.has(t.tagName)||t.tabIndex!==-1}const _d=new WeakSet;function MC(t){return e=>{e.key==="Enter"&&t(e)}}function Pv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wX=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=MC(()=>{if(_d.has(n))return;Pv(n,"down");const i=MC(()=>{Pv(n,"up")}),s=()=>Pv(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function OC(t){return lT(t)&&!wV()}function _X(t,e,n={}){const[r,i,s]=_V(t,n),a=o=>{const l=o.currentTarget;if(!OC(o)||_d.has(l))return;_d.add(l);const c=e(o),u=(m,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!OC(m)||!_d.has(l))&&(_d.delete(l),typeof c=="function"&&c(m,{success:w}))},f=m=>{u(m,n.useGlobalTarget||EV(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{!bX(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>wX(c,i),i)}),s}function EX(t){return t==="x"||t==="y"?fi[t]?null:(fi[t]=!0,()=>{fi[t]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}const TV=new Set(["width","height","top","left","right","bottom",...Vu]);let Om;function TX(){Om=void 0}const es={now:()=>(Om===void 0&&es.set(xn.isProcessing||vQ.useManualTiming?xn.timestamp:performance.now()),Om),set:t=>{Om=t,queueMicrotask(TX)}};function cT(t,e){t.indexOf(e)===-1&&t.push(e)}function uT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dT{constructor(){this.subscriptions=[]}add(e){return cT(this.subscriptions,e),()=>uT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function xV(t,e){return e?t*(1e3/e):0}const jC=30,xX=t=>!isNaN(parseFloat(t));class SX{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=es.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=es.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jC);return xV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cf(t,e){return new SX(t,e)}function AX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cf(n))}function CX(t,e){const n=ay(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=UQ(s[a]);AX(t,a,o)}}function RX(t){return!!(Fn(t)&&t.add)}function zb(t,e){const n=t.getValue("willChange");if(RX(n))return n.add(e)}function SV(t){return t.props[tV]}const AV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IX=1e-7,NX=12;function DX(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=AV(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>IX&&++o<NX);return a}function hh(t,e,n,r){if(t===e&&n===r)return Vr;const i=s=>DX(s,0,1,t,n);return s=>s===0||s===1?s:AV(i(s),e,r)}const CV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RV=t=>e=>1-t(1-e),IV=hh(.33,1.53,.69,.99),fT=RV(IV),NV=CV(fT),DV=t=>(t*=2)<1?.5*fT(t):.5*(2-Math.pow(2,-10*(t-1))),hT=t=>1-Math.sin(Math.acos(t)),PV=RV(hT),MV=CV(hT),OV=t=>/^0[^.\s]+$/u.test(t);function PX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||OV(t):!0}const qd=t=>Math.round(t*1e5)/1e5,mT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MX(t){return t==null}const OX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pT=(t,e)=>n=>!!(typeof n=="string"&&OX.test(n)&&n.startsWith(t)||e&&!MX(n)&&Object.prototype.hasOwnProperty.call(n,e)),jV=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(mT);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},jX=t=>Ws(0,255,t),Mv={...Lu,transform:t=>Math.round(jX(t))},Wo={test:pT("rgb","red"),parse:jV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mv.transform(t)+", "+Mv.transform(e)+", "+Mv.transform(n)+", "+qd(Af.transform(r))+")"};function VX(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hb={test:pT("#"),parse:VX,transform:Wo.transform},vc={test:pT("hsl","hue"),parse:jV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ji.transform(qd(e))+", "+Ji.transform(qd(n))+", "+qd(Af.transform(r))+")"},Vn={test:t=>Wo.test(t)||Hb.test(t)||vc.test(t),parse:t=>Wo.test(t)?Wo.parse(t):vc.test(t)?vc.parse(t):Hb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wo.transform(t):vc.transform(t)},LX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mT))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(LX))===null||n===void 0?void 0:n.length)||0)>0}const VV="number",LV="color",UX="var",FX="var(",VC="${}",BX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(BX,l=>(Vn.test(l)?(r.color.push(s),i.push(LV),n.push(Vn.parse(l))):l.startsWith(FX)?(r.var.push(s),i.push(UX),n.push(l)):(r.number.push(s),i.push(VV),n.push(parseFloat(l))),++s,VC)).split(VC);return{values:n,split:o,indexes:r,types:i}}function kV(t){return Rf(t).values}function UV(t){const{split:e,types:n}=Rf(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===VV?s+=qd(i[a]):o===LV?s+=Vn.transform(i[a]):s+=i[a]}return s}}const zX=t=>typeof t=="number"?0:t;function HX(t){const e=kV(t);return UV(t)(e.map(zX))}const go={test:kX,parse:kV,createTransformer:UV,getAnimatableNone:HX},qX=new Set(["brightness","contrast","saturate","opacity"]);function GX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mT)||[];if(!r)return t;const i=n.replace(r,"");let s=qX.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const $X=/\b([a-z-]*)\(.*?\)/gu,qb={...go,getAnimatableNone:t=>{const e=t.match($X);return e?e.map(GX).join(" "):t}},KX={...JE,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:qb,WebkitFilter:qb},gT=t=>KX[t];function FV(t,e){let n=gT(t);return n!==qb&&(n=go),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const YX=new Set(["auto","none","0"]);function WX(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!YX.has(s)&&Rf(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=FV(n,i)}const LC=t=>t===Lu||t===we,kC=(t,e)=>parseFloat(t.split(", ")[e]),UC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return kC(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?kC(s[1],t):0}},QX=new Set(["x","y","z"]),XX=Vu.filter(t=>!QX.has(t));function ZX(t){const e=[];return XX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const pu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:UC(4,13),y:UC(5,14)};pu.translateX=pu.x;pu.translateY=pu.y;const ul=new Set;let Gb=!1,$b=!1;function BV(){if($b){const t=Array.from(ul).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=ZX(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$b=!1,Gb=!1,ul.forEach(t=>t.complete()),ul.clear()}function zV(){ul.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($b=!0)})}function JX(){zV(),BV()}class yT{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ul.add(this),Gb||(Gb=!0,Ct.read(zV),Ct.resolveKeyframes(BV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ul.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ul.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const HV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),eZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tZ(t){const e=eZ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function qV(t,e,n=1){const[r,i]=tZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return HV(a)?parseFloat(a):a}return ZE(i)?qV(i,e,n+1):i}const GV=t=>e=>e.test(t),nZ={test:t=>t==="auto",parse:t=>t},$V=[Lu,we,Ji,ha,GQ,qQ,nZ],FC=t=>$V.find(GV(t));class KV extends yT{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),ZE(c))){const u=qV(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!TV.has(r)||e.length!==2)return;const[i,s]=e,a=FC(i),o=FC(s);if(a!==o)if(LC(a)&&LC(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)PX(e[i])&&r.push(i);r.length&&WX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=pu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const BC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(go.test(t)||t==="0")&&!t.startsWith("url("));function rZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iZ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=BC(i,e),o=BC(s,e);return!a||!o?!1:rZ(t)||(n==="spring"||aT(n))&&r}const sZ=t=>t!==null;function oy(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(sZ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const aZ=40;class YV{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=es.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aZ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JX(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=es.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!iZ(e,r,i,s))if(a)this.options.duration=0;else{l&&l(oy(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const jt=(t,e,n)=>t+(e-t)*n;function Ov(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Ov(l,o,t+1/3),s=Ov(l,o,t),a=Ov(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Kp(t,e){return n=>n>0?e:t}const jv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},lZ=[Hb,Wo,vc],cZ=t=>lZ.find(e=>e.test(t));function zC(t){const e=cZ(t);if(!e)return!1;let n=e.parse(t);return e===vc&&(n=oZ(n)),n}const HC=(t,e)=>{const n=zC(t),r=zC(e);if(!n||!r)return Kp(t,e);const i={...n};return s=>(i.red=jv(n.red,r.red,s),i.green=jv(n.green,r.green,s),i.blue=jv(n.blue,r.blue,s),i.alpha=jt(n.alpha,r.alpha,s),Wo.transform(i))},uZ=(t,e)=>n=>e(t(n)),mh=(...t)=>t.reduce(uZ),Kb=new Set(["none","hidden"]);function dZ(t,e){return Kb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fZ(t,e){return n=>jt(t,e,n)}function vT(t){return typeof t=="number"?fZ:typeof t=="string"?ZE(t)?Kp:Vn.test(t)?HC:pZ:Array.isArray(t)?WV:typeof t=="object"?Vn.test(t)?HC:hZ:Kp}function WV(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>vT(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function hZ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=vT(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function mZ(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const pZ=(t,e)=>{const n=go.createTransformer(e),r=Rf(t),i=Rf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Kb.has(t)&&!i.values.length||Kb.has(e)&&!r.values.length?dZ(t,e):mh(WV(mZ(r,i),i.values),n):Kp(t,e)};function QV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jt(t,e,n):vT(t)(t,e)}const gZ=5;function XV(t,e,n){const r=Math.max(e-gZ,0);return xV(n-t(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vv=.001;function yZ({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:r=Bt.mass}){let i,s,a=1-e;a=Ws(Bt.minDamping,Bt.maxDamping,a),t=Ws(Bt.minDuration,Bt.maxDuration,Ls(t)),a<1?(i=c=>{const u=c*a,f=u*t,h=u-n,m=Yb(c,a),w=Math.exp(-f);return Vv-h/m*w},s=c=>{const f=c*a*t,h=f*n+n,m=Math.pow(a,2)*Math.pow(c,2)*t,w=Math.exp(-f),g=Yb(Math.pow(c,2),a);return(-i(c)+Vv>0?-1:1)*((h-m)*w)/g}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-Vv+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const o=5/t,l=bZ(i,s,o);if(t=Vs(t),isNaN(l))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const vZ=12;function bZ(t,e,n){let r=n;for(let i=1;i<vZ;i++)r=r-t(r)/e(r);return r}function Yb(t,e){return t*Math.sqrt(1-e*e)}const wZ=["duration","bounce"],_Z=["stiffness","damping","mass"];function qC(t,e){return e.some(n=>t[n]!==void 0)}function EZ(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!qC(t,_Z)&&qC(t,wZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Bt.mass,stiffness:i,damping:s}}else{const n=yZ(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function ZV(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=EZ({...n,velocity:-Ls(n.velocity||0)}),w=h||0,g=c/(2*Math.sqrt(l*u)),E=a-s,b=Ls(Math.sqrt(l/u)),_=Math.abs(E)<5;r||(r=_?Bt.restSpeed.granular:Bt.restSpeed.default),i||(i=_?Bt.restDelta.granular:Bt.restDelta.default);let T;if(g<1){const P=Yb(b,g);T=k=>{const x=Math.exp(-g*b*k);return a-x*((w+g*b*E)/P*Math.sin(P*k)+E*Math.cos(P*k))}}else if(g===1)T=P=>a-Math.exp(-b*P)*(E+(w+b*E)*P);else{const P=b*Math.sqrt(g*g-1);T=k=>{const x=Math.exp(-g*b*k),A=Math.min(P*k,300);return a-x*((w+g*b*E)*Math.sinh(A)+P*E*Math.cosh(A))/P}}const R={calculatedDuration:m&&f||null,next:P=>{const k=T(P);if(m)o.done=P>=f;else{let x=0;g<1&&(x=P===0?Vs(w):XV(T,P,k));const A=Math.abs(x)<=r,C=Math.abs(a-k)<=i;o.done=A&&C}return o.value=o.done?a:k,o},toString:()=>{const P=Math.min(gV(R),Fb),k=yV(x=>R.next(P*x).value,P,30);return P+"ms "+k}};return R}function GC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},m=A=>o!==void 0&&A<o||l!==void 0&&A>l,w=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let g=n*e;const E=f+g,b=a===void 0?E:a(E);b!==E&&(g=b-f);const _=A=>-g*Math.exp(-A/r),T=A=>b+_(A),R=A=>{const C=_(A),I=T(A);h.done=Math.abs(C)<=c,h.value=h.done?b:I};let P,k;const x=A=>{m(h.value)&&(P=A,k=ZV({keyframes:[h.value,w(h.value)],velocity:XV(T,A,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return x(0),{calculatedDuration:null,next:A=>{let C=!1;return!k&&P===void 0&&(C=!0,R(A),x(A)),P!==void 0&&A>=P?k.next(A-P):(!C&&R(A),h)}}}const TZ=hh(.42,0,1,1),xZ=hh(0,0,.58,1),JV=hh(.42,0,.58,1),SZ=t=>Array.isArray(t)&&typeof t[0]!="number",AZ={linear:Vr,easeIn:TZ,easeInOut:JV,easeOut:xZ,circIn:hT,circInOut:MV,circOut:PV,backIn:fT,backInOut:NV,backOut:IV,anticipate:DV},$C=t=>{if(oT(t)){Qj(t.length===4);const[e,n,r,i]=t;return hh(e,n,r,i)}else if(typeof t=="string")return AZ[t];return t};function CZ(t,e,n){const r=[],i=n||QV,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Vr:e;o=mh(l,o)}r.push(o)}return r}function RZ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Qj(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=CZ(e,r,i),l=o.length,c=u=>{if(a&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const h=hu(t[f],t[f+1],u);return o[f](h)};return n?u=>c(Ws(t[0],t[s-1],u)):c}function IZ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hu(0,e,r);t.push(jt(n,1,i))}}function NZ(t){const e=[0];return IZ(e,t.length-1),e}function DZ(t,e){return t.map(n=>n*e)}function PZ(t,e){return t.map(()=>e||JV).splice(0,t.length-1)}function Yp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=SZ(r)?r.map($C):$C(r),s={done:!1,value:e[0]},a=DZ(n&&n.length===e.length?n:NZ(e),t),o=RZ(a,e,{ease:Array.isArray(i)?i:PZ(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const MZ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ct.update(e,!0),stop:()=>po(e),now:()=>xn.isProcessing?xn.timestamp:es.now()}},OZ={decay:GC,inertia:GC,tween:Yp,keyframes:Yp,spring:ZV},jZ=t=>t/100;class bT extends YV{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||yT,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=aT(n)?n:OZ[n]||Yp;let l,c;o!==Yp&&typeof e[0]!="number"&&(l=mh(jZ,QV(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=gV(u));const{calculatedDuration:f}=u,h=f+i,m=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:w,repeatDelay:g,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-h*(this.speed>=0?1:-1),_=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let T=this.currentTime,R=s;if(m){const A=Math.min(this.currentTime,u)/f;let C=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(w==="reverse"?(I=1-I,g&&(I-=g/f)):w==="mirror"&&(R=a)),T=Ws(0,1,I)*f}const P=_?{done:!1,value:l[0]}:R.next(T);o&&(P.value=o(P.value));let{done:k}=P;!_&&c!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return x&&i!==void 0&&(P.value=oy(l,this.options,i)),E&&E(P.value),x&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Ls(e.calculatedDuration):0}get time(){return Ls(this.currentTime)}set time(e){e=Vs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ls(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=MZ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const VZ=new Set(["opacity","clipPath","filter","transform"]);function LZ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=bV(o,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const kZ=GE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Wp=10,UZ=2e4;function FZ(t){return aT(t.type)||t.type==="spring"||!vV(t.ease)}function BZ(t,e){const n=new bT({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<UZ;)r=n.sample(s),i.push(r.value),s+=Wp;return{times:void 0,keyframes:i,duration:s-Wp,ease:"linear"}}const eL={anticipate:DV,backInOut:NV,circInOut:MV};function zZ(t){return t in eL}class KC extends YV{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new KV(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&$p()&&zZ(s)&&(s=eL[s]),FZ(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:w,...g}=this.options,E=BZ(e,g);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,i=E.times,s=E.ease,a="keyframes"}const u=LZ(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(DC(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;o.set(oy(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ls(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ls(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Vs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Vr;const{animation:r}=n;DC(r,e)}return Vr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:h,...m}=this.options,w=new bT({...m,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),g=Vs(this.time);c.setWithVelocity(w.sample(g-Wp).value,w.sample(g).value,Wp)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return kZ()&&r&&VZ.has(r)&&!l&&!c&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const HZ={type:"spring",stiffness:500,damping:25,restSpeed:10},qZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),GZ={type:"keyframes",duration:.8},$Z={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KZ=(t,{keyframes:e})=>e.length>2?GZ:Ul.has(t)?t.startsWith("scale")?qZ(e[1]):HZ:$Z;function YZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const wT=(t,e,n,r={},i,s)=>a=>{const o=sT(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Vs(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};YZ(o)||(u={...u,...KZ(t,u)}),u.duration&&(u.duration=Vs(u.duration)),u.repeatDelay&&(u.repeatDelay=Vs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const h=oy(u.keyframes,o);if(h!==void 0)return Ct.update(()=>{u.onUpdate(h),u.onComplete()}),new hX([])}return!s&&KC.supports(u)?new KC(u):new bT(u)};function WZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function tL(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||u&&WZ(u,f))continue;const w={delay:n,...sT(a||{},f)};let g=!1;if(window.MotionHandoffAnimation){const b=SV(t);if(b){const _=window.MotionHandoffAnimation(b,f,Ct);_!==null&&(w.startTime=_,g=!0)}}zb(t,f),h.start(wT(f,h,m,t.shouldReduceMotion&&TV.has(f)?{type:!1}:w,t,g));const E=h.animation;E&&c.push(E)}return o&&Promise.all(c).then(()=>{Ct.update(()=>{o&&CX(t,o)})}),c}function Wb(t,e,n={}){var r;const i=ay(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(tL(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=s;return QZ(t,e,u+c,f,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function QZ(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(XZ).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(Wb(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function XZ(t,e){return t.sortNodePosition(e)}function ZZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Wb(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Wb(t,e,n);else{const i=typeof e=="function"?ay(t,e,n.custom):e;r=Promise.all(tL(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const JZ=KE.length;function nL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<JZ;n++){const r=KE[n],i=t.props[r];(Sf(i)||i===!1)&&(e[r]=i)}return e}const eJ=[...$E].reverse(),tJ=$E.length;function nJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ZZ(t,n,r)))}function rJ(t){let e=nJ(t),n=YC(),r=!0;const i=l=>(c,u)=>{var f;const h=ay(t,u,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:w,...g}=h;c={...c,...g,...w}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,u=nL(t.parent)||{},f=[],h=new Set;let m={},w=1/0;for(let E=0;E<tJ;E++){const b=eJ[E],_=n[b],T=c[b]!==void 0?c[b]:u[b],R=Sf(T),P=b===l?_.isActive:null;P===!1&&(w=E);let k=T===u[b]&&T!==c[b]&&R;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),_.protectedKeys={...m},!_.isActive&&P===null||!T&&!_.prevProp||iy(T)||typeof T=="boolean")continue;const x=iJ(_.prevProp,T);let A=x||b===l&&_.isActive&&!k&&R||E>w&&R,C=!1;const I=Array.isArray(T)?T:[T];let D=I.reduce(i(b),{});P===!1&&(D={});const{prevResolvedValues:O={}}=_,M={...O,...D},ee=W=>{A=!0,h.has(W)&&(C=!0,h.delete(W)),_.needsAnimating[W]=!0;const q=t.getValue(W);q&&(q.liveStyle=!1)};for(const W in M){const q=D[W],V=O[W];if(m.hasOwnProperty(W))continue;let L=!1;Ub(q)&&Ub(V)?L=!pV(q,V):L=q!==V,L?q!=null?ee(W):h.add(W):q!==void 0&&h.has(W)?ee(W):_.protectedKeys[W]=!0}_.prevProp=T,_.prevResolvedValues=D,_.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(k&&x)||C)&&f.push(...I.map(W=>({animation:W,options:{type:b}})))}if(h.size){const E={};h.forEach(b=>{const _=t.getBaseTarget(b),T=t.getValue(b);T&&(T.liveStyle=!0),E[b]=_??null}),f.push({animation:E})}let g=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function o(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=a(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=YC(),r=!0}}}function iJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pV(e,t):!1}function Oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YC(){return{animate:Oo(!0),whileInView:Oo(),whileHover:Oo(),whileTap:Oo(),whileDrag:Oo(),whileFocus:Oo(),exit:Oo()}}class xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sJ extends xo{constructor(e){super(e),e.animationState||(e.animationState=rJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();iy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let aJ=0;class oJ extends xo{constructor(){super(...arguments),this.id=aJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lJ={animation:{Feature:sJ},exit:{Feature:oJ}};function If(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ph(t){return{point:{x:t.pageX,y:t.pageY}}}const cJ=t=>e=>lT(e)&&t(e,ph(e));function Gd(t,e,n,r){return If(t,e,cJ(n),r)}const WC=(t,e)=>Math.abs(t-e);function uJ(t,e){const n=WC(t.x,e.x),r=WC(t.y,e.y);return Math.sqrt(n**2+r**2)}class rL{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=kv(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=uJ(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:w}=f,{timestamp:g}=xn;this.history.push({...w,timestamp:g});const{onStart:E,onMove:b}=this.handlers;h||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Lv(h,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=kv(f.type==="pointercancel"?this.lastMoveEventInfo:Lv(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,E),w&&w(f,E)},!lT(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=ph(e),o=Lv(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=xn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,kv(o,this.history)),this.removeListeners=mh(Gd(this.contextWindow,"pointermove",this.handlePointerMove),Gd(this.contextWindow,"pointerup",this.handlePointerUp),Gd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),po(this.updatePoint)}}function Lv(t,e){return e?{point:e(t.point)}:t}function QC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kv({point:t},e){return{point:t,delta:QC(t,iL(e)),offset:QC(t,dJ(e)),velocity:fJ(e,.1)}}function dJ(t){return t[0]}function iL(t){return t[t.length-1]}function fJ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=iL(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Vs(e)));)n--;if(!r)return{x:0,y:0};const s=Ls(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const sL=1e-4,hJ=1-sL,mJ=1+sL,aL=.01,pJ=0-aL,gJ=0+aL;function Ur(t){return t.max-t.min}function yJ(t,e,n){return Math.abs(t-e)<=n}function XC(t,e,n,r=.5){t.origin=r,t.originPoint=jt(e.min,e.max,t.origin),t.scale=Ur(n)/Ur(e),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hJ&&t.scale<=mJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=pJ&&t.translate<=gJ||isNaN(t.translate))&&(t.translate=0)}function $d(t,e,n,r){XC(t.x,e.x,n.x,r?r.originX:void 0),XC(t.y,e.y,n.y,r?r.originY:void 0)}function ZC(t,e,n){t.min=n.min+e.min,t.max=t.min+Ur(e)}function vJ(t,e,n){ZC(t.x,e.x,n.x),ZC(t.y,e.y,n.y)}function JC(t,e,n){t.min=e.min-n.min,t.max=t.min+Ur(e)}function Kd(t,e,n){JC(t.x,e.x,n.x),JC(t.y,e.y,n.y)}function bJ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?jt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?jt(n,t,r.max):Math.min(t,n)),t}function eR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wJ(t,{top:e,left:n,bottom:r,right:i}){return{x:eR(t.x,n,i),y:eR(t.y,e,r)}}function tR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _J(t,e){return{x:tR(t.x,e.x),y:tR(t.y,e.y)}}function EJ(t,e){let n=.5;const r=Ur(t),i=Ur(e);return i>r?n=hu(e.min,e.max-r,t.min):r>i&&(n=hu(t.min,t.max-i,e.min)),Ws(0,1,n)}function TJ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qb=.35;function xJ(t=Qb){return t===!1?t=0:t===!0&&(t=Qb),{x:nR(t,"left","right"),y:nR(t,"top","bottom")}}function nR(t,e,n){return{min:rR(t,e),max:rR(t,n)}}function rR(t,e){return typeof t=="number"?t:t[e]||0}const iR=()=>({translate:0,scale:1,origin:0,originPoint:0}),bc=()=>({x:iR(),y:iR()}),sR=()=>({min:0,max:0}),qt=()=>({x:sR(),y:sR()});function qr(t){return[t("x"),t("y")]}function oL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function SJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Uv(t){return t===void 0||t===1}function Xb({scale:t,scaleX:e,scaleY:n}){return!Uv(t)||!Uv(e)||!Uv(n)}function Fo(t){return Xb(t)||lL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lL(t){return aR(t.x)||aR(t.y)}function aR(t){return t&&t!=="0%"}function Qp(t,e,n){const r=t-n,i=e*r;return n+i}function oR(t,e,n,r,i){return i!==void 0&&(t=Qp(t,i,r)),Qp(t,n,r)+e}function Zb(t,e=0,n=1,r,i){t.min=oR(t.min,e,n,r,i),t.max=oR(t.max,e,n,r,i)}function cL(t,{x:e,y:n}){Zb(t.x,e.translate,e.scale,e.originPoint),Zb(t.y,n.translate,n.scale,n.originPoint)}const lR=.999999999999,cR=1.0000000000001;function CJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_c(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,cL(t,a)),r&&Fo(s.latestValues)&&_c(t,s.latestValues))}e.x<cR&&e.x>lR&&(e.x=1),e.y<cR&&e.y>lR&&(e.y=1)}function wc(t,e){t.min=t.min+e,t.max=t.max+e}function uR(t,e,n,r,i=.5){const s=jt(t.min,t.max,i);Zb(t,e,n,s,r)}function _c(t,e){uR(t.x,e.x,e.scaleX,e.scale,e.originX),uR(t.y,e.y,e.scaleY,e.scale,e.originY)}function uL(t,e){return oL(AJ(t.getBoundingClientRect(),e))}function RJ(t,e,n){const r=uL(t,n),{scroll:i}=e;return i&&(wc(r.x,i.offset.x),wc(r.y,i.offset.y)),r}const dL=({current:t})=>t?t.ownerDocument.defaultView:null,IJ=new WeakMap;class NJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ph(u).point)},s=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:w}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EX(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(E=>{let b=this.getAxisMotionValue(E).get()||0;if(Ji.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[E];T&&(b=Ur(T)*(parseFloat(b)/100))}}this.originPoint[E]=b}),w&&Ct.postRender(()=>w(u,f)),zb(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:w,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:E}=f;if(m&&this.currentDirection===null){this.currentDirection=DJ(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),g&&g(u,f)},o=(u,f)=>this.stop(u,f),l=()=>qr(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new rL(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:dL(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ct.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!tm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=bJ(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&yc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=wJ(i.layoutBox,n):this.constraints=!1,this.elastic=xJ(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=TJ(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=RJ(r,i.root,this.visualElement.getTransformPagePoint());let a=_J(i.layout.layoutBox,s);if(n){const o=n(SJ(a));this.hasMutatedConstraints=!!o,o&&(a=oL(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=qr(u=>{if(!tm(u,n,this.currentDirection))return;let f=l&&l[u]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return zb(this.visualElement,e),r.start(wT(e,r,0,n,this.visualElement,!1))}stopAnimation(){qr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qr(n=>{const{drag:r}=this.getProps();if(!tm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-jt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qr(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=EJ({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qr(a=>{if(!tm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(jt(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;IJ.set(this.visualElement,this);const e=this.visualElement.current,n=Gd(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();yc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ct.read(r);const a=If(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(qr(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Qb,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function tm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function DJ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class PJ extends xo{constructor(e){super(e),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new NJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const dR=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class MJ extends xo{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(e){this.session=new rL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dR(e),onStart:dR(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Ct.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Gd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const od={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=fR(t,e.target.x),r=fR(t,e.target.y);return`${n}% ${r}%`}},OJ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=go.parse(t);if(i.length>5)return r;const s=go.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=jt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class jJ extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;tX(VJ),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),jm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Ct.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),WE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fL(t){const[e,n]=gQ(),r=v.useContext(Yj);return p.jsx(jJ,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(nV),isPresent:e,safeToRemove:n})}const VJ={borderRadius:{...od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:od,borderTopRightRadius:od,borderBottomLeftRadius:od,borderBottomRightRadius:od,boxShadow:OJ};function LJ(t,e,n){const r=Fn(t)?t:Cf(t);return r.start(wT("",r,e,n)),r.animation}function kJ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const UJ=(t,e)=>t.depth-e.depth;class FJ{constructor(){this.children=[],this.isDirty=!1}add(e){cT(this.children,e),this.isDirty=!0}remove(e){uT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UJ),this.isDirty=!1,this.children.forEach(e)}}function BJ(t,e){const n=es.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(po(r),t(s-e))};return Ct.read(r,!0),()=>po(r)}const hL=["TopLeft","TopRight","BottomLeft","BottomRight"],zJ=hL.length,hR=t=>typeof t=="string"?parseFloat(t):t,mR=t=>typeof t=="number"||we.test(t);function HJ(t,e,n,r,i,s){i?(t.opacity=jt(0,n.opacity!==void 0?n.opacity:1,qJ(r)),t.opacityExit=jt(e.opacity!==void 0?e.opacity:1,0,GJ(r))):s&&(t.opacity=jt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<zJ;a++){const o=`border${hL[a]}Radius`;let l=pR(e,o),c=pR(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||mR(l)===mR(c)?(t[o]=Math.max(jt(hR(l),hR(c),r),0),(Ji.test(c)||Ji.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,r))}function pR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qJ=mL(0,.5,PV),GJ=mL(.5,.95,Vr);function mL(t,e,n){return r=>r<t?0:r>e?1:n(hu(t,e,r))}function gR(t,e){t.min=e.min,t.max=e.max}function Hr(t,e){gR(t.x,e.x),gR(t.y,e.y)}function yR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vR(t,e,n,r,i){return t-=e,t=Qp(t,1/n,r),i!==void 0&&(t=Qp(t,1/i,r)),t}function $J(t,e=0,n=1,r=.5,i,s=t,a=t){if(Ji.test(e)&&(e=parseFloat(e),e=jt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=jt(s.min,s.max,r);t===s&&(o-=e),t.min=vR(t.min,e,n,o,i),t.max=vR(t.max,e,n,o,i)}function bR(t,e,[n,r,i],s,a){$J(t,e[n],e[r],e[i],e.scale,s,a)}const KJ=["x","scaleX","originX"],YJ=["y","scaleY","originY"];function wR(t,e,n,r){bR(t.x,e,KJ,n?n.x:void 0,r?r.x:void 0),bR(t.y,e,YJ,n?n.y:void 0,r?r.y:void 0)}function _R(t){return t.translate===0&&t.scale===1}function pL(t){return _R(t.x)&&_R(t.y)}function ER(t,e){return t.min===e.min&&t.max===e.max}function WJ(t,e){return ER(t.x,e.x)&&ER(t.y,e.y)}function TR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gL(t,e){return TR(t.x,e.x)&&TR(t.y,e.y)}function xR(t){return Ur(t.x)/Ur(t.y)}function SR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QJ{constructor(){this.members=[]}add(e){cT(this.members,e),e.scheduleRender()}remove(e){if(uT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XJ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Bo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ed=typeof window<"u"&&window.MotionDebug!==void 0,Fv=["","X","Y","Z"],ZJ={visibility:"hidden"},AR=1e3;let JJ=0;function Bv(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yL(r)}function vL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=JJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ed&&(Bo.totalNodes=Bo.resolvedTargetDeltas=Bo.recalculatedProjection=0),this.nodes.forEach(nee),this.nodes.forEach(oee),this.nodes.forEach(lee),this.nodes.forEach(ree),Ed&&window.MotionDebug.record(Bo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new FJ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new dT),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kJ(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=BJ(h,250),jm.hasAnimatedSinceResize&&(jm.hasAnimatedSinceResize=!1,this.nodes.forEach(RR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||hee,{onLayoutAnimationStart:E,onLayoutAnimationComplete:b}=u.getProps(),_=!this.targetLayout||!gL(this.targetLayout,w)||m,T=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const R={...sT(g,"layout"),onPlay:E,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else h||RR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cee),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CR);return}this.isUpdating||this.nodes.forEach(see),this.isUpdating=!1,this.nodes.forEach(aee),this.nodes.forEach(eee),this.nodes.forEach(tee),this.clearAllSnapshots();const o=es.now();xn.delta=Ws(0,1e3/60,o-xn.timestamp),xn.timestamp=o,xn.isProcessing=!0,Dv.update.process(xn),Dv.preRender.process(xn),Dv.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,WE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iee),this.sharedNodes.forEach(uee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!pL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||Fo(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),mee(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return qt();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(pee))){const{scroll:u}=this.root;u&&(wc(l.x,u.offset.x),wc(l.y,u.offset.y))}return l}removeElementScroll(a){var o;const l=qt();if(Hr(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Hr(l,a),wc(l.x,f.offset.x),wc(l.y,f.offset.y))}return l}applyTransform(a,o=!1){const l=qt();Hr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_c(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Fo(u.latestValues)&&_c(l,u.latestValues)}return Fo(this.latestValues)&&_c(l,this.latestValues),l}removeTransform(a){const o=qt();Hr(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fo(c.latestValues))continue;Xb(c.latestValues)&&c.updateSnapshot();const u=qt(),f=c.measurePageBox();Hr(u,f),wR(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Fo(this.latestValues)&&wR(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Kd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hr(this.target,this.layout.layoutBox),cL(this.target,this.targetDelta)):Hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Kd(this.relativeTargetOrigin,this.target,m.target),Hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ed&&Bo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xb(this.parent.latestValues)||lL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Hr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;CJ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qt());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yR(this.prevProjectionDelta.x,this.projectionDelta.x),yR(this.prevProjectionDelta.y,this.projectionDelta.y)),$d(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!SR(this.projectionDelta.x,this.prevProjectionDelta.x)||!SR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Ed&&Bo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bc(),this.projectionDelta=bc(),this.projectionDeltaWithTransform=bc()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=bc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=qt(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,g=m!==w,E=this.getStack(),b=!E||E.members.length<=1,_=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(fee));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const P=R/1e3;IR(f.x,a.x,P),IR(f.y,a.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kd(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dee(this.relativeTarget,this.relativeTargetOrigin,h,P),T&&WJ(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=qt()),Hr(T,this.relativeTarget)),g&&(this.animationValues=u,HJ(u,c,this.latestValues,P,_,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{jm.hasAnimatedSinceResize=!0,this.currentAnimation=LJ(0,AR,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&bL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qt();const f=Ur(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=Ur(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Hr(o,l),_c(o,u),$d(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new QJ),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Bv("z",a,c,this.animationValues);for(let u=0;u<Fv.length;u++)Bv(`rotate${Fv[u]}`,a,c,this.animationValues),Bv(`skew${Fv[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZJ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Mm(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Mm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=XJ(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y:w}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Gp){if(h[g]===void 0)continue;const{correct:E,applyTo:b}=Gp[g],_=c.transform==="none"?h[g]:E(h[g],f);if(b){const T=b.length;for(let R=0;R<T;R++)c[b[R]]=_}else c[g]=_}return this.options.layoutId&&(c.pointerEvents=f===this?Mm(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(CR),this.root.sharedNodes.clear()}}}function eee(t){t.updateLayout()}function tee(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?qr(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=Ur(h);h.min=r[f].min,h.max=h.min+m}):bL(s,n.layoutBox,r)&&qr(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=Ur(r[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const o=bc();$d(o,r,n.layoutBox);const l=bc();a?$d(l,t.applyTransform(i,!0),n.measuredBox):$d(l,r,n.layoutBox);const c=!pL(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const w=qt();Kd(w,n.layoutBox,h.layoutBox);const g=qt();Kd(g,r,m.layoutBox),gL(w,g)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nee(t){Ed&&Bo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ree(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iee(t){t.clearSnapshot()}function CR(t){t.clearMeasurements()}function see(t){t.isLayoutDirty=!1}function aee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oee(t){t.resolveTargetDelta()}function lee(t){t.calcProjection()}function cee(t){t.resetSkewAndRotation()}function uee(t){t.removeLeadSnapshot()}function IR(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NR(t,e,n,r){t.min=jt(e.min,n.min,r),t.max=jt(e.max,n.max,r)}function dee(t,e,n,r){NR(t.x,e.x,n.x,r),NR(t.y,e.y,n.y,r)}function fee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hee={duration:.45,ease:[.4,0,.1,1]},DR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),PR=DR("applewebkit/")&&!DR("chrome/")?Math.round:Vr;function MR(t){t.min=PR(t.min),t.max=PR(t.max)}function mee(t){MR(t.x),MR(t.y)}function bL(t,e,n){return t==="position"||t==="preserve-aspect"&&!yJ(xR(e),xR(n),.2)}function pee(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gee=vL({attachResizeListener:(t,e)=>If(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zv={current:void 0},wL=vL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zv.current){const t=new gee({});t.mount(window),t.setOptions({layoutScroll:!0}),zv.current=t}return zv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yee={pan:{Feature:MJ},drag:{Feature:PJ,ProjectionNode:wL,MeasureLayout:fL}};function OR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ct.postRender(()=>s(e,ph(e)))}class vee extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=yX(e,n=>(OR(this.node,n,"Start"),r=>OR(this.node,r,"End"))))}unmount(){}}class bee extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mh(If(this.node.current,"focus",()=>this.onFocus()),If(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jR(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ct.postRender(()=>s(e,ph(e)))}class wee extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=_X(e,n=>(jR(this.node,n,"Start"),(r,{success:i})=>jR(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jb=new WeakMap,Hv=new WeakMap,_ee=t=>{const e=Jb.get(t.target);e&&e(t)},Eee=t=>{t.forEach(_ee)};function Tee({root:t,...e}){const n=t||document;Hv.has(n)||Hv.set(n,{});const r=Hv.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Eee,{root:t,...e})),r[i]}function xee(t,e,n){const r=Tee(e);return Jb.set(t,n),r.observe(t),()=>{Jb.delete(t),r.unobserve(t)}}const See={some:0,all:1};class Aee extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:See[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return xee(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cee(e,n))&&this.startObserver()}unmount(){}}function Cee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ree={inView:{Feature:Aee},tap:{Feature:wee},focus:{Feature:bee},hover:{Feature:vee}},Iee={layout:{ProjectionNode:wL,MeasureLayout:fL}},ew={current:null},_L={current:!1};function Nee(){if(_L.current=!0,!!qE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ew.current=t.matches;t.addListener(e),e()}else ew.current=!1}const Dee=[...$V,Vn,go],Pee=t=>Dee.find(GV(t)),VR=new WeakMap;function Mee(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Fn(i))t.addValue(r,i);else if(Fn(s))t.addValue(r,Cf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Cf(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const LR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Oee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=es.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ct.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=sy(n),this.isVariantNode=eV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const w=h[m];l[m]!==void 0&&Fn(w)&&w.set(l[m],!1)}}mount(e){this.current=e,VR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_L.current||Nee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ew.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){VR.delete(this.current),this.projection&&this.projection.unmount(),po(this.notifyUpdate),po(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ul.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mu){const n=mu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LR.length;r++){const i=LR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Mee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(HV(i)||OV(i))?i=parseFloat(i):!Pee(i)&&go.test(n)&&(i=FV(e,n)),this.setBaseTarget(e,Fn(i)?i.get():i)),Fn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=XE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Fn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class EL extends Oee{constructor(){super(...arguments),this.KeyframeResolver=KV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jee(t){return window.getComputedStyle(t)}class Vee extends EL{constructor(){super(...arguments),this.type="html",this.renderInstance=cV}readValueFromInstance(e,n){if(Ul.has(n)){const r=gT(n);return r&&r.default||0}else{const r=jee(e),i=(aV(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uL(e,n)}build(e,n,r){eT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return iT(e,n,r)}}class Lee extends EL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ul.has(n)){const r=gT(n);return r&&r.default||0}return n=uV.has(n)?n:YE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return hV(e,n,r)}build(e,n,r){tT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){dV(e,n,r,i)}mount(e){this.isSVGTag=rT(e.tagName),super.mount(e)}}const kee=(t,e)=>QE(t)?new Lee(e):new Vee(e,{allowProjection:t!==v.Fragment}),Uee=uX({...lJ,...Ree,...yee,...Iee},kee),Fee=SQ(Uee),Bee=({tables:t,onTableSelect:e,selectedTable:n,onUpdateTablePosition:r,isEditing:i=!1})=>{const[s,a]=v.useState(!1),o=c=>{switch(c){case"available":return"bg-green-100 hover:bg-green-200 border-green-500";case"occupied":return"bg-red-100 hover:bg-red-200 border-red-500";case"ordering":return"bg-yellow-100 hover:bg-yellow-200 border-yellow-500";case"reserved":return"bg-blue-100 hover:bg-blue-200 border-blue-500";default:return"bg-gray-100 hover:bg-gray-200 border-gray-500"}},l=c=>{switch(c){case"available":return"Disponible";case"occupied":return"Ocupada";case"ordering":return"Ordenando";case"reserved":return"Reservada";default:return"Desconocido"}};return p.jsx("div",{className:"relative w-full h-[400px] sm:h-[500px] md:h-[600px] lg:h-[700px] xl:h-[800px] border rounded-lg bg-white overflow-visible p-0",style:{position:"relative",backgroundImage:"linear-gradient(to right, #ececec 1px, transparent 1px), linear-gradient(to bottom, #ececec 1px, transparent 1px)",backgroundSize:"40px 40px"},children:t.map(c=>p.jsx(Fee.div,{className:$e("absolute cursor-pointer w-12 h-8 sm:w-14 sm:h-10 md:w-16 md:h-12 lg:w-20 lg:h-16 rounded-lg border-2 flex flex-col items-center justify-center",o(c.status),(n==null?void 0:n.id)===c.id&&"ring-2 ring-blue-500",s&&"cursor-grabbing"),initial:!1,style:{left:`${c.x}%`,top:`${c.y}%`,transform:"translate(-50%, -50%)"},drag:i,dragMomentum:!1,onDragStart:()=>a(!0),dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:0,onDragEnd:u=>{if(a(!1),r&&u.target instanceof HTMLDivElement){const h=u.target.parentElement.getBoundingClientRect(),m=u.target.getBoundingClientRect(),w=(m.left+m.width/2-h.left)/h.width*100,g=(m.top+m.height/2-h.top)/h.height*100;r(c.id,{x:Math.max(0,Math.min(100,w)),y:Math.max(0,Math.min(100,g))})}},onClick:()=>!s&&e(c),children:p.jsxs(Me,{variant:"ghost",className:"h-full w-full flex flex-col items-center justify-center p-0",children:[p.jsx("img",{src:"/assets/mesa-icon.svg",alt:`Mesa ${c.number}`,className:"w-5 h-5 mb-0.5"}),p.jsxs("span",{className:"text-2xs font-bold leading-none",children:["M",c.number]}),p.jsx("p",{className:"text-2xs text-muted-foreground leading-none hidden md:block",children:l(c.status)})]})},c.id))})},zee=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),{showNotification:i}=Zs();return v.useEffect(()=>{const c=TE(mo(Yt,"tables")),u=NE(c,f=>{const h=[];f.forEach(m=>{h.push({...m.data(),id:m.id})}),e(h),r(!1)},f=>{console.error("Error fetching tables:",f),i("Error","Error al cargar las mesas","error"),r(!1)});return()=>u()},[]),{tables:t,loading:n,addTable:async c=>{try{await IE(mo(Yt,"tables"),{...c,createdAt:rt.fromDate(new Date)}),i("xito","Mesa agregada correctamente","success")}catch(u){throw console.error("Error adding table:",u),i("Error","Error al agregar la mesa","error"),u}},updateTable:async(c,u)=>{try{await fu(Or(Yt,"tables",c),u),i("xito","Mesa actualizada correctamente","success")}catch(f){throw console.error("Error updating table:",f),i("Error","Error al actualizar la mesa","error"),f}},deleteTable:async c=>{try{await WO(Or(Yt,"tables",c)),i("xito","Mesa eliminada correctamente","success")}catch(u){throw console.error("Error deleting table:",u),i("Error","Error al eliminar la mesa","error"),u}},updateTableStatus:async(c,u)=>{try{await fu(Or(Yt,"tables",c),{status:u,updatedAt:rt.fromDate(new Date)}),i("xito","Estado de la mesa actualizado","success")}catch(f){throw console.error("Error updating table status:",f),i("Error","Error al actualizar el estado de la mesa","error"),f}}}};function tw(t,[e,n]){return Math.min(n,Math.max(e,t))}function Hee(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var _T="ScrollArea",[TL]=Ai(_T),[qee,si]=TL(_T),xL=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=v.useState(null),[c,u]=v.useState(null),[f,h]=v.useState(null),[m,w]=v.useState(null),[g,E]=v.useState(null),[b,_]=v.useState(0),[T,R]=v.useState(0),[P,k]=v.useState(!1),[x,A]=v.useState(!1),C=Qe(e,D=>l(D)),I=uh(i);return p.jsx(qee,{scope:n,type:r,dir:I,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:E,scrollbarYEnabled:x,onScrollbarYEnabledChange:A,onCornerWidthChange:_,onCornerHeightChange:R,children:p.jsx(Ae.div,{dir:I,...a,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});xL.displayName=_T;var SL="ScrollAreaViewport",AL=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=si(SL,n),o=v.useRef(null),l=Qe(e,o,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});AL.displayName=SL;var ls="ScrollAreaScrollbar",ET=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=si(ls,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return v.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?p.jsx(Gee,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx($ee,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(CL,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(TT,{...r,ref:e}):null});ET.displayName=ls;var Gee=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=si(ls,t.__scopeScrollArea),[s,a]=v.useState(!1);return v.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Ci,{present:n||s,children:p.jsx(CL,{"data-state":s?"visible":"hidden",...r,ref:e})})}),$ee=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=si(ls,t.__scopeScrollArea),s=t.orientation==="horizontal",a=cy(()=>l("SCROLL_END"),100),[o,l]=Hee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),v.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const m=c[u];f!==m&&(l("SCROLL"),a()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,a]),p.jsx(Ci,{present:n||o!=="hidden",children:p.jsx(TT,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ve(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ve(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),CL=v.forwardRef((t,e)=>{const n=si(ls,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=v.useState(!1),o=t.orientation==="horizontal",l=cy(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?c:u)}},10);return gu(n.viewport,l),gu(n.content,l),p.jsx(Ci,{present:r||s,children:p.jsx(TT,{"data-state":s?"visible":"hidden",...i,ref:e})})}),TT=v.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=si(ls,t.__scopeScrollArea),s=v.useRef(null),a=v.useRef(0),[o,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=PL(o.viewport,o.content),u={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,m){return Zee(h,a.current,o,m)}return n==="horizontal"?p.jsx(Kee,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,m=kR(h,o,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?p.jsx(Yee,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,m=kR(h,o);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Kee=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=si(ls,t.__scopeScrollArea),[a,o]=v.useState(),l=v.useRef(null),c=Qe(e,l,s.onScrollbarXChange);return v.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),p.jsx(IL,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ly(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),OL(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Zp(a.paddingLeft),paddingEnd:Zp(a.paddingRight)}})}})}),Yee=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=si(ls,t.__scopeScrollArea),[a,o]=v.useState(),l=v.useRef(null),c=Qe(e,l,s.onScrollbarYChange);return v.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),p.jsx(IL,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ly(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),OL(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Zp(a.paddingTop),paddingEnd:Zp(a.paddingBottom)}})}})}),[Wee,RL]=TL(ls),IL=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,m=si(ls,n),[w,g]=v.useState(null),E=Qe(e,C=>g(C)),b=v.useRef(null),_=v.useRef(""),T=m.viewport,R=r.content-r.viewport,P=Kn(u),k=Kn(l),x=cy(f,10);function A(C){if(b.current){const I=C.clientX-b.current.left,D=C.clientY-b.current.top;c({x:I,y:D})}}return v.useEffect(()=>{const C=I=>{const D=I.target;(w==null?void 0:w.contains(D))&&P(I,R)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[T,w,R,P]),v.useEffect(k,[r,k]),gu(w,x),gu(m.content,x),p.jsx(Wee,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:Kn(s),onThumbPointerUp:Kn(a),onThumbPositionChange:k,onThumbPointerDown:Kn(o),children:p.jsx(Ae.div,{...h,ref:E,style:{position:"absolute",...h.style},onPointerDown:ve(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=w.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),A(C))}),onPointerMove:ve(t.onPointerMove,A),onPointerUp:ve(t.onPointerUp,C=>{const I=C.target;I.hasPointerCapture(C.pointerId)&&I.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=_.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Xp="ScrollAreaThumb",NL=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=RL(Xp,t.__scopeScrollArea);return p.jsx(Ci,{present:n||i.hasThumb,children:p.jsx(Qee,{ref:e,...r})})}),Qee=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=si(Xp,n),a=RL(Xp,n),{onThumbPositionChange:o}=a,l=Qe(e,f=>a.onThumbChange(f)),c=v.useRef(void 0),u=cy(()=>{c.current&&(c.current(),c.current=void 0)},100);return v.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(u(),!c.current){const m=Jee(f,o);c.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,u,o]),p.jsx(Ae.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ve(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),w=f.clientX-m.left,g=f.clientY-m.top;a.onThumbPointerDown({x:w,y:g})}),onPointerUp:ve(t.onPointerUp,a.onThumbPointerUp)})});NL.displayName=Xp;var xT="ScrollAreaCorner",DL=v.forwardRef((t,e)=>{const n=si(xT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(Xee,{...t,ref:e}):null});DL.displayName=xT;var Xee=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=si(xT,n),[s,a]=v.useState(0),[o,l]=v.useState(0),c=!!(s&&o);return gu(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),gu(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),a(u)}),c?p.jsx(Ae.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Zp(t){return t?parseInt(t,10):0}function PL(t,e){const n=t/e;return isNaN(n)?0:n}function ly(t){const e=PL(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Zee(t,e,n,r="ltr"){const i=ly(n),s=i/2,a=e||s,o=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return ML([l,c],f)(t)}function kR(t,e,n="ltr"){const r=ly(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=n==="ltr"?[0,a]:[a*-1,0],c=tw(t,l);return ML([0,a],[0,o])(c)}function ML(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function OL(t,e){return t>0&&t<e}var Jee=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function cy(t,e){const n=Kn(t),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function gu(t,e){const n=Kn(e);Pn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var jL=xL,ete=AL,tte=DL;const dl=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(jL,{ref:r,className:$e("relative overflow-hidden",t),...n,children:[p.jsx(ete,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(ST,{}),p.jsx(tte,{})]}));dl.displayName=jL.displayName;const ST=v.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(ET,{ref:r,orientation:e,className:$e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(NL,{className:"relative flex-1 rounded-full bg-border"})}));ST.displayName=ET.displayName;function nte({categories:t,selectedCategory:e,onSelectCategory:n}){const r=v.useRef(null),i=v.useRef(!1),s=v.useRef(0),a=v.useRef(0),o=f=>{var h,m;i.current=!0,s.current=f.pageX-(((h=r.current)==null?void 0:h.offsetLeft)||0),a.current=((m=r.current)==null?void 0:m.scrollLeft)||0,document.body.style.cursor="grabbing"},l=()=>{i.current=!1,document.body.style.cursor=""},c=f=>{var w;if(!i.current)return;f.preventDefault();const m=f.pageX-(((w=r.current)==null?void 0:w.offsetLeft)||0)-s.current;r.current&&(r.current.scrollLeft=a.current-m)},u=f=>{n(f)};return p.jsxs(dl,{className:"w-full whitespace-nowrap rounded-md border bg-white shadow-sm",children:[p.jsx("div",{ref:r,className:"flex w-max space-x-2 p-2 overflow-x-auto select-none",onMouseDown:o,onMouseUp:l,onMouseLeave:l,onMouseMove:c,style:{cursor:"grab"},children:t.map(f=>p.jsx(Ze,{className:$e("inline-flex shrink-0 cursor-pointer transition-colors",e===f?"border-primary bg-primary/10":"hover:bg-muted/50"),onClick:()=>u(f),style:{minWidth:"max-content"},children:p.jsx(et,{className:"p-4",children:p.jsx("p",{className:"font-semibold",children:f})})},f))}),p.jsx(ST,{orientation:"horizontal"})]})}var qv="focusScope.autoFocusOnMount",Gv="focusScope.autoFocusOnUnmount",UR={bubbles:!1,cancelable:!0},rte="FocusScope",AT=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=v.useState(null),c=Kn(i),u=Kn(s),f=v.useRef(null),h=Qe(e,g=>l(g)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let g=function(T){if(m.paused||!o)return;const R=T.target;o.contains(R)?f.current=R:ma(f.current,{select:!0})},E=function(T){if(m.paused||!o)return;const R=T.relatedTarget;R!==null&&(o.contains(R)||ma(f.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&ma(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",E);const _=new MutationObserver(b);return o&&_.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",E),_.disconnect()}}},[r,o,m.paused]),v.useEffect(()=>{if(o){BR.add(m);const g=document.activeElement;if(!o.contains(g)){const b=new CustomEvent(qv,UR);o.addEventListener(qv,c),o.dispatchEvent(b),b.defaultPrevented||(ite(cte(VL(o)),{select:!0}),document.activeElement===g&&ma(o))}return()=>{o.removeEventListener(qv,c),setTimeout(()=>{const b=new CustomEvent(Gv,UR);o.addEventListener(Gv,u),o.dispatchEvent(b),b.defaultPrevented||ma(g??document.body,{select:!0}),o.removeEventListener(Gv,u),BR.remove(m)},0)}}},[o,c,u,m]);const w=v.useCallback(g=>{if(!n&&!r||m.paused)return;const E=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(E&&b){const _=g.currentTarget,[T,R]=ste(_);T&&R?!g.shiftKey&&b===R?(g.preventDefault(),n&&ma(T,{select:!0})):g.shiftKey&&b===T&&(g.preventDefault(),n&&ma(R,{select:!0})):b===_&&g.preventDefault()}},[n,r,m.paused]);return p.jsx(Ae.div,{tabIndex:-1,...a,ref:h,onKeyDown:w})});AT.displayName=rte;function ite(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ma(r,{select:e}),document.activeElement!==n)return}function ste(t){const e=VL(t),n=FR(e,t),r=FR(e.reverse(),t);return[n,r]}function VL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function FR(t,e){for(const n of t)if(!ate(n,{upTo:e}))return n}function ate(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ote(t){return t instanceof HTMLInputElement&&"select"in t}function ma(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ote(t)&&e&&t.select()}}var BR=lte();function lte(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=zR(t,e),t.unshift(e)},remove(e){var n;t=zR(t,e),(n=t[0])==null||n.resume()}}}function zR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function cte(t){return t.filter(e=>e.tagName!=="A")}var $v=0;function LL(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??HR()),document.body.insertAdjacentElement("beforeend",t[1]??HR()),$v++,()=>{$v===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$v--}},[])}function HR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fi=function(){return Fi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fi.apply(this,arguments)};function kL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ute(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Vm="right-scroll-bar-position",Lm="width-before-scroll-bar",dte="with-scroll-bars-hidden",fte="--removed-body-scroll-bar-size";function Kv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function hte(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var mte=typeof window<"u"?v.useLayoutEffect:v.useEffect,qR=new WeakMap;function pte(t,e){var n=hte(null,function(r){return t.forEach(function(i){return Kv(i,r)})});return mte(function(){var r=qR.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||Kv(o,null)}),s.forEach(function(o){i.has(o)||Kv(o,a)})}qR.set(n,t)},[t]),n}function gte(t){return t}function yte(t,e){e===void 0&&(e=gte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function vte(t){t===void 0&&(t={});var e=yte(null);return e.options=Fi({async:!0,ssr:!1},t),e}var UL=function(t){var e=t.sideCar,n=kL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Fi({},n))};UL.isSideCarExport=!0;function bte(t,e){return t.useMedium(e),UL}var FL=vte(),Yv=function(){},uy=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Yv,onWheelCapture:Yv,onTouchMoveCapture:Yv}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,w=t.noIsolation,g=t.inert,E=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,T=t.gapMode,R=kL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=h,k=pte([n,e]),x=Fi(Fi({},R),i);return v.createElement(v.Fragment,null,u&&v.createElement(P,{sideCar:FL,removeScrollBar:c,shards:f,noRelative:m,noIsolation:w,inert:g,setCallbacks:s,allowPinchZoom:!!E,lockRef:n,gapMode:T}),a?v.cloneElement(v.Children.only(o),Fi(Fi({},x),{ref:k})):v.createElement(_,Fi({},x,{className:l,ref:k}),o))});uy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uy.classNames={fullWidth:Lm,zeroRight:Vm};var wte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _te(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wte();return e&&t.setAttribute("nonce",e),t}function Ete(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Tte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_te())&&(Ete(e,n),Tte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ste=function(){var t=xte();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BL=function(){var t=Ste(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Ate={left:0,top:0,right:0,gap:0},Wv=function(t){return parseInt(t||"",10)||0},Cte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Wv(n),Wv(r),Wv(i)]},Rte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ate;var e=Cte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ite=BL(),Vc="data-scroll-locked",Nte=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(dte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Vc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vm,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Lm,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Vm," .").concat(Vm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lm," .").concat(Lm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vc,`] {
    `).concat(fte,": ").concat(o,`px;
  }
`)},GR=function(){var t=parseInt(document.body.getAttribute(Vc)||"0",10);return isFinite(t)?t:0},Dte=function(){v.useEffect(function(){return document.body.setAttribute(Vc,(GR()+1).toString()),function(){var t=GR()-1;t<=0?document.body.removeAttribute(Vc):document.body.setAttribute(Vc,t.toString())}},[])},Pte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Dte();var s=v.useMemo(function(){return Rte(i)},[i]);return v.createElement(Ite,{styles:Nte(s,!e,i,n?"":"!important")})},nw=!1;if(typeof window<"u")try{var nm=Object.defineProperty({},"passive",{get:function(){return nw=!0,!0}});window.addEventListener("test",nm,nm),window.removeEventListener("test",nm,nm)}catch{nw=!1}var Kl=nw?{passive:!1}:!1,Mte=function(t){return t.tagName==="TEXTAREA"},zL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mte(t)&&n[e]==="visible")},Ote=function(t){return zL(t,"overflowY")},jte=function(t){return zL(t,"overflowX")},$R=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=HL(t,r);if(i){var s=qL(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Vte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Lte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},HL=function(t,e){return t==="v"?Ote(e):jte(e)},qL=function(t,e){return t==="v"?Vte(e):Lte(e)},kte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ute=function(t,e,n,r,i){var s=kte(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,u=a>0,f=0,h=0;do{if(!o)break;var m=qL(t,o),w=m[0],g=m[1],E=m[2],b=g-E-s*w;(w||b)&&HL(t,o)&&(f+=b,h+=w);var _=o.parentNode;o=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(c=!0),c},rm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},KR=function(t){return[t.deltaX,t.deltaY]},YR=function(t){return t&&"current"in t?t.current:t},Fte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zte=0,Yl=[];function Hte(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(zte++)[0],s=v.useState(BL)[0],a=v.useRef(t);v.useEffect(function(){a.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=ute([t.lockRef.current],(t.shards||[]).map(YR),!0).filter(Boolean);return g.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=v.useCallback(function(g,E){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var b=rm(g),_=n.current,T="deltaX"in g?g.deltaX:_[0]-b[0],R="deltaY"in g?g.deltaY:_[1]-b[1],P,k=g.target,x=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in g&&x==="h"&&k.type==="range")return!1;var A=$R(x,k);if(!A)return!0;if(A?P=x:(P=x==="v"?"h":"v",A=$R(x,k)),!A)return!1;if(!r.current&&"changedTouches"in g&&(T||R)&&(r.current=P),!P)return!0;var C=r.current||P;return Ute(C,E,g,C==="h"?T:R)},[]),l=v.useCallback(function(g){var E=g;if(!(!Yl.length||Yl[Yl.length-1]!==s)){var b="deltaY"in E?KR(E):rm(E),_=e.current.filter(function(P){return P.name===E.type&&(P.target===E.target||E.target===P.shadowParent)&&Fte(P.delta,b)})[0];if(_&&_.should){E.cancelable&&E.preventDefault();return}if(!_){var T=(a.current.shards||[]).map(YR).filter(Boolean).filter(function(P){return P.contains(E.target)}),R=T.length>0?o(E,T[0]):!a.current.noIsolation;R&&E.cancelable&&E.preventDefault()}}},[]),c=v.useCallback(function(g,E,b,_){var T={name:g,delta:E,target:b,should:_,shadowParent:qte(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(R){return R!==T})},1)},[]),u=v.useCallback(function(g){n.current=rm(g),r.current=void 0},[]),f=v.useCallback(function(g){c(g.type,KR(g),g.target,o(g,t.lockRef.current))},[]),h=v.useCallback(function(g){c(g.type,rm(g),g.target,o(g,t.lockRef.current))},[]);v.useEffect(function(){return Yl.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Kl),document.addEventListener("touchmove",l,Kl),document.addEventListener("touchstart",u,Kl),function(){Yl=Yl.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Kl),document.removeEventListener("touchmove",l,Kl),document.removeEventListener("touchstart",u,Kl)}},[]);var m=t.removeScrollBar,w=t.inert;return v.createElement(v.Fragment,null,w?v.createElement(s,{styles:Bte(i)}):null,m?v.createElement(Pte,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function qte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Gte=bte(FL,Hte);var CT=v.forwardRef(function(t,e){return v.createElement(uy,Fi({},t,{ref:e,sideCar:Gte}))});CT.classNames=uy.classNames;var $te=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wl=new WeakMap,im=new WeakMap,sm={},Qv=0,GL=function(t){return t&&(t.host||GL(t.parentNode))},Kte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=GL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Yte=function(t,e,n,r){var i=Kte(e,Array.isArray(t)?t:[t]);sm[n]||(sm[n]=new WeakMap);var s=sm[n],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))u(h);else try{var m=h.getAttribute(r),w=m!==null&&m!=="false",g=(Wl.get(h)||0)+1,E=(s.get(h)||0)+1;Wl.set(h,g),s.set(h,E),a.push(h),g===1&&w&&im.set(h,!0),E===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(e),o.clear(),Qv++,function(){a.forEach(function(f){var h=Wl.get(f)-1,m=s.get(f)-1;Wl.set(f,h),s.set(f,m),h||(im.has(f)||f.removeAttribute(r),im.delete(f)),m||f.removeAttribute(n)}),Qv--,Qv||(Wl=new WeakMap,Wl=new WeakMap,im=new WeakMap,sm={})}},$L=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=$te(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Yte(r,i,n,"aria-hidden")):function(){return null}},dy="Dialog",[KL]=Ai(dy),[Wte,Ii]=KL(dy),YL=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=v.useRef(null),l=v.useRef(null),[c,u]=vl({prop:r,defaultProp:i??!1,onChange:s,caller:dy});return p.jsx(Wte,{scope:e,triggerRef:o,contentRef:l,contentId:Ya(),titleId:Ya(),descriptionId:Ya(),open:c,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:a,children:n})};YL.displayName=dy;var WL="DialogTrigger",QL=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(WL,n),s=Qe(e,i.triggerRef);return p.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":NT(i.open),...r,ref:s,onClick:ve(t.onClick,i.onOpenToggle)})});QL.displayName=WL;var RT="DialogPortal",[Qte,XL]=KL(RT,{forceMount:void 0}),ZL=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ii(RT,e);return p.jsx(Qte,{scope:e,forceMount:n,children:v.Children.map(r,a=>p.jsx(Ci,{present:n||s.open,children:p.jsx(C_,{asChild:!0,container:i,children:a})}))})};ZL.displayName=RT;var Jp="DialogOverlay",JL=v.forwardRef((t,e)=>{const n=XL(Jp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ii(Jp,t.__scopeDialog);return s.modal?p.jsx(Ci,{present:r||s.open,children:p.jsx(Zte,{...i,ref:e})}):null});JL.displayName=Jp;var Xte=ru("DialogOverlay.RemoveScroll"),Zte=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(Jp,n);return p.jsx(CT,{as:Xte,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(Ae.div,{"data-state":NT(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Sl="DialogContent",ek=v.forwardRef((t,e)=>{const n=XL(Sl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ii(Sl,t.__scopeDialog);return p.jsx(Ci,{present:r||s.open,children:s.modal?p.jsx(Jte,{...i,ref:e}):p.jsx(ene,{...i,ref:e})})});ek.displayName=Sl;var Jte=v.forwardRef((t,e)=>{const n=Ii(Sl,t.__scopeDialog),r=v.useRef(null),i=Qe(e,n.contentRef,r);return v.useEffect(()=>{const s=r.current;if(s)return $L(s)},[]),p.jsx(tk,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ve(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:ve(t.onFocusOutside,s=>s.preventDefault())})}),ene=v.forwardRef((t,e)=>{const n=Ii(Sl,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return p.jsx(tk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),tk=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=Ii(Sl,n),l=v.useRef(null),c=Qe(e,l);return LL(),p.jsxs(p.Fragment,{children:[p.jsx(AT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(Eg,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":NT(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(tne,{titleId:o.titleId}),p.jsx(rne,{contentRef:l,descriptionId:o.descriptionId})]})]})}),IT="DialogTitle",nk=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(IT,n);return p.jsx(Ae.h2,{id:i.titleId,...r,ref:e})});nk.displayName=IT;var rk="DialogDescription",ik=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(rk,n);return p.jsx(Ae.p,{id:i.descriptionId,...r,ref:e})});ik.displayName=rk;var sk="DialogClose",ak=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(sk,n);return p.jsx(Ae.button,{type:"button",...r,ref:e,onClick:ve(t.onClick,()=>i.onOpenChange(!1))})});ak.displayName=sk;function NT(t){return t?"open":"closed"}var ok="DialogTitleWarning",[Are,lk]=LF(ok,{contentName:Sl,titleName:IT,docsSlug:"dialog"}),tne=({titleId:t})=>{const e=lk(ok),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nne="DialogDescriptionWarning",rne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lk(nne).contentName}}.`;return v.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ine=YL,sne=QL,ane=ZL,ck=JL,uk=ek,dk=nk,fk=ik,one=ak;const hk=ine,lne=sne,cne=ane,mk=v.forwardRef(({className:t,...e},n)=>p.jsx(ck,{ref:n,className:$e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mk.displayName=ck.displayName;const DT=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(cne,{children:[p.jsx(mk,{}),p.jsxs(uk,{ref:r,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(one,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(hQ,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DT.displayName=uk.displayName;const PT=({className:t,...e})=>p.jsx("div",{className:$e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});PT.displayName="DialogHeader";const MT=v.forwardRef(({className:t,...e},n)=>p.jsx(dk,{ref:n,className:$e("text-lg font-semibold leading-none tracking-tight",t),...e}));MT.displayName=dk.displayName;const OT=v.forwardRef(({className:t,...e},n)=>p.jsx(fk,{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));OT.displayName=fk.displayName;function jT(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var VT="Radio",[une,pk]=Ai(VT),[dne,fne]=une(VT),gk=v.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:a,value:o="on",onCheck:l,form:c,...u}=t,[f,h]=v.useState(null),m=Qe(e,E=>h(E)),w=v.useRef(!1),g=f?c||!!f.closest("form"):!0;return p.jsxs(dne,{scope:n,checked:i,disabled:a,children:[p.jsx(Ae.button,{type:"button",role:"radio","aria-checked":i,"data-state":wk(i),"data-disabled":a?"":void 0,disabled:a,value:o,...u,ref:m,onClick:ve(t.onClick,E=>{i||l==null||l(),g&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})}),g&&p.jsx(bk,{control:f,bubbles:!w.current,name:r,value:o,checked:i,required:s,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});gk.displayName=VT;var yk="RadioIndicator",vk=v.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=fne(yk,n);return p.jsx(Ci,{present:r||s.checked,children:p.jsx(Ae.span,{"data-state":wk(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});vk.displayName=yk;var hne="RadioBubbleInput",bk=v.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=v.useRef(null),o=Qe(a,s),l=jT(n),c=x_(e);return v.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const w=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(w)}},[l,n,r]),p.jsx(Ae.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bk.displayName=hne;function wk(t){return t?"checked":"unchecked"}var mne=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fy="RadioGroup",[pne]=Ai(fy,[ty,pk]),_k=ty(),Ek=pk(),[gne,yne]=pne(fy),Tk=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:a=!1,disabled:o=!1,orientation:l,dir:c,loop:u=!0,onValueChange:f,...h}=t,m=_k(n),w=uh(c),[g,E]=vl({prop:s,defaultProp:i??null,onChange:f,caller:fy});return p.jsx(gne,{scope:n,name:r,required:a,disabled:o,value:g,onValueChange:E,children:p.jsx(Cj,{asChild:!0,...m,orientation:l,dir:w,loop:u,children:p.jsx(Ae.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:w,...h,ref:e})})})});Tk.displayName=fy;var xk="RadioGroupItem",Sk=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=yne(xk,n),a=s.disabled||r,o=_k(n),l=Ek(n),c=v.useRef(null),u=Qe(e,c),f=s.value===i.value,h=v.useRef(!1);return v.useEffect(()=>{const m=g=>{mne.includes(g.key)&&(h.current=!0)},w=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w)}},[]),p.jsx(Rj,{asChild:!0,...o,focusable:!a,active:f,children:p.jsx(gk,{disabled:a,required:s.required,checked:f,...l,...i,name:s.name,ref:u,onCheck:()=>s.onValueChange(i.value),onKeyDown:ve(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:ve(i.onFocus,()=>{var m;h.current&&((m=c.current)==null||m.click())})})})});Sk.displayName=xk;var vne="RadioGroupIndicator",Ak=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=Ek(n);return p.jsx(vk,{...i,...r,ref:e})});Ak.displayName=vne;var Ck=Tk,Rk=Sk,bne=Ak;const Ik=v.forwardRef(({className:t,...e},n)=>p.jsx(Ck,{className:$e("grid gap-2",t),...e,ref:n}));Ik.displayName=Ck.displayName;const rw=v.forwardRef(({className:t,...e},n)=>p.jsx(Rk,{ref:n,className:$e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(bne,{className:"flex items-center justify-center",children:p.jsx(sQ,{className:"h-2.5 w-2.5 fill-current text-current"})})}));rw.displayName=Rk.displayName;const LT=v.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));LT.displayName="Textarea";function wne({item:t,open:e,onClose:n,onAdd:r}){var w,g,E;if(!t)return null;const[i,s]=v.useState(1),[a,o]=v.useState(""),[l,c]=v.useState(t.jugosOpciones?"clasico":void 0),[u,f]=v.useState(t.sabores?[]:[]);let h=3;(w=t.category)!=null&&w.toLowerCase().includes("alitas")&&(i===6||i===12?h=3:(t.name.toLowerCase().includes("ronda")||i>=16)&&(h=4));const m=()=>{r(i,a,{type:l,flavor:u.join(", ")}),n()};return p.jsx(hk,{open:e,onOpenChange:n,children:p.jsxs(DT,{children:[p.jsxs(PT,{children:[p.jsx(MT,{children:t.name}),p.jsx(OT,{children:t.description})]}),p.jsxs("div",{className:"grid gap-4 py-4",children:[t.jugosOpciones&&p.jsxs("div",{className:"grid gap-2",children:[p.jsx(wn,{children:"Tipo de jugo"}),p.jsxs(Ik,{value:l,onValueChange:b=>c(b),children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(rw,{value:"clasico",id:"clasico"}),p.jsxs(wn,{htmlFor:"clasico",children:["Clsico (S/ ",Number(((g=t.jugosOpciones)==null?void 0:g.clasico)||0).toFixed(2),")"]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(rw,{value:"conLeche",id:"conLeche"}),p.jsxs(wn,{htmlFor:"conLeche",children:["Con Leche (S/ ",Number(((E=t.jugosOpciones)==null?void 0:E.conLeche)||0).toFixed(2),")"]})]})]})]}),t.sabores&&p.jsxs("div",{className:"grid gap-2",children:[p.jsx(wn,{children:"Sabor(es) (selecciona 1 o ms)"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.sabores.map(b=>{const _=u.includes(b),T=!_&&u.length>=h;return p.jsx("button",{type:"button",onClick:()=>{_?f(R=>R.filter(P=>P!==b)):!T&&u.length<h&&f(R=>[...R,b])},className:`px-3 py-1 rounded-full border ${_?"bg-orange-600 text-white border-orange-600":"bg-white text-gray-700"} ${T?"opacity-50 cursor-not-allowed":"hover:shadow-md"}`,disabled:T,children:b},b)}),u.length>=h&&p.jsxs("div",{className:"text-xs text-orange-600 self-center font-semibold",children:["Mx ",h," sabores"]})]})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsx(wn,{children:"Cantidad"}),p.jsx(Ot,{type:"number",value:i,onChange:b=>s(Math.max(1,parseInt(b.target.value)||1)),min:"1"})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsx(wn,{children:"Notas adicionales"}),p.jsx(LT,{value:a,onChange:b=>o(b.target.value),placeholder:"Ej: Sin hielo, muy dulce, etc."})]})]}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx(Me,{variant:"outline",onClick:n,children:"Cancelar"}),p.jsx(Me,{onClick:m,children:"Agregar al pedido"})]})]})})}function _ne(){const{user:t,logout:e}=ch(),[n,r]=v.useState(null),[i,s]=v.useState("mesas"),{tables:a,updateTable:o}=zee(),[l,c]=v.useState([]),[u,f]=v.useState(""),[h,m]=v.useState(""),[w,g]=v.useState([]),[E,b]=v.useState("Todos"),[_,T]=v.useState(null),{menuItems:R,addOrder:P,getWaiterOrders:k,markOrderAsDelivered:x}=mQ(),{showNotification:A}=Zs(),C=L=>{r(L),s("menu")},I=L=>{L.jugosOpciones||L.sabores?T(L):c(J=>J.find(Z=>Z.menuItem.id===L.id)?J.map(Z=>Z.menuItem.id===L.id?{...Z,quantity:Z.quantity+1}:Z):[...J,{menuItem:L,quantity:1}])},D=(L,J,Q)=>{if(!_)return;let Z=_.price;if(_.jugosOpciones&&(Q!=null&&Q.type)&&_.jugosOpciones[Q.type]){const be=Number(_.jugosOpciones[Q.type]);isNaN(be)||(Z=be)}const le={..._,price:Z,name:`${_.name}${Q!=null&&Q.type?` (${Q.type})`:""}${Q!=null&&Q.flavor?` - ${Q.flavor}`:""}`};c(be=>[...be,{menuItem:le,quantity:L,notes:J,options:Q}]),T(null)},O=(L,J)=>{c(Q=>Q.map(Z=>Z.menuItem.id===L?{...Z,quantity:Math.max(1,J)}:Z))},M=(L,J)=>{c(Q=>Q.map(Z=>Z.menuItem.id===L?{...Z,notes:J}:Z))},ee=L=>{c(J=>J.filter(Q=>Q.menuItem.id!==L))},ue=()=>l.reduce((L,J)=>L+J.menuItem.price*J.quantity,0),H=async()=>{if(!n){A("Error","Selecciona una mesa antes de enviar el pedido","error");return}if(l.length===0){A("Error","El pedido est vaco","error");return}const L={tableNumber:n.number,waiterName:(t==null?void 0:t.name)||"Mesero",items:l.map(Q=>{var Z,le;return{menuItem:Q.menuItem,quantity:Q.quantity,notes:Q.notes||"",options:{type:((Z=Q.options)==null?void 0:Z.type)||"",flavor:Array.isArray((le=Q.options)==null?void 0:le.flavor)?Q.options.flavor:[]}}}),status:"pending",customerName:u||"",notes:h||"",timestamp:Date.now(),total:ue()};if(await P(L)){c([]),f(""),m("");const Q=await k();g(Q)}},W=L=>{switch(L){case"pending":return"bg-yellow-100 text-yellow-800";case"preparing":return"bg-orange-100 text-orange-800";case"ready":return"bg-green-100 text-green-800";case"delivered":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},q=L=>{switch(L){case"pending":return p.jsx(ka,{className:"h-4 w-4"});case"preparing":return p.jsx(gc,{className:"h-4 w-4"});case"ready":return p.jsx(Yo,{className:"h-4 w-4"});case"delivered":return p.jsx(Yo,{className:"h-4 w-4"});default:return p.jsx(ka,{className:"h-4 w-4"})}},V=L=>{switch(L){case"pending":return"Pendiente";case"preparing":return"En preparacin";case"ready":return"Listo";case"delivered":return"Entregado";default:return"Desconocido"}};return v.useEffect(()=>{(async()=>{try{const L=await k();g(L)}catch(L){console.error("Error cargando rdenes",L)}})()},[k]),p.jsxs("div",{className:"container mx-auto p-2 sm:p-4 max-w-full",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2 sm:gap-0",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:"/assets/logo.png",alt:"El Fundo",className:"w-10 h-10 rounded-lg",onError:L=>L.currentTarget.style.display="none"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Panel del Mesero"}),p.jsx("p",{className:"text-sm text-gray-600",children:t==null?void 0:t.name})]})]}),p.jsxs(Me,{onClick:e,variant:"outline",children:[p.jsx(BE,{className:"w-4 h-4 mr-2"}),"Salir"]})]}),p.jsxs(Ze,{className:"w-full max-w-full",children:[p.jsx(cr,{children:p.jsx(ur,{className:"text-base sm:text-lg md:text-xl",children:"Gestin de Mesas"})}),p.jsx(et,{className:"p-2 sm:p-4",children:p.jsxs(zj,{defaultValue:"mesas",className:"w-full",children:[p.jsxs(FE,{className:"flex flex-wrap gap-2",children:[p.jsx(Is,{value:"mesas",children:"Mesas"}),p.jsx(Is,{value:"menu",children:"Men"}),p.jsx(Is,{value:"cart",children:"Carrito"}),p.jsx(Is,{value:"orders",children:"Pedidos"})]}),p.jsx(Ns,{value:"mesas",children:p.jsx(Bee,{tables:a,onTableSelect:C,selectedTable:n,onUpdateTablePosition:(L,J)=>o(L,J),isEditing:!1})}),p.jsxs(Ns,{value:"menu",children:[n?p.jsxs("div",{className:"flex flex-col lg:flex-row lg:space-x-6 w-full",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx(Ze,{className:"mb-2",children:p.jsx(cr,{children:p.jsxs(ur,{className:"flex items-center gap-2 text-base sm:text-lg md:text-xl",children:[p.jsx(gc,{className:"h-5 w-5"}),"Men - Mesa ",n.number]})})}),p.jsx("div",{className:"overflow-x-auto pb-2 mb-4",children:p.jsx(nte,{categories:Array.from(new Set(R.map(L=>L.category||"Otros"))),selectedCategory:E,onSelectCategory:b})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 mt-2",children:R.filter(L=>E==="Todos"||L.category===E).sort((L,J)=>(L.category||"")<(J.category||"")?-1:(L.category||"")>(J.category||"")?1:L.name.localeCompare(J.name)).map(L=>p.jsxs("div",{className:`rounded-xl border bg-white shadow-sm p-4 flex flex-col gap-2 transition hover:shadow-md ${L.available?"":"opacity-50"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:"font-semibold text-base text-gray-800 truncate",children:L.name}),p.jsxs("span",{className:"text-sm font-bold text-orange-600",children:["S/ ",L.price.toFixed(2)]})]}),p.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-2",children:L.description}),p.jsx(Me,{className:"w-full rounded-lg text-sm font-medium",onClick:()=>I(L),disabled:!L.available,children:L.available?"Agregar al Pedido":"No Disponible"})]},L.id))})]}),p.jsx("div",{className:"w-full lg:w-96 mt-6 lg:mt-0 flex-shrink-0",children:p.jsxs(Ze,{children:[p.jsx(cr,{children:p.jsxs(ur,{className:"flex items-center gap-2",children:[p.jsx(Zh,{className:"h-5 w-5"}),"Pedido Actual",n&&p.jsxs(Ko,{variant:"outline",children:["Mesa ",n.number]})]})}),p.jsx(et,{children:l.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(Zh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-500",children:"No hay productos en el pedido"})]}):p.jsxs("div",{className:"space-y-4",children:[l.map(L=>{var J,Q,Z;return p.jsx(Ze,{children:p.jsxs(et,{className:"flex items-center justify-between p-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-semibold",children:((J=L.menuItem)==null?void 0:J.name)??"Producto no encontrado"}),p.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Me,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>O(L.menuItem.id,L.quantity-1),children:"-"}),p.jsx("span",{className:"w-8 text-center",children:L.quantity}),p.jsx(Me,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>O(L.menuItem.id,L.quantity+1),children:"+"})]}),p.jsxs("div",{className:"flex flex-col",children:[L.menuItem.sabores&&((Q=L.options)==null?void 0:Q.flavor)&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(()=>{var tt;const le=(tt=L.options)==null?void 0:tt.flavor;return(Array.isArray(le)?le:typeof le=="string"?le.split(",").map(te=>te.trim()).filter(Boolean):[]).map(te=>p.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-orange-100 text-orange-800",children:te},te))})()}),p.jsx(Ot,{placeholder:"Notas...",value:L.notes||"",onChange:le=>M(L.menuItem.id,le.target.value),className:"h-8"})]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-semibold",children:["S/ ",((((Z=L.menuItem)==null?void 0:Z.price)??0)*L.quantity).toFixed(2)]}),p.jsx(Me,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-600 mt-2",onClick:()=>ee(L.menuItem.id),children:"Eliminar"})]})]})},L.menuItem.id)}),p.jsx(Ze,{children:p.jsx(et,{className:"p-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[p.jsx("span",{children:"Total:"}),p.jsxs("span",{children:["S/ ",ue().toFixed(2)]})]}),p.jsxs("div",{className:"grid gap-4",children:[p.jsx(Ot,{placeholder:"Nombre del cliente (opcional)",value:u,onChange:L=>f(L.target.value)}),p.jsx(Ot,{placeholder:"Notas adicionales (opcional)",value:h,onChange:L=>m(L.target.value)})]}),p.jsx(Me,{className:"w-full",size:"lg",onClick:H,children:"Enviar Pedido"})]})})})]})})]})})]}):p.jsx(Ze,{children:p.jsx(et,{className:"flex items-center justify-center h-64",children:p.jsxs("div",{className:"text-center",children:[p.jsx($j,{className:"h-12 w-12 text-orange-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Selecciona una mesa primero"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Para tomar un pedido, primero debes seleccionar una mesa"})]})})}),p.jsx(wne,{item:_,open:!!_,onClose:()=>T(null),onAdd:D})]}),p.jsx(Ns,{value:"cart",children:p.jsxs(Ze,{children:[p.jsx(cr,{children:p.jsxs(ur,{className:"flex items-center gap-2",children:[p.jsx(Zh,{className:"h-5 w-5"}),"Pedido Actual",n&&p.jsxs(Ko,{variant:"outline",children:["Mesa ",n.number]})]})}),p.jsx(et,{children:l.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(Zh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-500",children:"No hay productos en el pedido"})]}):p.jsxs("div",{className:"space-y-4",children:[l.map(L=>{var J,Q;return p.jsx(Ze,{children:p.jsxs(et,{className:"flex items-center justify-between p-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-semibold",children:((J=L.menuItem)==null?void 0:J.name)??"Producto no encontrado"}),p.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Me,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>O(L.menuItem.id,L.quantity-1),children:"-"}),p.jsx("span",{className:"w-8 text-center",children:L.quantity}),p.jsx(Me,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>O(L.menuItem.id,L.quantity+1),children:"+"})]}),p.jsx(Ot,{placeholder:"Notas...",value:L.notes||"",onChange:Z=>M(L.menuItem.id,Z.target.value),className:"h-8"})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-semibold",children:["S/ ",((((Q=L.menuItem)==null?void 0:Q.price)??0)*L.quantity).toFixed(2)]}),p.jsx(Me,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-600 mt-2",onClick:()=>ee(L.menuItem.id),children:"Eliminar"})]})]})},L.menuItem.id)}),p.jsx(Ze,{children:p.jsx(et,{className:"p-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[p.jsx("span",{children:"Total:"}),p.jsxs("span",{children:["S/ ",ue().toFixed(2)]})]}),p.jsxs("div",{className:"grid gap-4",children:[p.jsx(Ot,{placeholder:"Nombre del cliente (opcional)",value:u,onChange:L=>f(L.target.value)}),p.jsx(Ot,{placeholder:"Notas adicionales (opcional)",value:h,onChange:L=>m(L.target.value)})]}),p.jsx(Me,{className:"w-full",size:"lg",onClick:H,children:"Enviar Pedido"})]})})})]})})]})}),p.jsx(Ns,{value:"orders",children:p.jsxs(Ze,{children:[p.jsx(cr,{children:p.jsxs(ur,{className:"flex items-center gap-2",children:[p.jsx(ka,{className:"h-5 w-5"}),"Pedidos Activos"]})}),p.jsx(et,{children:w.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(ka,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-500",children:"No hay pedidos activos"})]}):p.jsx("div",{className:"space-y-4",children:w.map(L=>p.jsx(Ze,{children:p.jsxs(et,{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:["Mesa ",L.tableNumber,L.customerName&&p.jsx(Ko,{variant:"outline",children:L.customerName})]}),p.jsx("p",{className:"text-sm text-gray-500",children:new Date(L.timestamp).toLocaleTimeString()})]}),p.jsx(Ko,{className:W(L.status),children:p.jsxs("span",{className:"flex items-center gap-1",children:[q(L.status),V(L.status)]})})]}),p.jsx("div",{className:"space-y-2",children:L.items.map(J=>{const Q=J,Z=Q.menuItem||void 0,le=Q.id??(Z==null?void 0:Z.id)??"",be=(Z==null?void 0:Z.name)??Q.name??"",tt=(Z==null?void 0:Z.price)??Q.price??0;return p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{children:[J.quantity,"x ",be,J.notes&&p.jsxs("span",{className:"text-gray-500 ml-2",children:["(",J.notes,")"]})]}),p.jsxs("span",{children:["S/ ",(tt*J.quantity).toFixed(2)]})]},le)})}),p.jsxs("div",{className:"mt-4 flex justify-between items-center pt-4 border-t",children:[p.jsxs("div",{className:"font-semibold",children:["Total: S/ ",L.total.toFixed(2)]}),L.status==="ready"&&p.jsxs(Me,{variant:"outline",className:"gap-2",onClick:()=>x(L.id),children:[p.jsx(Yo,{className:"h-4 w-4"}),"Marcar Entregado"]})]})]})},L.id))})})]})})]})})]})]})}function Ene(){const{user:t,logout:e}=ch(),{orders:n,updateOrderStatus:r,loading:i}=zE(),{showNotification:s}=Zs(),[a,o]=v.useState(null),l=async(m,w)=>{if(await r(m,w)){const E={preparing:" Pedido en preparacin",ready:" Pedido listo para entregar",delivered:" Pedido entregado"};w in E&&s(E[w],`Pedido ${m.slice(-6)} actualizado`,"success")}},c=m=>{const g={pending:{label:"Pendiente",className:"status-pending",icon:ka},preparing:{label:"En Preparacin",className:"status-preparing",icon:gc},ready:{label:"Listo",className:"status-ready",icon:Yo},delivered:{label:"Entregado",className:"bg-gray-500 text-white",icon:Yo}}[m],E=g.icon;return p.jsxs(Ko,{className:g.className,children:[p.jsx(E,{className:"w-3 h-3 mr-1"}),g.label]})},u=()=>n.filter(m=>m.status==="pending"),f=()=>n.filter(m=>m.status==="preparing"),h=()=>n.filter(m=>m.status==="ready");return i?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"glass-card p-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),p.jsx("p",{className:"text-center mt-4 text-gray-600",children:"Cargando pedidos..."})]})}):(console.log("KitchenPanel orders count:",n.length),n.length>0&&console.log("ltimas rdenes (3):",n.slice(0,3).map(m=>({id:m.id,table:m.tableNumber,status:m.status}))),p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"min-h-screen p-4",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:"/assets/logo.png",alt:"El Fundo Fast Food",className:"w-10 h-10 rounded-lg",onError:m=>{m.currentTarget.style.display="none"}}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Panel de Cocina"}),p.jsxs("p",{className:"text-gray-600",children:["Bienvenido, ",t==null?void 0:t.name]})]})]}),p.jsxs(Me,{onClick:e,variant:"outline",className:"rounded-xl",children:[p.jsx(BE,{className:"w-4 h-4 mr-2"}),"Salir"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[p.jsx(Ze,{className:"glass-card border-0",children:p.jsx(et,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),p.jsx("p",{className:"text-2xl font-bold text-orange-600",children:u().length})]}),p.jsx(ka,{className:"w-8 h-8 text-orange-500"})]})})}),p.jsx(Ze,{className:"glass-card border-0",children:p.jsx(et,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"En Preparacin"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f().length})]}),p.jsx(gc,{className:"w-8 h-8 text-blue-500"})]})})}),p.jsx(Ze,{className:"glass-card border-0",children:p.jsx(et,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Listos"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:h().length})]}),p.jsx(Yo,{className:"w-8 h-8 text-green-500"})]})})}),p.jsx(Ze,{className:"glass-card border-0",children:p.jsx(et,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Total Hoy"}),p.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.length})]}),p.jsx(gc,{className:"w-8 h-8 text-purple-500"})]})})})]}),p.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[p.jsxs(Ze,{className:"glass-card border-0",children:[p.jsxs(cr,{children:[p.jsxs(ur,{className:"flex items-center gap-2 text-orange-600",children:[p.jsx(ka,{className:"w-5 h-5"}),"Pedidos Pendientes (",u().length,")"]}),p.jsx(Ja,{children:"Nuevos pedidos por preparar"})]}),p.jsx(et,{children:p.jsx(dl,{className:"h-96",children:u().length===0?p.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hay pedidos pendientes"}):p.jsx("div",{className:"space-y-4",children:u().sort((m,w)=>new Date(m.timestamp).getTime()-new Date(w.timestamp).getTime()).map(m=>p.jsx(Ze,{className:"border border-orange-200 bg-orange-50/50",children:p.jsxs(et,{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-semibold text-gray-800",children:["Mesa ",m.tableNumber]}),p.jsx("p",{className:"text-sm text-gray-600",children:m.waiterName}),p.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.timestamp).toLocaleTimeString()})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c(m.status),p.jsx(Me,{size:"sm",variant:"outline",onClick:()=>o(m),children:"Ver detalle"})]})]}),p.jsx("div",{className:"space-y-2 mb-4",children:m.items.map((w,g)=>{var E,b;return p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{children:[w.quantity,"x ",((E=w.menuItem)==null?void 0:E.name)??"Producto no encontrado"]}),p.jsxs("span",{className:"text-gray-600",children:["S/ ",((((b=w.menuItem)==null?void 0:b.price)??0)*w.quantity).toFixed(2)]})]},g)})}),p.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[p.jsxs("span",{className:"font-semibold",children:["Total: S/ ",m.total.toFixed(2)]}),p.jsx(Me,{onClick:()=>l(m.id,"preparing"),size:"sm",className:"btn-fundo",children:"Iniciar"})]})]})},m.id))})})})]}),p.jsxs(Ze,{className:"glass-card border-0",children:[p.jsxs(cr,{children:[p.jsxs(ur,{className:"flex items-center gap-2 text-blue-600",children:[p.jsx(gc,{className:"w-5 h-5"}),"En Preparacin (",f().length,")"]}),p.jsx(Ja,{children:"Pedidos siendo preparados"})]}),p.jsx(et,{children:p.jsx(dl,{className:"h-96",children:f().length===0?p.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hay pedidos en preparacin"}):p.jsx("div",{className:"space-y-4",children:f().sort((m,w)=>new Date(m.timestamp).getTime()-new Date(w.timestamp).getTime()).map(m=>p.jsx(Ze,{className:"border border-blue-200 bg-blue-50/50",children:p.jsxs(et,{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-semibold text-gray-800",children:["Mesa ",m.tableNumber]}),p.jsx("p",{className:"text-sm text-gray-600",children:m.waiterName}),p.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.timestamp).toLocaleTimeString()})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c(m.status),p.jsx(Me,{size:"sm",variant:"outline",onClick:()=>o(m),children:"Ver detalle"})]})]}),p.jsx("div",{className:"space-y-2 mb-4",children:m.items.map((w,g)=>{var E,b;return p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{children:[w.quantity,"x ",((E=w.menuItem)==null?void 0:E.name)??"Producto no encontrado"]}),p.jsxs("span",{className:"text-gray-600",children:["S/ ",((((b=w.menuItem)==null?void 0:b.price)??0)*w.quantity).toFixed(2)]})]},g)})}),p.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[p.jsxs("span",{className:"font-semibold",children:["Total: S/ ",m.total.toFixed(2)]}),p.jsx(Me,{onClick:()=>l(m.id,"ready"),size:"sm",className:"bg-green-500 hover:bg-green-600 text-white",children:"Listo"})]})]})},m.id))})})})]}),p.jsxs(Ze,{className:"glass-card border-0",children:[p.jsxs(cr,{children:[p.jsxs(ur,{className:"flex items-center gap-2 text-green-600",children:[p.jsx(Yo,{className:"w-5 h-5"}),"Listos para Entregar (",h().length,")"]}),p.jsx(Ja,{children:"Pedidos completados"})]}),p.jsx(et,{children:p.jsx(dl,{className:"h-96",children:h().length===0?p.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hay pedidos listos"}):p.jsx("div",{className:"space-y-4",children:h().sort((m,w)=>new Date(m.timestamp).getTime()-new Date(w.timestamp).getTime()).map(m=>p.jsx(Ze,{className:"border border-green-200 bg-green-50/50",children:p.jsxs(et,{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-semibold text-gray-800",children:["Mesa ",m.tableNumber]}),p.jsx("p",{className:"text-sm text-gray-600",children:m.waiterName}),p.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.timestamp).toLocaleTimeString()})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c(m.status),p.jsx(Me,{size:"sm",variant:"outline",onClick:()=>o(m),children:"Ver detalle"})]})]}),p.jsx("div",{className:"space-y-2 mb-4",children:m.items.map((w,g)=>{var E,b;return p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{children:[w.quantity,"x ",((E=w.menuItem)==null?void 0:E.name)??"Producto no encontrado"]}),p.jsxs("span",{className:"text-gray-600",children:["S/ ",((((b=w.menuItem)==null?void 0:b.price)??0)*w.quantity).toFixed(2)]})]},g)})}),p.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[p.jsxs("span",{className:"font-semibold",children:["Total: S/ ",m.total.toFixed(2)]}),p.jsx(Me,{onClick:()=>l(m.id,"delivered"),size:"sm",variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-100",children:"Entregado"})]})]})},m.id))})})})]})]})]}),a&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:p.jsxs("div",{className:"w-full max-w-2xl bg-background rounded-lg p-6 shadow-lg",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold",children:["Detalle Pedido - Mesa ",a.tableNumber]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Pedido #",a.id.slice(-6),"  ",new Date(a.timestamp).toLocaleString()]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Mesero: ",a.waiterName]})]}),p.jsx("div",{children:p.jsx(Me,{variant:"ghost",onClick:()=>o(null),children:"Cerrar"})})]}),p.jsx("div",{className:"space-y-3 mb-4",children:a.items.map((m,w)=>{var g,E,b;return p.jsxs("div",{className:"flex justify-between items-start p-3 bg-white/5 rounded-lg",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"font-medium",children:[m.quantity,"x ",((g=m.menuItem)==null?void 0:g.name)||"Producto no encontrado"]}),m.notes&&p.jsx("div",{className:"text-sm text-muted-foreground",children:m.notes}),((E=m.options)==null?void 0:E.flavor)&&Array.isArray(m.options.flavor)&&m.options.flavor.length>0&&p.jsxs("div",{className:"text-xs text-muted-foreground",children:["Sabores: ",m.options.flavor.join(", ")]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("div",{className:"font-semibold",children:["S/ ",((((b=m.menuItem)==null?void 0:b.price)??0)*m.quantity).toFixed(2)]})})]},w)})}),p.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[p.jsx("div",{className:"text-lg font-semibold",children:"Total"}),p.jsxs("div",{className:"text-xl font-bold",children:["S/ ",a.total.toFixed(2)]})]})]})})]}))}var Tne=[" ","Enter","ArrowUp","ArrowDown"],xne=[" ","Enter"],Al="Select",[hy,my,Sne]=_j(Al),[ku]=Ai(Al,[Sne,Cg]),py=Cg(),[Ane,So]=ku(Al),[Cne,Rne]=ku(Al),Nk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:m,form:w}=t,g=py(e),[E,b]=v.useState(null),[_,T]=v.useState(null),[R,P]=v.useState(!1),k=uh(c),[x,A]=vl({prop:r,defaultProp:i??!1,onChange:s,caller:Al}),[C,I]=vl({prop:a,defaultProp:o,onChange:l,caller:Al}),D=v.useRef(null),O=E?w||!!E.closest("form"):!0,[M,ee]=v.useState(new Set),ue=Array.from(M).map(H=>H.props.value).join(";");return p.jsx(_z,{...g,children:p.jsxs(Ane,{required:m,scope:e,trigger:E,onTriggerChange:b,valueNode:_,onValueNodeChange:T,valueNodeHasChildren:R,onValueNodeHasChildrenChange:P,contentId:Ya(),value:C,onValueChange:I,open:x,onOpenChange:A,dir:k,triggerPointerDownPosRef:D,disabled:h,children:[p.jsx(hy.Provider,{scope:e,children:p.jsx(Cne,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(H=>{ee(W=>new Set(W).add(H))},[]),onNativeOptionRemove:v.useCallback(H=>{ee(W=>{const q=new Set(W);return q.delete(H),q})},[]),children:n})}),O?p.jsxs(e4,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:H=>I(H.target.value),disabled:h,form:w,children:[C===void 0?p.jsx("option",{value:""}):null,Array.from(M)]},ue):null]})})};Nk.displayName=Al;var Dk="SelectTrigger",Pk=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=py(n),a=So(Dk,n),o=a.disabled||r,l=Qe(e,a.onTriggerChange),c=my(n),u=v.useRef("touch"),[f,h,m]=n4(g=>{const E=c().filter(T=>!T.disabled),b=E.find(T=>T.value===a.value),_=r4(E,g,b);_!==void 0&&a.onValueChange(_.value)}),w=g=>{o||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(WP,{asChild:!0,...s,children:p.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":t4(a.value)?"":void 0,...i,ref:l,onClick:ve(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&w(g)}),onPointerDown:ve(i.onPointerDown,g=>{u.current=g.pointerType;const E=g.target;E.hasPointerCapture(g.pointerId)&&E.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:ve(i.onKeyDown,g=>{const E=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(E&&g.key===" ")&&Tne.includes(g.key)&&(w(),g.preventDefault())})})})});Pk.displayName=Dk;var Mk="SelectValue",Ok=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=So(Mk,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,f=Qe(e,l.onValueNodeChange);return Pn(()=>{c(u)},[c,u]),p.jsx(Ae.span,{...o,ref:f,style:{pointerEvents:"none"},children:t4(l.value)?p.jsx(p.Fragment,{children:a}):s})});Ok.displayName=Mk;var Ine="SelectIcon",jk=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.jsx(Ae.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});jk.displayName=Ine;var Nne="SelectPortal",Vk=t=>p.jsx(C_,{asChild:!0,...t});Vk.displayName=Nne;var Cl="SelectContent",Lk=v.forwardRef((t,e)=>{const n=So(Cl,t.__scopeSelect),[r,i]=v.useState();if(Pn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Rl.createPortal(p.jsx(kk,{scope:t.__scopeSelect,children:p.jsx(hy.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),s):null}return p.jsx(Uk,{...t,ref:e})});Lk.displayName=Cl;var hi=10,[kk,Ao]=ku(Cl),Dne="SelectContentImpl",Pne=ru("SelectContent.RemoveScroll"),Uk=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:E,...b}=t,_=So(Cl,n),[T,R]=v.useState(null),[P,k]=v.useState(null),x=Qe(e,te=>R(te)),[A,C]=v.useState(null),[I,D]=v.useState(null),O=my(n),[M,ee]=v.useState(!1),ue=v.useRef(!1);v.useEffect(()=>{if(T)return $L(T)},[T]),LL();const H=v.useCallback(te=>{const[Oe,...ht]=O().map(ge=>ge.ref.current),[Ke]=ht.slice(-1),je=document.activeElement;for(const ge of te)if(ge===je||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===Oe&&P&&(P.scrollTop=0),ge===Ke&&P&&(P.scrollTop=P.scrollHeight),ge==null||ge.focus(),document.activeElement!==je))return},[O,P]),W=v.useCallback(()=>H([A,T]),[H,A,T]);v.useEffect(()=>{M&&W()},[M,W]);const{onOpenChange:q,triggerPointerDownPosRef:V}=_;v.useEffect(()=>{if(T){let te={x:0,y:0};const Oe=Ke=>{var je,ge;te={x:Math.abs(Math.round(Ke.pageX)-(((je=V.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Ke.pageY)-(((ge=V.current)==null?void 0:ge.y)??0))}},ht=Ke=>{te.x<=10&&te.y<=10?Ke.preventDefault():T.contains(Ke.target)||q(!1),document.removeEventListener("pointermove",Oe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",ht,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",ht,{capture:!0})}}},[T,q,V]),v.useEffect(()=>{const te=()=>q(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[q]);const[L,J]=n4(te=>{const Oe=O().filter(je=>!je.disabled),ht=Oe.find(je=>je.ref.current===document.activeElement),Ke=r4(Oe,te,ht);Ke&&setTimeout(()=>Ke.ref.current.focus())}),Q=v.useCallback((te,Oe,ht)=>{const Ke=!ue.current&&!ht;(_.value!==void 0&&_.value===Oe||Ke)&&(C(te),Ke&&(ue.current=!0))},[_.value]),Z=v.useCallback(()=>T==null?void 0:T.focus(),[T]),le=v.useCallback((te,Oe,ht)=>{const Ke=!ue.current&&!ht;(_.value!==void 0&&_.value===Oe||Ke)&&D(te)},[_.value]),be=r==="popper"?iw:Fk,tt=be===iw?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:E}:{};return p.jsx(kk,{scope:n,content:T,viewport:P,onViewportChange:k,itemRefCallback:Q,selectedItem:A,onItemLeave:Z,itemTextRefCallback:le,focusSelectedItem:W,selectedItemText:I,position:r,isPositioned:M,searchRef:L,children:p.jsx(CT,{as:Pne,allowPinchZoom:!0,children:p.jsx(AT,{asChild:!0,trapped:_.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ve(i,te=>{var Oe;(Oe=_.trigger)==null||Oe.focus({preventScroll:!0}),te.preventDefault()}),children:p.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:p.jsx(be,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:te=>te.preventDefault(),...b,...tt,onPlaced:()=>ee(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ve(b.onKeyDown,te=>{const Oe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Oe&&te.key.length===1&&J(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Ke=O().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Ke=Ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const je=te.target,ge=Ke.indexOf(je);Ke=Ke.slice(ge+1)}setTimeout(()=>H(Ke)),te.preventDefault()}})})})})})})});Uk.displayName=Dne;var Mne="SelectItemAlignedPosition",Fk=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=So(Cl,n),a=Ao(Cl,n),[o,l]=v.useState(null),[c,u]=v.useState(null),f=Qe(e,x=>u(x)),h=my(n),m=v.useRef(!1),w=v.useRef(!0),{viewport:g,selectedItem:E,selectedItemText:b,focusSelectedItem:_}=a,T=v.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&g&&E&&b){const x=s.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(s.dir!=="rtl"){const je=I.left-A.left,ge=C.left-je,mt=x.left-ge,fn=x.width+mt,ai=Math.max(fn,A.width),Qt=window.innerWidth-hi,mr=tw(ge,[hi,Math.max(hi,Qt-ai)]);o.style.minWidth=fn+"px",o.style.left=mr+"px"}else{const je=A.right-I.right,ge=window.innerWidth-C.right-je,mt=window.innerWidth-x.right-ge,fn=x.width+mt,ai=Math.max(fn,A.width),Qt=window.innerWidth-hi,mr=tw(ge,[hi,Math.max(hi,Qt-ai)]);o.style.minWidth=fn+"px",o.style.right=mr+"px"}const D=h(),O=window.innerHeight-hi*2,M=g.scrollHeight,ee=window.getComputedStyle(c),ue=parseInt(ee.borderTopWidth,10),H=parseInt(ee.paddingTop,10),W=parseInt(ee.borderBottomWidth,10),q=parseInt(ee.paddingBottom,10),V=ue+H+M+q+W,L=Math.min(E.offsetHeight*5,V),J=window.getComputedStyle(g),Q=parseInt(J.paddingTop,10),Z=parseInt(J.paddingBottom,10),le=x.top+x.height/2-hi,be=O-le,tt=E.offsetHeight/2,te=E.offsetTop+tt,Oe=ue+H+te,ht=V-Oe;if(Oe<=le){const je=D.length>0&&E===D[D.length-1].ref.current;o.style.bottom="0px";const ge=c.clientHeight-g.offsetTop-g.offsetHeight,mt=Math.max(be,tt+(je?Z:0)+ge+W),fn=Oe+mt;o.style.height=fn+"px"}else{const je=D.length>0&&E===D[0].ref.current;o.style.top="0px";const mt=Math.max(le,ue+g.offsetTop+(je?Q:0)+tt)+ht;o.style.height=mt+"px",g.scrollTop=Oe-le+g.offsetTop}o.style.margin=`${hi}px 0`,o.style.minHeight=L+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,o,c,g,E,b,s.dir,r]);Pn(()=>T(),[T]);const[R,P]=v.useState();Pn(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const k=v.useCallback(x=>{x&&w.current===!0&&(T(),_==null||_(),w.current=!1)},[T,_]);return p.jsx(jne,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:p.jsx(Ae.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Fk.displayName=Mne;var One="SelectPopperPosition",iw=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=hi,...s}=t,a=py(n);return p.jsx(QP,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iw.displayName=One;var[jne,kT]=ku(Cl,{}),sw="SelectViewport",Bk=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ao(sw,n),a=kT(sw,n),o=Qe(e,s.onViewportChange),l=v.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(hy.Slot,{scope:n,children:p.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ve(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(l.current-u.scrollTop);if(m>0){const w=window.innerHeight-hi*2,g=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),b=Math.max(g,E);if(b<w){const _=b+m,T=Math.min(w,_),R=_-T;f.style.height=T+"px",f.style.bottom==="0px"&&(u.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Bk.displayName=sw;var zk="SelectGroup",[Vne,Lne]=ku(zk),kne=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ya();return p.jsx(Vne,{scope:n,id:i,children:p.jsx(Ae.div,{role:"group","aria-labelledby":i,...r,ref:e})})});kne.displayName=zk;var Hk="SelectLabel",qk=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Lne(Hk,n);return p.jsx(Ae.div,{id:i.id,...r,ref:e})});qk.displayName=Hk;var eg="SelectItem",[Une,Gk]=ku(eg),$k=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=So(eg,n),l=Ao(eg,n),c=o.value===r,[u,f]=v.useState(s??""),[h,m]=v.useState(!1),w=Qe(e,_=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,_,r,i)}),g=Ya(),E=v.useRef("touch"),b=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(Une,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:v.useCallback(_=>{f(T=>T||((_==null?void 0:_.textContent)??"").trim())},[]),children:p.jsx(hy.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:p.jsx(Ae.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:w,onFocus:ve(a.onFocus,()=>m(!0)),onBlur:ve(a.onBlur,()=>m(!1)),onClick:ve(a.onClick,()=>{E.current!=="mouse"&&b()}),onPointerUp:ve(a.onPointerUp,()=>{E.current==="mouse"&&b()}),onPointerDown:ve(a.onPointerDown,_=>{E.current=_.pointerType}),onPointerMove:ve(a.onPointerMove,_=>{var T;E.current=_.pointerType,i?(T=l.onItemLeave)==null||T.call(l):E.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(a.onPointerLeave,_=>{var T;_.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:ve(a.onKeyDown,_=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&_.key===" "||(xne.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});$k.displayName=eg;var Td="SelectItemText",Kk=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=So(Td,n),o=Ao(Td,n),l=Gk(Td,n),c=Rne(Td,n),[u,f]=v.useState(null),h=Qe(e,b=>f(b),l.onItemTextChange,b=>{var _;return(_=o.itemTextRefCallback)==null?void 0:_.call(o,b,l.value,l.disabled)}),m=u==null?void 0:u.textContent,w=v.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:E}=c;return Pn(()=>(g(w),()=>E(w)),[g,E,w]),p.jsxs(p.Fragment,{children:[p.jsx(Ae.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Rl.createPortal(s.children,a.valueNode):null]})});Kk.displayName=Td;var Yk="SelectItemIndicator",Wk=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Gk(Yk,n).isSelected?p.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e}):null});Wk.displayName=Yk;var aw="SelectScrollUpButton",Qk=v.forwardRef((t,e)=>{const n=Ao(aw,t.__scopeSelect),r=kT(aw,t.__scopeSelect),[i,s]=v.useState(!1),a=Qe(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?p.jsx(Zk,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});Qk.displayName=aw;var ow="SelectScrollDownButton",Xk=v.forwardRef((t,e)=>{const n=Ao(ow,t.__scopeSelect),r=kT(ow,t.__scopeSelect),[i,s]=v.useState(!1),a=Qe(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?p.jsx(Zk,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});Xk.displayName=ow;var Zk=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ao("SelectScrollButton",n),a=v.useRef(null),o=my(n),l=v.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Pn(()=>{var u;const c=o().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),p.jsx(Ae.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ve(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ve(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ve(i.onPointerLeave,()=>{l()})})}),Fne="SelectSeparator",Jk=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e})});Jk.displayName=Fne;var lw="SelectArrow",Bne=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=py(n),s=So(lw,n),a=Ao(lw,n);return s.open&&a.position==="popper"?p.jsx(XP,{...i,...r,ref:e}):null});Bne.displayName=lw;var zne="SelectBubbleInput",e4=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=v.useRef(null),s=Qe(r,i),a=jT(e);return v.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const f=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(f)}},[a,e]),p.jsx(Ae.select,{...n,style:{...ZP,...n.style},ref:s,defaultValue:e})});e4.displayName=zne;function t4(t){return t===""||t===void 0}function n4(t){const e=Kn(t),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(a=>{const o=n.current+a;e(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function r4(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Hne(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Hne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qne=Nk,i4=Pk,Gne=Ok,$ne=jk,Kne=Vk,s4=Lk,Yne=Bk,a4=qk,o4=$k,Wne=Kk,Qne=Wk,l4=Qk,c4=Xk,u4=Jk;const Xne=qne,Zne=Gne,d4=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(i4,{ref:r,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx($ne,{asChild:!0,children:p.jsx(qj,{className:"h-4 w-4 opacity-50"})})]}));d4.displayName=i4.displayName;const f4=v.forwardRef(({className:t,...e},n)=>p.jsx(l4,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(iQ,{className:"h-4 w-4"})}));f4.displayName=l4.displayName;const h4=v.forwardRef(({className:t,...e},n)=>p.jsx(c4,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(qj,{className:"h-4 w-4"})}));h4.displayName=c4.displayName;const m4=v.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(Kne,{children:p.jsxs(s4,{ref:i,className:$e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(f4,{}),p.jsx(Yne,{className:$e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(h4,{})]})}));m4.displayName=s4.displayName;const Jne=v.forwardRef(({className:t,...e},n)=>p.jsx(a4,{ref:n,className:$e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Jne.displayName=a4.displayName;const p4=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(o4,{ref:r,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Qne,{children:p.jsx(rQ,{className:"h-4 w-4"})})}),p.jsx(Wne,{children:e})]}));p4.displayName=o4.displayName;const ere=v.forwardRef(({className:t,...e},n)=>p.jsx(u4,{ref:n,className:$e("-mx-1 my-1 h-px bg-muted",t),...e}));ere.displayName=u4.displayName;var gy="Switch",[tre]=Ai(gy),[nre,rre]=tre(gy),g4=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...f}=t,[h,m]=v.useState(null),w=Qe(e,T=>m(T)),g=v.useRef(!1),E=h?u||!!h.closest("form"):!0,[b,_]=vl({prop:i,defaultProp:s??!1,onChange:c,caller:gy});return p.jsxs(nre,{scope:n,checked:b,disabled:o,children:[p.jsx(Ae.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":w4(b),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:w,onClick:ve(t.onClick,T=>{_(R=>!R),E&&(g.current=T.isPropagationStopped(),g.current||T.stopPropagation())})}),E&&p.jsx(b4,{control:h,bubbles:!g.current,name:r,value:l,checked:b,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});g4.displayName=gy;var y4="SwitchThumb",v4=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=rre(y4,n);return p.jsx(Ae.span,{"data-state":w4(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});v4.displayName=y4;var ire="SwitchBubbleInput",b4=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=v.useRef(null),o=Qe(a,s),l=jT(n),c=x_(e);return v.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const w=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(w)}},[l,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});b4.displayName=ire;function w4(t){return t?"checked":"unchecked"}var _4=g4,sre=v4;const cw=v.forwardRef(({className:t,...e},n)=>p.jsx(_4,{className:$e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:p.jsx(sre,{className:$e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));cw.displayName=_4.displayName;const Xv=[" ALITAS (salsas a elegir)"," PIZZAS FAMILIARES"," HAMBURGUESAS"," TOQUE ORIENTAL"," SALCHIPAPAS"," JUGOS"," BEBIDAS"," TRAGOS"],WR=[];function are({tables:t=[],onSave:e}){const[n,r]=v.useState(t),[i,s]=v.useState(null),{showNotification:a}=Zs(),o=()=>{const h=[{id:`table-${Date.now()}-1`,number:1,x:30,y:15,seats:4,status:"available"},{id:`table-${Date.now()}-2`,number:2,x:70,y:15,seats:4,status:"available"},{id:`table-${Date.now()}-3`,number:3,x:20,y:35,seats:4,status:"available"},{id:`table-${Date.now()}-4`,number:4,x:40,y:35,seats:4,status:"available"},{id:`table-${Date.now()}-5`,number:5,x:60,y:35,seats:4,status:"available"},{id:`table-${Date.now()}-6`,number:6,x:80,y:35,seats:4,status:"available"},{id:`table-${Date.now()}-7`,number:7,x:50,y:55,seats:4,status:"available"},{id:`table-${Date.now()}-8`,number:8,x:35,y:65,seats:4,status:"available"},{id:`table-${Date.now()}-9`,number:9,x:65,y:65,seats:4,status:"available"},{id:`table-${Date.now()}-10`,number:10,x:50,y:75,seats:4,status:"available"},{id:`table-${Date.now()}-11`,number:11,x:35,y:85,seats:4,status:"available"},{id:`table-${Date.now()}-12`,number:12,x:65,y:85,seats:4,status:"available"}];r(h)},l=h=>{r(m=>m.filter((w,g)=>g!==h)),s(null)},c=(h,m,w)=>{r(g=>g.map((E,b)=>b===h?{...E,x:m,y:w}:E))},u=(h,m)=>{r(w=>w.map((g,E)=>E===h?{...g,number:m}:g))},f=()=>{e(n),a("xito","Configuracin de mesas guardada","success")};return p.jsx("div",{className:"space-y-4",children:p.jsxs(Ze,{children:[p.jsx(cr,{children:p.jsxs(ur,{className:"flex items-center justify-between",children:[p.jsx("span",{children:"Editor de Mesas"}),p.jsxs(Me,{onClick:o,size:"sm",variant:"outline",children:[p.jsx(Gj,{className:"w-4 h-4 mr-2"}),"Agregar Mesa"]})]})}),p.jsxs(et,{children:[p.jsx("div",{className:"relative h-[400px] border rounded-lg bg-gray-50",children:n.map((h,m)=>p.jsx("div",{className:`absolute p-4 cursor-move bg-white border rounded-lg shadow-sm ${i===m?"ring-2 ring-primary":""}`,style:{left:`${h.x}%`,top:`${h.y}%`,transform:"translate(-50%, -50%)",width:"60px",height:"40px"},onClick:()=>s(m),draggable:!0,onDragStart:w=>{w.dataTransfer.setData("text/plain",m.toString()),s(m)},children:p.jsx("div",{className:"text-center",children:p.jsxs("span",{className:"font-semibold",children:["Mesa ",h.number]})})},h.id))}),i!==null&&p.jsxs("div",{className:"mt-4 p-4 border rounded-lg",children:[p.jsxs("h4",{className:"font-semibold mb-2",children:["Mesa ",n[i].number]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm",children:"Nmero de Mesa"}),p.jsx(Ot,{type:"number",value:n[i].number,onChange:h=>u(i,Math.max(1,Number(h.target.value))),min:"1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm",children:"Asientos"}),p.jsx(Ot,{type:"number",value:n[i].seats,onChange:h=>r(m=>m.map((w,g)=>g===i?{...w,seats:Math.max(1,Number(h.target.value))}:w)),min:"1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm",children:"Posicin X (%)"}),p.jsx(Ot,{type:"number",value:n[i].x,onChange:h=>c(i,Math.min(100,Math.max(0,Number(h.target.value))),n[i].y),min:"0",max:"100"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm",children:"Posicin Y (%)"}),p.jsx(Ot,{type:"number",value:n[i].y,onChange:h=>c(i,n[i].x,Math.min(100,Math.max(0,Number(h.target.value)))),min:"0",max:"100"})]})]}),p.jsx("div",{className:"mt-4 flex justify-end gap-2",children:p.jsxs(Me,{variant:"destructive",size:"sm",onClick:()=>l(i),children:[p.jsx(oQ,{className:"w-4 h-4 mr-2"}),"Eliminar Mesa"]})})]}),p.jsx("div",{className:"mt-4 flex justify-end",children:p.jsxs(Me,{onClick:f,children:[p.jsx(lQ,{className:"w-4 h-4 mr-2"}),"Guardar Cambios"]})})]})]})})}function ore(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),{showNotification:i}=Zs();v.useEffect(()=>{(async()=>{try{const o=await YO(mo(Yt,"tables")),l=[];o.forEach(c=>{l.push({id:c.id,...c.data()})}),e(l)}catch(o){console.error("Error al cargar mesas:",o),i("Error","No se pudieron cargar las mesas","error")}finally{r(!1)}})()},[i]);const s=async a=>{try{const o=lY(Yt);a.forEach(l=>{const c=Or(Yt,"tables",l.id);o.set(c,l)}),await o.commit(),e(a),i("xito","Configuracin de mesas actualizada","success")}catch(o){console.error("Error al guardar mesas:",o),i("Error","No se pudo guardar la configuracin","error")}};return p.jsxs(Ze,{children:[p.jsxs(cr,{children:[p.jsx(ur,{children:"Configuracin de Mesas"}),p.jsx(Ja,{children:"Administra la disposicin y configuracin de las mesas del restaurante. Arrastra las mesas para cambiar su posicin o usa los controles para ajustes precisos."})]}),p.jsx(et,{children:n?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("p",{className:"text-muted-foreground",children:"Cargando mesas..."})}):p.jsx(are,{tables:t,onSave:s})})]})}function lre(){var ue,H,W,q;const[t,e]=v.useState([]),[n,r]=v.useState(!1);v.useEffect(()=>{(async()=>{r(!0);const L=await YO(mo(Yt,"users")),J=[];L.forEach(Q=>{const Z=Q.data();J.push({id:Q.id,name:Z.name,email:Z.email,role:Z.role})}),e(J),r(!1)})()},[]);const i=async(V,L)=>{await fu(Or(Yt,"users",V),{role:L}),e(t.map(J=>J.id===V?{...J,role:L}:J)),kn.success("Rol actualizado correctamente")},{user:s,logout:a}=ch(),{menu:o,addMenuItem:l,updateMenuItem:c,deleteMenuItem:u,loading:f}=Kj(),{orders:h,loading:m}=zE(),{showNotification:w}=Zs(),[g,E]=v.useState(!1),[b,_]=v.useState(null),[T,R]=v.useState({name:"",description:"",price:0,category:Xv[0],image:"",available:!0,alitasPrecios:[{sabor:"Al Panko",precios:{"6 und":20,"12 und":38,"16 und":49}},{sabor:"BBQ",precios:{"6 und":20,"12 und":38,"16 und":49}},{sabor:"Broaster",precios:{"6 und":20,"12 und":38,"16 und":49}},{sabor:"Acevichadas",precios:{"6 und":20,"12 und":38,"16 und":49}},{sabor:"Picantes",precios:{"6 und":20,"12 und":38,"16 und":49}},{sabor:"Maracumango",precios:{"6 und":20,"12 und":38,"16 und":49}},{sabor:"Anticucheras",precios:{"6 und":20,"12 und":38,"16 und":49}},{sabor:"Maracuya",precios:{"6 und":20,"12 und":38,"16 und":49}},{sabor:"Tocino",precios:{"6 und":20,"12 und":38,"16 und":49}}]}),P=()=>{R({name:"",description:"",price:0,category:Xv[0],image:"",available:!0,alitasPrecios:WR.map(V=>({sabor:V.sabor,precios:{...V.precios}}))}),_(null),E(!1)},k=async()=>{const V=T.category===" JUGOS",L=!!(T.jugosOpciones&&(T.jugosOpciones.clasico||T.jugosOpciones.conLeche));if(!T.name||!T.description||T.price<=0&&!(V&&L)){kn.error("Por favor completa todos los campos");return}await l(T)?(w(" Plato Agregado",`${T.name} se agreg al men`,"success"),P()):kn.error("Error al agregar el plato")},x=async()=>{const V=T.category===" JUGOS",L=!!(T.jugosOpciones&&(T.jugosOpciones.clasico||T.jugosOpciones.conLeche));if(!b||!T.name||!T.description||T.price<=0&&!(V&&L)){kn.error("Por favor completa todos los campos");return}await c(b.id,T)?(w(" Plato Actualizado",`${T.name} se actualiz correctamente`,"success"),P()):kn.error("Error al actualizar el plato")},A=async V=>{window.confirm(`Ests seguro de eliminar "${V.name}"?`)&&(await u(V.id)?w(" Plato Eliminado",`${V.name} se elimin del men`,"success"):kn.error("Error al eliminar el plato"))},C=V=>{_(V);const L=V,J="jugosOpciones"in L?L.jugosOpciones:void 0,Q="sabores"in L?L.sabores:void 0;R({name:V.name,description:V.description,price:V.price,category:V.category,image:V.image,available:V.available,jugosOpciones:J,sabores:Q,alitasPrecios:V.alitasPrecios||WR.map(Z=>({sabor:Z.sabor,precios:{...Z.precios}}))}),E(!0)},I=h.filter(V=>{const L=new Date;return new Date(V.timestamp).toDateString()===L.toDateString()}),D=I.reduce((V,L)=>V+L.total,0),O=h.filter(V=>V.status==="pending").length,M=I.length>0?D/I.length:0,ee=V=>{const J={pending:{label:"Pendiente",className:"status-pending"},preparing:{label:"En Preparacin",className:"status-preparing"},ready:{label:"Listo",className:"status-ready"},delivered:{label:"Entregado",className:"bg-gray-500 text-white"}}[V];return p.jsx(Ko,{className:J.className,children:J.label})};return f||m?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"glass-card p-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),p.jsx("p",{className:"text-center mt-4 text-gray-600",children:"Cargando panel administrativo..."})]})}):p.jsxs("div",{className:"min-h-screen p-4 w-full max-w-7xl mx-auto flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:"/assets/logo.png",alt:"El Fundo Fast Food",className:"w-10 h-10 rounded-lg",onError:V=>{V.currentTarget.style.display="none"}}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Panel Administrativo"}),p.jsxs("p",{className:"text-gray-600",children:["Bienvenido, ",s==null?void 0:s.name]})]})]}),p.jsxs(Me,{onClick:a,variant:"outline",className:"rounded-xl",children:[p.jsx(BE,{className:"w-4 h-4 mr-2"}),"Salir"]})]}),p.jsxs(zj,{defaultValue:"dashboard",className:"w-full",children:[p.jsxs(FE,{className:"grid w-full grid-cols-4 mb-6",children:[p.jsx(Is,{value:"dashboard",children:"Dashboard"}),p.jsx(Is,{value:"menu",children:"Gestin de Men"}),p.jsx(Is,{value:"tables",children:"Gestin de Mesas"}),p.jsx(Is,{value:"orders",children:"Pedidos"})]}),p.jsxs(Ns,{value:"dashboard",className:"space-y-6",children:[p.jsxs(Ze,{className:"glass-card border-0 mt-4",children:[p.jsxs(cr,{children:[p.jsxs(ur,{className:"flex items-center gap-2",children:[p.jsx($j,{className:"w-5 h-5"}),"Usuarios registrados"]}),p.jsx(Ja,{children:"El administrador puede cambiar el rol de cada usuario"})]}),p.jsx(et,{children:n?p.jsx("p",{className:"text-center text-gray-500",children:"Cargando usuarios..."}):t.length===0?p.jsx("p",{className:"text-center text-gray-500",children:"No hay usuarios registrados"}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-2 px-4",children:"Nombre"}),p.jsx("th",{className:"py-2 px-4",children:"Email"}),p.jsx("th",{className:"py-2 px-4",children:"Rol"}),p.jsx("th",{className:"py-2 px-4",children:"Accin"})]})}),p.jsx("tbody",{children:t.map(V=>p.jsxs("tr",{className:"border-b",children:[p.jsx("td",{className:"py-2 px-4",children:V.name}),p.jsx("td",{className:"py-2 px-4",children:V.email}),p.jsx("td",{className:"py-2 px-4",children:p.jsxs("select",{value:V.role,onChange:L=>i(V.id,L.target.value),className:"rounded-xl border-orange-200 focus:border-orange-400 focus:ring-orange-400 p-2",children:[p.jsx("option",{value:"admin",children:"Administrador"}),p.jsx("option",{value:"waiter",children:"Mesero"}),p.jsx("option",{value:"kitchen",children:"Cocina"})]})}),p.jsx("td",{className:"py-2 px-4",children:p.jsx("span",{className:"text-xs text-gray-500",children:V.role==="admin"?"Puede cambiar roles":""})})]},V.id))})]})})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsx(Ze,{className:"glass-card border-0",children:p.jsx(et,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Ventas Hoy"}),p.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["S/ ",D.toFixed(2)]})]}),p.jsx(aQ,{className:"w-8 h-8 text-green-500"})]})})}),p.jsx(Ze,{className:"glass-card border-0",children:p.jsx(et,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Hoy"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.length})]}),p.jsx(cQ,{className:"w-8 h-8 text-blue-500"})]})})}),p.jsx(Ze,{className:"glass-card border-0",children:p.jsx(et,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),p.jsx("p",{className:"text-2xl font-bold text-orange-600",children:O})]}),p.jsx(ka,{className:"w-8 h-8 text-orange-500"})]})})}),p.jsx(Ze,{className:"glass-card border-0",children:p.jsx(et,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Ticket Promedio"}),p.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["S/ ",M.toFixed(2)]})]}),p.jsx(fQ,{className:"w-8 h-8 text-purple-500"})]})})})]}),p.jsxs(Ze,{className:"glass-card border-0",children:[p.jsxs(cr,{children:[p.jsxs(ur,{className:"flex items-center gap-2",children:[p.jsx(nQ,{className:"w-5 h-5"}),"Pedidos Recientes"]}),p.jsx(Ja,{children:"ltimos 10 pedidos del da"})]}),p.jsx(et,{children:p.jsx(dl,{className:"h-64",children:I.length===0?p.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hay pedidos hoy"}):p.jsx("div",{className:"space-y-3",children:I.sort((V,L)=>new Date(L.timestamp).getTime()-new Date(V.timestamp).getTime()).slice(0,10).map(V=>p.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-medium",children:["Mesa ",V.tableNumber," - ",V.waiterName]}),p.jsxs("p",{className:"text-sm text-gray-600",children:[V.items.length," platos - ",new Date(V.timestamp).toLocaleTimeString()]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-semibold",children:["S/ ",V.total.toFixed(2)]}),ee(V.status)]})]},V.id))})})})]})]}),p.jsx(Ns,{value:"tables",children:p.jsx(ore,{})}),p.jsxs(Ns,{value:"menu",className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gestin de Men"}),p.jsxs(hk,{open:g,onOpenChange:E,children:[p.jsx(lne,{asChild:!0,children:p.jsxs(Me,{className:"btn-fundo",onClick:()=>E(!0),children:[p.jsx(Gj,{className:"w-4 h-4 mr-2"}),"Agregar Plato"]})}),p.jsxs(DT,{className:"max-w-md",children:[p.jsxs(PT,{children:[p.jsx(MT,{children:b?"Editar Plato":"Agregar Nuevo Plato"}),p.jsx(OT,{children:b?"Modifica los datos del plato":"Completa la informacin del nuevo plato"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(wn,{htmlFor:"name",children:"Nombre del Plato"}),p.jsx(Ot,{id:"name",value:T.name,onChange:V=>R({...T,name:V.target.value}),placeholder:"Ej: Hamburguesa Clsica"})]}),p.jsxs("div",{children:[p.jsx(wn,{htmlFor:"description",children:"Descripcin"}),p.jsx(LT,{id:"description",value:T.description,onChange:V=>R({...T,description:V.target.value}),placeholder:"Describe los ingredientes y caractersticas"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(wn,{htmlFor:"price",children:"Precio (S/)"}),p.jsx(Ot,{id:"price",type:"number",step:"0.50",value:T.price,onChange:V=>R({...T,price:parseFloat(V.target.value)}),placeholder:"0.00"})]}),p.jsxs("div",{children:[p.jsx(wn,{htmlFor:"category",children:"Categora"}),p.jsxs(Xne,{value:T.category,onValueChange:V=>R({...T,category:V}),children:[p.jsx(d4,{children:p.jsx(Zne,{})}),p.jsx(m4,{children:Xv.map(V=>p.jsx(p4,{value:V,children:V},V))})]})]})]}),T.category===" JUGOS"&&p.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-green-50 border border-green-200",children:[p.jsx("h4",{className:"font-semibold text-green-700 mb-2",children:"Opciones y precios de jugos"}),p.jsxs("div",{className:"mb-2 grid grid-cols-2 gap-2 items-center",children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Clsico"}),p.jsx(Ot,{type:"number",step:"0.50",min:"0",value:((ue=T.jugosOpciones)==null?void 0:ue.clasico)??"",onChange:V=>R({...T,jugosOpciones:{...T.jugosOpciones,clasico:parseFloat(V.target.value)}}),className:"rounded-xl",placeholder:"Clsico"})]}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Ofrecer opcin con leche?"}),p.jsx(cw,{checked:!!((H=T.jugosOpciones)!=null&&H.conLeche),onCheckedChange:V=>{var L;R({...T,jugosOpciones:{...T.jugosOpciones,conLeche:V?((L=T.jugosOpciones)==null?void 0:L.conLeche)??0:void 0}})}})]}),((W=T.jugosOpciones)==null?void 0:W.conLeche)!==void 0&&p.jsxs("div",{className:"mb-2 grid grid-cols-2 gap-2 items-center",children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Con leche"}),p.jsx(Ot,{type:"number",step:"0.50",min:"0",value:((q=T.jugosOpciones)==null?void 0:q.conLeche)??"",onChange:V=>R({...T,jugosOpciones:{...T.jugosOpciones,conLeche:parseFloat(V.target.value)}}),className:"rounded-xl",placeholder:"Con leche"})]}),p.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Edita los precios para jugos con leche solo si corresponde."})]}),T.category===" ALITAS (salsas a elegir)"&&p.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-orange-50 border border-orange-200 space-y-6",children:[p.jsx("h4",{className:"font-semibold text-orange-700 mb-2",children:"Sabores de alitas"}),(T.sabores||[]).map((V,L)=>p.jsxs("div",{className:"mb-2 flex gap-2 items-center",children:[p.jsx(Ot,{value:V,onChange:J=>{const Q=(T.sabores||[]).map((Z,le)=>le===L?J.target.value:Z);R({...T,sabores:Q})},className:"rounded-xl",placeholder:"Sabor"}),p.jsx(Me,{size:"sm",variant:"destructive",onClick:()=>{const J=(T.sabores||[]).filter((Q,Z)=>Z!==L);R({...T,sabores:J})},children:"Eliminar"})]},V+"-"+L)),p.jsx(Me,{size:"sm",variant:"outline",onClick:()=>R({...T,sabores:[...T.sabores||[],""]}),children:"Agregar sabor"}),p.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Edita la lista de sabores disponibles para las alitas. Las unidades y precios se eligen en el panel del mesero."})]}),p.jsxs("div",{children:[p.jsx(wn,{htmlFor:"image",children:"URL de Imagen"}),p.jsx(Ot,{id:"image",value:T.image,onChange:V=>R({...T,image:V.target.value}),placeholder:"https://ejemplo.com/imagen.jpg"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(cw,{id:"available",checked:T.available,onCheckedChange:V=>R({...T,available:V})}),p.jsx(wn,{htmlFor:"available",children:"Disponible"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Me,{onClick:P,variant:"outline",className:"flex-1",children:"Cancelar"}),p.jsx(Me,{onClick:b?x:k,className:"flex-1 btn-fundo",children:b?"Actualizar":"Agregar"})]})]})]})]})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(V=>p.jsx(Ze,{className:"product-card",children:p.jsx(et,{className:"p-4",children:p.jsxs("div",{className:"flex gap-4",children:[V.image?p.jsx("img",{src:V.image,alt:V.name,className:"w-20 h-20 rounded-xl object-cover"}):null,p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"font-semibold text-gray-800",children:V.name}),p.jsx(Ko,{variant:V.available?"default":"secondary",children:V.available?"Disponible":"No disponible"})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:V.description}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["S/ ",V.price.toFixed(2)]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(Me,{size:"sm",variant:"outline",onClick:()=>C(V),children:p.jsx(uQ,{className:"w-3 h-3"})}),p.jsx(Me,{size:"sm",variant:"destructive",onClick:()=>A(V),children:p.jsx(dQ,{className:"w-3 h-3"})})]})]})]})]})})},V.id))})]}),p.jsxs(Ns,{value:"orders",className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Historial de Pedidos"}),p.jsx(dl,{className:"h-96",children:h.length===0?p.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hay pedidos registrados"}):p.jsx("div",{className:"space-y-4",children:h.sort((V,L)=>new Date(L.timestamp).getTime()-new Date(V.timestamp).getTime()).map(V=>p.jsx(Ze,{className:"glass-card border-0",children:p.jsxs(et,{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-semibold text-gray-800",children:["Pedido #",V.id.slice(-6)," - Mesa ",V.tableNumber]}),p.jsxs("p",{className:"text-sm text-gray-600",children:[V.waiterName," - ",new Date(V.timestamp).toLocaleString()]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-semibold text-lg",children:["S/ ",V.total.toFixed(2)]}),ee(V.status)]})]}),p.jsx("div",{className:"space-y-1",children:V.items.map((L,J)=>{var Q,Z;return p.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[p.jsxs("span",{children:[L.quantity,"x ",((Q=L.menuItem)==null?void 0:Q.name)??"Producto no encontrado"]}),p.jsxs("span",{children:["S/ ",((((Z=L.menuItem)==null?void 0:Z.price)??0)*L.quantity).toFixed(2)]})]},J)})})]})},V.id))})})]})]})]})}function cre(){const{user:t,isAuthenticated:e,loading:n}=ch();if(n)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"glass-card p-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),p.jsx("p",{className:"text-center mt-4 text-gray-600",children:"Cargando El Fundo Fast Food..."})]})});if(!e)return p.jsx(TC,{});switch(t==null?void 0:t.role){case"admin":return p.jsx(lre,{});case"waiter":return p.jsx(_ne,{});case"kitchen":return p.jsx(Ene,{});default:return p.jsx(TC,{})}}function ure(){return p.jsx("div",{className:"w-full max-w-7xl mx-auto p-8",children:p.jsx(MW,{children:p.jsx(cre,{})})})}function dre(){return p.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-16 text-center",children:p.jsxs("div",{className:"space-y-6 max-w-2xl",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),p.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),p.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[p.jsx(Me,{asChild:!0,children:p.jsx("a",{href:"/",children:"Return Home"})}),p.jsx(Me,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const fre=new J9,hre=()=>p.jsx(t8,{client:fre,children:p.jsxs(A9,{children:[p.jsx(VF,{}),p.jsxs(q3,{children:[p.jsx(X0,{path:"/",element:p.jsx(ure,{})}),p.jsx(X0,{path:"*",element:p.jsx(dre,{})})]})]})}),mre=K3([{path:"/*",element:p.jsx(hre,{})}],{future:{}}),pre=()=>p.jsx(nF,{router:mre});D6.createRoot(document.getElementById("root")).render(p.jsx(pre,{}));
